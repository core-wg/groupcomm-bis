<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Group Communication for the Constrained Application Protocol (CoAP)</title>
<meta content="Esko Dijk" name="author">
<meta content="Marco Tiloca" name="author">
<meta content="
       The Constrained Application Protocol (CoAP) is a web transfer protocol for constrained devices and constrained networks. In a number of use cases, constrained devices often naturally operate in groups (e.g., in a building automation scenario, all lights in a given room may need to be switched on/off as a group). This document specifies the use of CoAP for group communication, including the use of UDP/IP multicast as the default underlying data transport. Both unsecured and secured CoAP group communication are specified. Security is achieved by use of the Group Object Security for Constrained RESTful Environments (Group OSCORE) protocol. The target application area of this specification is any group communication use cases that involve resource-constrained devices or networks that support CoAP. This document replaces and obsoletes RFC 7390, while it updates RFC 7252 and RFC 7641. 
    " name="description">
<meta content="xml2rfc 3.30.1" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-core-groupcomm-bis-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.30.1
    Python 3.12.11
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 5.3.1
    platformdirs 4.4.0
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.5
    setuptools 80.9.0
    wcwidth 0.2.13
-->
<link href="draft-ietf-core-groupcomm-bis.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl:not(.dlNewline) > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Group Communication for CoAP</td>
<td class="right">September 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Dijk &amp; Tiloca</td>
<td class="center">Expires 13 March 2026</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">CoRE Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-core-groupcomm-bis-latest</dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a href="https://www.rfc-editor.org/rfc/rfc7390" class="eref">7390</a> (if approved)</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc7252" class="eref">7252</a>, <a href="https://www.rfc-editor.org/rfc/rfc7641" class="eref">7641</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-09-09" class="published">9 September 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2026-03-13">13 March 2026</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">E. Dijk</div>
<div class="org">IoTconsultancy.nl</div>
</div>
<div class="author">
      <div class="author-name">M. Tiloca</div>
<div class="org">RISE AB</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Group Communication for the Constrained Application Protocol (CoAP)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">The Constrained Application Protocol (CoAP) is a web transfer protocol for constrained devices and constrained networks. In a number of use cases, constrained devices often naturally operate in groups (e.g., in a building automation scenario, all lights in a given room may need to be switched on/off as a group). This document specifies the use of CoAP for group communication, including the use of UDP/IP multicast as the default underlying data transport. Both unsecured and secured CoAP group communication are specified. Security is achieved by use of the Group Object Security for Constrained RESTful Environments (Group OSCORE) protocol. The target application area of this specification is any group communication use cases that involve resource-constrained devices or networks that support CoAP. This document replaces and obsoletes RFC 7390, while it updates RFC 7252 and RFC 7641.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-ietf-core-groupcomm-bis/">https://datatracker.ietf.org/doc/draft-ietf-core-groupcomm-bis/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        Constrained RESTful Environments Working Group mailing list (<span><a href="mailto:core@ietf.org">mailto:core@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/core/">https://mailarchive.ietf.org/arch/browse/core/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/core/">https://www.ietf.org/mailman/listinfo/core/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/core-wg/groupcomm-bis">https://github.com/core-wg/groupcomm-bis</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 13 March 2026.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-scope" class="internal xref">Scope</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="auto internal xref">1.3</a>.  <a href="#name-changes-to-other-documents" class="internal xref">Changes to Other Documents</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-types-of-groups-and-their-c" class="internal xref">Types of Groups and Their Configuration</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-types-of-groups" class="internal xref">Types of Groups</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1.2.1">
                    <p id="section-toc.1-1.2.2.1.2.1.1"><a href="#section-2.1.1" class="auto internal xref">2.1.1</a>.  <a href="#name-coap-group" class="internal xref">CoAP Group</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1.2.2">
                    <p id="section-toc.1-1.2.2.1.2.2.1"><a href="#section-2.1.2" class="auto internal xref">2.1.2</a>.  <a href="#name-application-group" class="internal xref">Application Group</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1.2.3">
                    <p id="section-toc.1-1.2.2.1.2.3.1"><a href="#section-2.1.3" class="auto internal xref">2.1.3</a>.  <a href="#name-security-group" class="internal xref">Security Group</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1.2.4">
                    <p id="section-toc.1-1.2.2.1.2.4.1"><a href="#section-2.1.4" class="auto internal xref">2.1.4</a>.  <a href="#name-relationships-between-group" class="internal xref">Relationships Between Group Types</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-group-configuration" class="internal xref">Group Configuration</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.1">
                    <p id="section-toc.1-1.2.2.2.2.1.1"><a href="#section-2.2.1" class="auto internal xref">2.2.1</a>.  <a href="#name-group-naming" class="internal xref">Group Naming</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.2">
                    <p id="section-toc.1-1.2.2.2.2.2.1"><a href="#section-2.2.2" class="auto internal xref">2.2.2</a>.  <a href="#name-group-creation-and-membersh" class="internal xref">Group Creation and Membership</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.3">
                    <p id="section-toc.1-1.2.2.2.2.3.1"><a href="#section-2.2.3" class="auto internal xref">2.2.3</a>.  <a href="#name-group-discovery" class="internal xref">Group Discovery</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.4">
                    <p id="section-toc.1-1.2.2.2.2.4.1"><a href="#section-2.2.4" class="auto internal xref">2.2.4</a>.  <a href="#name-group-maintenance" class="internal xref">Group Maintenance</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-coap-usage-in-group-communi" class="internal xref">CoAP Usage in Group Communication</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-request-response-model" class="internal xref">Request/Response Model</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="auto internal xref">3.1.1</a>.  <a href="#name-general" class="internal xref">General</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="auto internal xref">3.1.2</a>.  <a href="#name-response-suppression" class="internal xref">Response Suppression</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.3">
                    <p id="section-toc.1-1.3.2.1.2.3.1"><a href="#section-3.1.3" class="auto internal xref">3.1.3</a>.  <a href="#name-repeating-a-request" class="internal xref">Repeating a Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.4">
                    <p id="section-toc.1-1.3.2.1.2.4.1"><a href="#section-3.1.4" class="auto internal xref">3.1.4</a>.  <a href="#name-request-response-matching-a" class="internal xref">Request/Response Matching and Distinguishing Responses</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.5">
                    <p id="section-toc.1-1.3.2.1.2.5.1"><a href="#section-3.1.5" class="auto internal xref">3.1.5</a>.  <a href="#name-token-reuse" class="internal xref">Token Reuse</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.6">
                    <p id="section-toc.1-1.3.2.1.2.6.1"><a href="#section-3.1.6" class="auto internal xref">3.1.6</a>.  <a href="#name-client-handling-of-multiple" class="internal xref">Client Handling of Multiple Responses With Same Token</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-caching" class="internal xref">Caching</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="auto internal xref">3.2.1</a>.  <a href="#name-freshness-model" class="internal xref">Freshness Model</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a href="#section-3.2.2" class="auto internal xref">3.2.2</a>.  <a href="#name-validation-model" class="internal xref">Validation Model</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-uri-path-selection" class="internal xref">URI Path Selection</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-port-selection-for-udp-tran" class="internal xref">Port Selection for UDP Transport</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-proxy-operation" class="internal xref">Proxy Operation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.1">
                    <p id="section-toc.1-1.3.2.5.2.1.1"><a href="#section-3.5.1" class="auto internal xref">3.5.1</a>.  <a href="#name-forward-proxies" class="internal xref">Forward-Proxies</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.2">
                    <p id="section-toc.1-1.3.2.5.2.2.1"><a href="#section-3.5.2" class="auto internal xref">3.5.2</a>.  <a href="#name-reverse-proxies" class="internal xref">Reverse-Proxies</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.3">
                    <p id="section-toc.1-1.3.2.5.2.3.1"><a href="#section-3.5.3" class="auto internal xref">3.5.3</a>.  <a href="#name-single-group-request-to-mul" class="internal xref">Single Group Request to Multiple Proxies</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="auto internal xref">3.6</a>.  <a href="#name-congestion-control" class="internal xref">Congestion Control</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a href="#section-3.7" class="auto internal xref">3.7</a>.  <a href="#name-observing-resources" class="internal xref">Observing Resources</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.8">
                <p id="section-toc.1-1.3.2.8.1"><a href="#section-3.8" class="auto internal xref">3.8</a>.  <a href="#name-block-wise-transfer" class="internal xref">Block-Wise Transfer</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.9">
                <p id="section-toc.1-1.3.2.9.1"><a href="#section-3.9" class="auto internal xref">3.9</a>.  <a href="#name-transport-protocols" class="internal xref">Transport Protocols</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.9.2.1">
                    <p id="section-toc.1-1.3.2.9.2.1.1"><a href="#section-3.9.1" class="auto internal xref">3.9.1</a>.  <a href="#name-udp-ipv6-multicast-transpor" class="internal xref">UDP/IPv6 Multicast Transport</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.9.2.2">
                    <p id="section-toc.1-1.3.2.9.2.2.1"><a href="#section-3.9.2" class="auto internal xref">3.9.2</a>.  <a href="#name-udp-ipv6-multicast-transport" class="internal xref">UDP/IPv6 Multicast Transport over 6LoWPAN</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.9.2.3">
                    <p id="section-toc.1-1.3.2.9.2.3.1"><a href="#section-3.9.3" class="auto internal xref">3.9.3</a>.  <a href="#name-udp-ipv4-multicast-transpor" class="internal xref">UDP/IPv4 Multicast Transport</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.9.2.4">
                    <p id="section-toc.1-1.3.2.9.2.4.1"><a href="#section-3.9.4" class="auto internal xref">3.9.4</a>.  <a href="#name-tcp-tls-and-websockets" class="internal xref">TCP, TLS, and WebSockets</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.9.2.5">
                    <p id="section-toc.1-1.3.2.9.2.5.1"><a href="#section-3.9.5" class="auto internal xref">3.9.5</a>.  <a href="#name-other-transports" class="internal xref">Other Transports</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.10">
                <p id="section-toc.1-1.3.2.10.1"><a href="#section-3.10" class="auto internal xref">3.10</a>. <a href="#name-interworking-with-other-pro" class="internal xref">Interworking with Other Protocols</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.10.2.1">
                    <p id="section-toc.1-1.3.2.10.2.1.1"><a href="#section-3.10.1" class="auto internal xref">3.10.1</a>.  <a href="#name-mldv2-and-igmpv3" class="internal xref">MLDv2 and IGMPv3</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.10.2.2">
                    <p id="section-toc.1-1.3.2.10.2.2.1"><a href="#section-3.10.2" class="auto internal xref">3.10.2</a>.  <a href="#name-rpl" class="internal xref">RPL</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.10.2.3">
                    <p id="section-toc.1-1.3.2.10.2.3.1"><a href="#section-3.10.3" class="auto internal xref">3.10.3</a>.  <a href="#name-mpl" class="internal xref">MPL</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-unsecured-group-communicati" class="internal xref">Unsecured Group Communication (NoSec Mode)</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-secured-group-communication" class="internal xref">Secured Group Communication using Group OSCORE</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-group-oscore" class="internal xref">Group OSCORE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-secure-group-maintenance" class="internal xref">Secure Group Maintenance</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-proxy-security" class="internal xref">Proxy Security</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-coap-nosec-mode" class="internal xref">CoAP NoSec Mode</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-group-oscore-2" class="internal xref">Group OSCORE</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="auto internal xref">6.2.1</a>.  <a href="#name-group-key-management" class="internal xref">Group Key Management</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="auto internal xref">6.2.2</a>.  <a href="#name-source-authentication" class="internal xref">Source Authentication</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="auto internal xref">6.2.3</a>.  <a href="#name-countering-attacks" class="internal xref">Countering Attacks</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-risk-of-amplification" class="internal xref">Risk of Amplification</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-replay-of-group-requests" class="internal xref">Replay of Group Requests</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="auto internal xref">6.5</a>.  <a href="#name-use-of-coap-no-response-opt" class="internal xref">Use of CoAP No-Response Option</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="auto internal xref">6.6</a>.  <a href="#name-6lowpan-and-mpl" class="internal xref">6LoWPAN and MPL</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7">
                <p id="section-toc.1-1.6.2.7.1"><a href="#section-6.7" class="auto internal xref">6.7</a>.  <a href="#name-wi-fi" class="internal xref">Wi-Fi</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8">
                <p id="section-toc.1-1.6.2.8.1"><a href="#section-6.8" class="auto internal xref">6.8</a>.  <a href="#name-monitoring" class="internal xref">Monitoring</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.1">
                    <p id="section-toc.1-1.6.2.8.2.1.1"><a href="#section-6.8.1" class="auto internal xref">6.8.1</a>.  <a href="#name-general-monitoring" class="internal xref">General Monitoring</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.2">
                    <p id="section-toc.1-1.6.2.8.2.2.1"><a href="#section-6.8.2" class="auto internal xref">6.8.2</a>.  <a href="#name-pervasive-monitoring" class="internal xref">Pervasive Monitoring</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-use-cases" class="internal xref">Use Cases</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-discovery" class="internal xref">Discovery</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1.2.1">
                    <p id="section-toc.1-1.9.2.1.2.1.1"><a href="#appendix-A.1.1" class="auto internal xref">A.1.1</a>.  <a href="#name-distributed-device-discover" class="internal xref">Distributed Device Discovery</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1.2.2">
                    <p id="section-toc.1-1.9.2.1.2.2.1"><a href="#appendix-A.1.2" class="auto internal xref">A.1.2</a>.  <a href="#name-distributed-service-discove" class="internal xref">Distributed Service Discovery</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1.2.3">
                    <p id="section-toc.1-1.9.2.1.2.3.1"><a href="#appendix-A.1.3" class="auto internal xref">A.1.3</a>.  <a href="#name-directory-discovery" class="internal xref">Directory Discovery</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#appendix-A.2" class="auto internal xref">A.2</a>.  <a href="#name-operational-phase" class="internal xref">Operational Phase</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.1">
                    <p id="section-toc.1-1.9.2.2.2.1.1"><a href="#appendix-A.2.1" class="auto internal xref">A.2.1</a>.  <a href="#name-actuator-group-control" class="internal xref">Actuator Group Control</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.2">
                    <p id="section-toc.1-1.9.2.2.2.2.1"><a href="#appendix-A.2.2" class="auto internal xref">A.2.2</a>.  <a href="#name-device-group-status-request" class="internal xref">Device Group Status Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.3">
                    <p id="section-toc.1-1.9.2.2.2.3.1"><a href="#appendix-A.2.3" class="auto internal xref">A.2.3</a>.  <a href="#name-network-wide-query" class="internal xref">Network-wide Query</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.4">
                    <p id="section-toc.1-1.9.2.2.2.4.1"><a href="#appendix-A.2.4" class="auto internal xref">A.2.4</a>.  <a href="#name-network-wide-group-notifica" class="internal xref">Network-wide / Group Notification</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#appendix-A.3" class="auto internal xref">A.3</a>.  <a href="#name-software-update" class="internal xref">Software Update</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-examples-of-group-naming-fo" class="internal xref">Examples of Group Naming for Application Groups</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#appendix-B.1" class="auto internal xref">B.1</a>.  <a href="#name-group-naming-using-the-uri-" class="internal xref">Group Naming using the URI Path Component</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#appendix-B.2" class="auto internal xref">B.2</a>.  <a href="#name-group-naming-using-the-uri-q" class="internal xref">Group Naming using the URI Query Component</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#appendix-B.3" class="auto internal xref">B.3</a>.  <a href="#name-group-naming-using-the-uri-a" class="internal xref">Group Naming using the URI Authority Component</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-C" class="auto internal xref">Appendix C</a>.  <a href="#name-examples-of-group-discovery" class="internal xref">Examples of Group Discovery from CoAP Servers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#appendix-C.1" class="auto internal xref">C.1</a>.  <a href="#name-application-groups-associat" class="internal xref">Application Groups Associated with a CoAP Group</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#appendix-C.2" class="auto internal xref">C.2</a>.  <a href="#name-members-of-a-given-applicat" class="internal xref">Members of a Given Application Group</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#appendix-C.3" class="auto internal xref">C.3</a>.  <a href="#name-members-of-any-application-" class="internal xref">Members of any Application Group of a Given Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1"><a href="#appendix-C.4" class="auto internal xref">C.4</a>.  <a href="#name-members-of-any-application-g" class="internal xref">Members of any Application Group in the Network</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-D" class="auto internal xref">Appendix D</a>.  <a href="#name-examples-of-message-exchang" class="internal xref">Examples of Message Exchanges</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-E" class="auto internal xref">Appendix E</a>.  <a href="#name-issues-and-limitations-with" class="internal xref">Issues and Limitations with Forward-Proxies</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-F" class="auto internal xref">Appendix F</a>.  <a href="#name-issues-and-limitations-with-" class="internal xref">Issues and Limitations with Reverse-Proxies</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-G" class="auto internal xref">Appendix G</a>.  <a href="#name-document-updates" class="internal xref">Document Updates</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.1">
                <p id="section-toc.1-1.15.2.1.1"><a href="#appendix-G.1" class="auto internal xref">G.1</a>.  <a href="#name-version-13-to-14" class="internal xref">Version -13 to -14</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.2">
                <p id="section-toc.1-1.15.2.2.1"><a href="#appendix-G.2" class="auto internal xref">G.2</a>.  <a href="#name-version-12-to-13" class="internal xref">Version -12 to -13</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.3">
                <p id="section-toc.1-1.15.2.3.1"><a href="#appendix-G.3" class="auto internal xref">G.3</a>.  <a href="#name-version-11-to-12" class="internal xref">Version -11 to -12</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.4">
                <p id="section-toc.1-1.15.2.4.1"><a href="#appendix-G.4" class="auto internal xref">G.4</a>.  <a href="#name-version-10-to-11" class="internal xref">Version -10 to -11</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.5">
                <p id="section-toc.1-1.15.2.5.1"><a href="#appendix-G.5" class="auto internal xref">G.5</a>.  <a href="#name-version-09-to-10" class="internal xref">Version -09 to -10</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.6">
                <p id="section-toc.1-1.15.2.6.1"><a href="#appendix-G.6" class="auto internal xref">G.6</a>.  <a href="#name-version-08-to-09" class="internal xref">Version -08 to -09</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.7">
                <p id="section-toc.1-1.15.2.7.1"><a href="#appendix-G.7" class="auto internal xref">G.7</a>.  <a href="#name-version-07-to-08" class="internal xref">Version -07 to -08</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.8">
                <p id="section-toc.1-1.15.2.8.1"><a href="#appendix-G.8" class="auto internal xref">G.8</a>.  <a href="#name-version-06-to-07" class="internal xref">Version -06 to -07</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.9">
                <p id="section-toc.1-1.15.2.9.1"><a href="#appendix-G.9" class="auto internal xref">G.9</a>.  <a href="#name-version-05-to-06" class="internal xref">Version -05 to -06</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.10">
                <p id="section-toc.1-1.15.2.10.1"><a href="#appendix-G.10" class="auto internal xref">G.10</a>. <a href="#name-version-04-to-05" class="internal xref">Version -04 to -05</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.11">
                <p id="section-toc.1-1.15.2.11.1"><a href="#appendix-G.11" class="auto internal xref">G.11</a>. <a href="#name-version-03-to-04" class="internal xref">Version -03 to -04</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.12">
                <p id="section-toc.1-1.15.2.12.1"><a href="#appendix-G.12" class="auto internal xref">G.12</a>. <a href="#name-version-02-to-03" class="internal xref">Version -02 to -03</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.13">
                <p id="section-toc.1-1.15.2.13.1"><a href="#appendix-G.13" class="auto internal xref">G.13</a>. <a href="#name-version-01-to-02" class="internal xref">Version -01 to -02</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.14">
                <p id="section-toc.1-1.15.2.14.1"><a href="#appendix-G.14" class="auto internal xref">G.14</a>. <a href="#name-version-00-to-01" class="internal xref">Version -00 to -01</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-H" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#appendix-I" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="chap-intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The Constrained Application Protocol (CoAP) <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> is a web transfer protocol based on Representational State Transfer (REST) that is used in resource-constrained devices and in resource-constrained networks where packet sizes should be small. This area of use is summarized as Constrained RESTful Environments (CoRE). CoAP has many similarities to HTTP <span>[<a href="#RFC9110" class="cite xref">RFC9110</a>]</span><span>[<a href="#RFC9112" class="cite xref">RFC9112</a>]</span> but also some key differences.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">In a number of use cases, constrained devices can be large in number as well as often related to each other in function or by location. For example, in a building automation scenario, all the light switches in a building may belong to one group, and all the thermostats may belong to another group. Groups may be preconfigured before deployment or dynamically formed during operation. If information needs to be sent to or received from a group of devices, group communication mechanisms can improve efficiency and latency of communication and reduce bandwidth requirements for a given application. While CoAP supports group communication via multicast requests (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8" class="relref">Section 8</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>), HTTP does not support any equivalent functionality.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This document specifies the use of CoAP for group communication, together with UDP/IP multicast as the default transport for CoAP group communication messages.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">One-to-many group communication can be achieved in CoAP, by a client using UDP/IP multicast data transport to send multicast CoAP request messages. In response, each server in the addressed group sends a response message back to the client over UDP/IP unicast. Notable CoAP implementations that support group communication include "Eclipse Californium" <span>[<a href="#Californium" class="cite xref">Californium</a>]</span>, "Go-CoAP" <span>[<a href="#Go-CoAP" class="cite xref">Go-CoAP</a>]</span> as well as "libcoap" <span>[<a href="#libcoap" class="cite xref">libcoap</a>]</span>.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">Both unsecured and secured CoAP group communication are specified in this document. Security is achieved by using Group Object Security for Constrained RESTful Environments (Group OSCORE) <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>, which in turn builds on Object Security for Constrained Restful Environments (OSCORE) <span>[<a href="#RFC8613" class="cite xref">RFC8613</a>]</span>. This method provides end-to-end application-layer security protection of CoAP messages, by using CBOR Object Signing and Encryption (COSE) <span>[<a href="#RFC9052" class="cite xref">RFC9052</a>]</span><span>[<a href="#RFC9053" class="cite xref">RFC9053</a>]</span>.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">This document replaces and obsoletes <span>[<a href="#RFC7390" class="cite xref">RFC7390</a>]</span>, while it updates both <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> and <span>[<a href="#RFC7641" class="cite xref">RFC7641</a>]</span>. A summary of the changes and additions to these documents is provided in <a href="#changes" class="auto internal xref">Section 1.3</a>.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">All sections in the body of this document are normative, while appendices are informative. For additional background about use cases for CoAP group communication in resource-constrained devices and networks, see <a href="#appendix-usecases" class="auto internal xref">Appendix A</a>.<a href="#section-1-7" class="pilcrow">¶</a></p>
<div id="scope">
<section id="section-1.1">
        <h3 id="name-scope">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-scope" class="section-name selfRef">Scope</a>
        </h3>
<p id="section-1.1-1">For group communication, only those solutions that use CoAP messages over a "one-to-many" (i.e., non-unicast) transport protocol are in the scope of this document. There are alternative methods to achieve group communication using CoAP, using unicast only. One example is Publish-Subscribe <span>[<a href="#I-D.ietf-core-coap-pubsub" class="cite xref">I-D.ietf-core-coap-pubsub</a>]</span> which uses a central broker server that CoAP clients access via unicast communication. These alternative methods may be usable for the same or similar use cases as the ones targeted in this document.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">This document defines UDP/IP multicast as the default transport protocol for CoAP group requests, as in <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>. Other transport protocols (which may include broadcast, non-IP multicast, geocast, etc.) are not described in detail and are not considered. Although UDP/IP multicast transport is assumed in most of the text in this document, we expect many of the considerations for UDP/IP multicast can be re-used for alternative transport protocols.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">Furthermore, this document defines Group OSCORE <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span> as the default group communication security solution for CoAP. Security solutions for group communication and configuration other than Group OSCORE are not considered. General principles for secure group configuration are in scope.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-1.2">
        <h3 id="name-terminology">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">This specification requires readers to be familiar with CoAP terminology <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>. Terminology related to group communication is defined in <a href="#sec-groupdef" class="auto internal xref">Section 2.1</a>.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<p id="section-1.2-3">In addition, the following terms are extensively used.<a href="#section-1.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.2-4.1">
            <p id="section-1.2-4.1.1">Group URI -- This is defined as a CoAP URI that has the "coap" scheme and includes in the authority component either an IP multicast address or a group hostname (e.g., a Group Fully Qualified Domain Name (FQDN)) that can be resolved to an IP multicast address. A group URI also can contain a UDP port number in the authority component. Group URIs follow the regular CoAP URI syntax (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-6" class="relref">Section 6</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>).<a href="#section-1.2-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.2-4.2">
            <p id="section-1.2-4.2.1">Security material -- This refers to any security keys, counters, or parameters stored in a device that are required to participate in secure group communication with other devices.<a href="#section-1.2-4.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="changes">
<section id="section-1.3">
        <h3 id="name-changes-to-other-documents">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-changes-to-other-documents" class="section-name selfRef">Changes to Other Documents</a>
        </h3>
<p id="section-1.3-1">This document obsoletes and replaces <span>[<a href="#RFC7390" class="cite xref">RFC7390</a>]</span> as follows.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.3-2.1">
            <p id="section-1.3-2.1.1">It provides separate definitions for CoAP groups, application groups, and security groups, together with high-level guidelines on their configuration (see <a href="#chap-general-groupcomm" class="auto internal xref">Section 2</a>).<a href="#section-1.3-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-2.2">
            <p id="section-1.3-2.2.1">It updates all the guidelines about using group communication for CoAP (see <a href="#sec-coap-usage" class="auto internal xref">Section 3</a>).<a href="#section-1.3-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-2.3">
            <p id="section-1.3-2.3.1">It updates all sections on transport protocols and interworking with other protocols based on new IETF work done for these protocols (see <a href="#sec-transport" class="auto internal xref">Section 3.9</a> and <a href="#sec-other-protocols" class="auto internal xref">Section 3.10</a>).<a href="#section-1.3-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-2.4">
            <p id="section-1.3-2.4.1">It strongly discourages unsecured group communication for CoAP based on the CoAP NoSec (No Security) mode (see <a href="#chap-unsecured-groupcomm" class="auto internal xref">Section 4</a> and <a href="#chap-security-considerations-nosec-mode" class="auto internal xref">Section 6.1</a>), and highlights the risk of amplification attacks (see <a href="#ssec-amplification" class="auto internal xref">Section 6.3</a>).<a href="#section-1.3-2.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-2.5">
            <p id="section-1.3-2.5.1">It defines the use of Group OSCORE <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span> as the security protocol to protect group communication for CoAP, together with high-level guidelines on secure group maintenance (see <a href="#chap-oscore" class="auto internal xref">Section 5</a>).<a href="#section-1.3-2.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-1.3-3">This document updates <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> as follows.<a href="#section-1.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.3-4.1">
            <p id="section-1.3-4.1.1">It updates the request/response model for group communication, as to response suppression (see <a href="#sec-request-response-suppress" class="auto internal xref">Section 3.1.2</a>) and token reuse time (see <a href="#sec-token-reuse" class="auto internal xref">Section 3.1.5</a>).<a href="#section-1.3-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-4.2">
            <p id="section-1.3-4.2.1">It updates the freshness model and validation model to use for cached responses (see <a href="#sec-caching-freshness" class="auto internal xref">Section 3.2.1</a> and <a href="#sec-caching-validation" class="auto internal xref">Section 3.2.2</a>).<a href="#section-1.3-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-4.3">
            <p id="section-1.3-4.3.1">It defines the measures against congestion risk specified in <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> to be applicable also to alternative transports other than IP multicast, and defines additional guidelines to reduce congestion risks (see <a href="#sec-congestion" class="auto internal xref">Section 3.6</a>).<a href="#section-1.3-4.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-4.4">
            <p id="section-1.3-4.4.1">It explicitly allows the use of the IPv6 multicast address scopes realm-local (3), admin-local (4), and global (E). In particular, it recommends that an IPv6 CoAP server supports at least link-local (2), admin-local (4), and site-local (5) scopes with the "All CoAP Nodes" multicast CoAP group (see <a href="#sec-udptransport" class="auto internal xref">Section 3.9.1</a>). Also, it recommends that the realm-local (3) scope is supported by an IPv6 CoAP server on a 6LoWPAN node (see <a href="#sec-udptransport" class="auto internal xref">Section 3.9.1</a>).<a href="#section-1.3-4.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-1.3-5">This document updates <span>[<a href="#RFC7641" class="cite xref">RFC7641</a>]</span> as follows.<a href="#section-1.3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.3-6.1">
            <p id="section-1.3-6.1.1">It defines the use of the CoAP Observe Option in group requests, for both the GET method and the FETCH method <span>[<a href="#RFC8132" class="cite xref">RFC8132</a>]</span>, together with normative behavior for both CoAP clients and CoAP servers (see <a href="#sec-observe" class="auto internal xref">Section 3.7</a>).<a href="#section-1.3-6.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="chap-general-groupcomm">
<section id="section-2">
      <h2 id="name-types-of-groups-and-their-c">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-types-of-groups-and-their-c" class="section-name selfRef">Types of Groups and Their Configuration</a>
      </h2>
<p id="section-2-1">In the following, different group types are first defined in <a href="#sec-groupdef" class="auto internal xref">Section 2.1</a>. Then, Group configuration, including group creation and maintenance by an application, user, or commissioning entity is considered in <a href="#sec-groupconf" class="auto internal xref">Section 2.2</a>.<a href="#section-2-1" class="pilcrow">¶</a></p>
<div id="sec-groupdef">
<section id="section-2.1">
        <h3 id="name-types-of-groups">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-types-of-groups" class="section-name selfRef">Types of Groups</a>
        </h3>
<p id="section-2.1-1">Three types of groups and their mutual relationships are defined in this section: CoAP group, application group, and security group.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<div id="sec-groupdef-coapgroup">
<section id="section-2.1.1">
          <h4 id="name-coap-group">
<a href="#section-2.1.1" class="section-number selfRef">2.1.1. </a><a href="#name-coap-group" class="section-name selfRef">CoAP Group</a>
          </h4>
<p id="section-2.1.1-1">A CoAP group is defined as a set of CoAP endpoints, where each endpoint is configured to receive CoAP group messages that are sent to the group's associated IP multicast address and UDP port. That is, CoAP groups have relevance at the level of IP networks and CoAP endpoints.<a href="#section-2.1.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1.1-2">An endpoint may be a member of multiple CoAP groups, by subscribing to multiple IP multicast addresses. A node may be a member of multiple CoAP groups, by hosting multiple CoAP server endpoints on different UDP ports. Membership(s) of an endpoint or node to a CoAP group may dynamically change over time. A node or endpoint sending a CoAP group message to a CoAP group is not necessarily itself a member of that CoAP group: it is a member only if it also has a CoAP endpoint listening on the associated IP multicast address and UDP port associated with the CoAP group.<a href="#section-2.1.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1.1-3">A CoAP group is identified by information encoded within a group URI. Further details on identifying a CoAP group are provided in <a href="#sec-groupnaming-coap" class="auto internal xref">Section 2.2.1.1</a>.<a href="#section-2.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-groupdef-applicationgroup">
<section id="section-2.1.2">
          <h4 id="name-application-group">
<a href="#section-2.1.2" class="section-number selfRef">2.1.2. </a><a href="#name-application-group" class="section-name selfRef">Application Group</a>
          </h4>
<p id="section-2.1.2-1">An application group is a set of CoAP server endpoints (hosted on different nodes) that share a common set of CoAP resources. That is, an application group has relevance at the application level. For example, an application group could denote all lights in an office room or all sensors in a hallway.<a href="#section-2.1.2-1" class="pilcrow">¶</a></p>
<p id="section-2.1.2-2">An endpoint may be a member of multiple application groups. A client endpoint that sends a group communication message to an application group is not necessarily itself a member of this application group.<a href="#section-2.1.2-2" class="pilcrow">¶</a></p>
<p id="section-2.1.2-3">There can be a one-to-one or a one-to-many relationship between a CoAP group and application group(s). Such relationships are discussed in more detail in <a href="#sec-groupdef-grouprelations" class="auto internal xref">Section 2.1.4</a>.<a href="#section-2.1.2-3" class="pilcrow">¶</a></p>
<p id="section-2.1.2-4">An application group name may be explicitly encoded in the group URI of a CoAP request, for example in the URI path component. If this is not the case, the application group is implicitly derived by the receiver, e.g., based on information in the CoAP request or other contextual information. Further details on identifying an application group are provided in <a href="#sec-groupnaming-app" class="auto internal xref">Section 2.2.1.2</a>.<a href="#section-2.1.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-groupdef-securitygroup">
<section id="section-2.1.3">
          <h4 id="name-security-group">
<a href="#section-2.1.3" class="section-number selfRef">2.1.3. </a><a href="#name-security-group" class="section-name selfRef">Security Group</a>
          </h4>
<p id="section-2.1.3-1">For secure group communication, a security group is required. A security group comprises endpoints storing shared group security material, such that they can use it to protect and verify mutually exchanged messages.<a href="#section-2.1.3-1" class="pilcrow">¶</a></p>
<p id="section-2.1.3-2">That is, a client endpoint needs to be a member of a security group in order to send a valid secured group communication message to that group. A server endpoint needs to be a member of a security group in order to receive and correctly verify a secured group communication message sent to that group. An endpoint may be a member of multiple security groups.<a href="#section-2.1.3-2" class="pilcrow">¶</a></p>
<p id="section-2.1.3-3">There can be a many-to-many relationship between security groups and CoAP groups, but often it is one-to-one. Also, there can be a many-to-many relationship between security groups and application groups, but often it is one-to-one. Such relationships are discussed in more detail in <a href="#sec-groupdef-grouprelations" class="auto internal xref">Section 2.1.4</a>.<a href="#section-2.1.3-3" class="pilcrow">¶</a></p>
<p id="section-2.1.3-4">Further details on identifying a security group are provided in <a href="#sec-groupnaming-sec" class="auto internal xref">Section 2.2.1.3</a>.<a href="#section-2.1.3-4" class="pilcrow">¶</a></p>
<p id="section-2.1.3-5">If the NoSec mode is used (see <a href="#chap-unsecured-groupcomm" class="auto internal xref">Section 4</a>), group communication does not rely on security at the transport layer nor at the CoAP layer, hence the communicating endpoints do not refer to a security group.<a href="#section-2.1.3-5" class="pilcrow">¶</a></p>
<p id="section-2.1.3-6">When a security group uses the security protocol Group OSCORE <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span> to protect group communication (see <a href="#chap-oscore" class="auto internal xref">Section 5</a> of this document), source authentication is achieved for messages exchanged within the group (see <a href="#chap-group-oscore" class="auto internal xref">Section 5.1</a> and <a href="#chap-security-considerations-sec-mode-sauth" class="auto internal xref">Section 6.2.2</a> of this document). That is, even though the endpoints in the security group do share group security material, a recipient CoAP endpoint is able to verify that a message protected with Group OSCORE has actually been originated and sent by a specific and identified CoAP endpoint as a member of the security group.<a href="#section-2.1.3-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-groupdef-grouprelations">
<section id="section-2.1.4">
          <h4 id="name-relationships-between-group">
<a href="#section-2.1.4" class="section-number selfRef">2.1.4. </a><a href="#name-relationships-between-group" class="section-name selfRef">Relationships Between Group Types</a>
          </h4>
<p id="section-2.1.4-1">Using the above group type definitions, a CoAP group communication message sent by an endpoint can be associated with a tuple that contains one instance of each group type:<a href="#section-2.1.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.4-2">
<pre>
(application group, CoAP group, security group)
</pre><a href="#section-2.1.4-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1.4-3">A special note is appropriate about the possible relationship between security groups and application groups.<a href="#section-2.1.4-3" class="pilcrow">¶</a></p>
<p id="section-2.1.4-4">On one hand, multiple application groups may use the same security group. Thus, the same group security material is used to protect the messages targeting any of those application groups. This has the benefit that typically less storage, configuration, and updating are required for security material. In this case, a CoAP endpoint is supposed to know the exact application group to refer to for each message that is sent or received, based on, e.g., the server port number used, the targeted resource, or the content and structure of the message payload.<a href="#section-2.1.4-4" class="pilcrow">¶</a></p>
<p id="section-2.1.4-5">On the other hand, a single application group may use multiple security groups. Thus, different messages targeting the resources of the application group can be protected with different security material. This can be convenient, for example, if the security groups differ with respect to the cryptographic algorithms and related parameters they use. In this case, a CoAP client can join just one of the security groups, based on what it supports and prefers, while a CoAP server in the application group would rather have to join all of them.<a href="#section-2.1.4-5" class="pilcrow">¶</a></p>
<p id="section-2.1.4-6">Beyond this particular case, applications should be careful in associating a single application group to multiple security groups. In particular, it is <span class="bcp14">NOT RECOMMENDED</span> to use different security groups to reflect different access policies for resources in the same application group.<a href="#section-2.1.4-6" class="pilcrow">¶</a></p>
<p id="section-2.1.4-7">In fact, being a member of a security group actually grants access only to exchange secured messages and enables authentication of group members, while access control (authorization) to use resources in the application group belongs to a separate security domain. Therefore, access control to use resources in the application group should be separately enforced by leveraging the resource properties or through dedicated access control credentials assessed by separate means.<a href="#section-2.1.4-7" class="pilcrow">¶</a></p>
<p id="section-2.1.4-8"><a href="#fig-group-relation" class="auto internal xref">Figure 1</a> summarizes the relationships between the different types of groups described above in Unified Modeling Language (UML) class diagram notation. The class attributes in square brackets are optionally defined.<a href="#section-2.1.4-8" class="pilcrow">¶</a></p>
<span id="name-relationships-among-differe"></span><div id="fig-group-relation">
<figure id="figure-1">
            <div id="section-2.1.4-9.1">
              <div class="alignCenter art-svg artwork" id="section-2.1.4-9.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="368" width="552" viewBox="0 0 552 368" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 8,32 L 8,160" fill="none" stroke="black"></path>
                  <path d="M 120,160 L 120,304" fill="none" stroke="black"></path>
                  <path d="M 256,32 L 256,160" fill="none" stroke="black"></path>
                  <path d="M 352,240 L 352,352" fill="none" stroke="black"></path>
                  <path d="M 376,32 L 376,160" fill="none" stroke="black"></path>
                  <path d="M 456,160 L 456,240" fill="none" stroke="black"></path>
                  <path d="M 544,32 L 544,160" fill="none" stroke="black"></path>
                  <path d="M 544,240 L 544,352" fill="none" stroke="black"></path>
                  <path d="M 8,32 L 256,32" fill="none" stroke="black"></path>
                  <path d="M 376,32 L 544,32" fill="none" stroke="black"></path>
                  <path d="M 256,96 L 376,96" fill="none" stroke="black"></path>
                  <path d="M 8,160 L 256,160" fill="none" stroke="black"></path>
                  <path d="M 376,160 L 544,160" fill="none" stroke="black"></path>
                  <path d="M 352,240 L 544,240" fill="none" stroke="black"></path>
                  <path d="M 120,304 L 352,304" fill="none" stroke="black"></path>
                  <path d="M 352,352 L 544,352" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="80" y="52">Application</text>
                    <text x="152" y="52">group</text>
                    <text x="428" y="52">CoAP</text>
                    <text x="472" y="52">group</text>
                    <text x="132" y="68">..............................</text>
                    <text x="460" y="68">....................</text>
                    <text x="24" y="100">[</text>
                    <text x="40" y="100">-</text>
                    <text x="96" y="100">Application</text>
                    <text x="168" y="100">group</text>
                    <text x="212" y="100">name</text>
                    <text x="240" y="100">]</text>
                    <text x="392" y="100">-</text>
                    <text x="412" y="100">IP</text>
                    <text x="448" y="100">mcast</text>
                    <text x="504" y="100">address</text>
                    <text x="296" y="116">1...N</text>
                    <text x="352" y="116">1</text>
                    <text x="392" y="116">-</text>
                    <text x="416" y="116">UDP</text>
                    <text x="452" y="116">port</text>
                    <text x="500" y="116">number</text>
                    <text x="24" y="132">-</text>
                    <text x="68" y="132">Resource</text>
                    <text x="120" y="132">URI</text>
                    <text x="168" y="132">path(s)</text>
                    <text x="160" y="180">1...N</text>
                    <text x="496" y="180">1...N</text>
                    <text x="496" y="228">1...N</text>
                    <text x="412" y="260">Security</text>
                    <text x="472" y="260">group</text>
                    <text x="448" y="276">.......................</text>
                    <text x="368" y="308">-</text>
                    <text x="412" y="308">Security</text>
                    <text x="472" y="308">group</text>
                    <text x="516" y="308">name</text>
                    <text x="312" y="324">1...N</text>
                    <text x="368" y="324">-</text>
                    <text x="412" y="324">Security</text>
                    <text x="484" y="324">material</text>
                  </g>
                </svg><a href="#section-2.1.4-9.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-relationships-among-differe" class="selfRef">Relationships Among Different Group Types</a>
            </figcaption></figure>
</div>
<p id="section-2.1.4-10"><a href="#fig-group-relation-example" class="auto internal xref">Figure 2</a> provides a deployment example of the relationships between the different types of groups. It shows six CoAP servers (Srv1-Srv6) and their respective resources hosted (/resX). Although in real-life deployments using group communication the number of servers and resources would usually be higher, only limited numbers are shown here for ease of representation.<a href="#section-2.1.4-10" class="pilcrow">¶</a></p>
<p id="section-2.1.4-11">There are three application groups (1, 2, 3) and two security groups (1, 2). The Security Group 1 may, for example, include all lighting devices on a floor of an office building, while Security Group 2 includes all Heating, Ventilation, and Air Conditioning (HVAC) devices of that floor. Security Group 1 is used by both Application Group 1 and 2. The Application Group 1 for example may consist of all lights in a hallway, while Application Group 2 includes all lights in a storage room. Three clients (Cli1, Cli2, Cli3) are configured with security material for Security Group 1. These clients may be motion sensors and a control panel (Cli3), that send multicast messages to /resA to inform the lights of any motion or user activity detected. The control panel Cli3 additionally sends a multicast message to /resB to communicate the latest light preset selected by a user. The latter action only influences the lighting in the storage room (Application Group 2). Two clients (Cli2, Cli4) are configured with security material for Security Group 2. These clients may be temperature/humidity sensors that report measurements periodically to all HVAC devices (Srv5, Srv6) in the Application Group 3, using for example /resC to report temperature and /resD to report humidity.<a href="#section-2.1.4-11" class="pilcrow">¶</a></p>
<p id="section-2.1.4-12">All the shown application groups may use the same CoAP group (not shown in the figure), for example the CoAP group with site-local, site-specific multicast IP address ff15::3456 and default UDP port number 5683 on which all the shown resources are hosted for each server. Other floors of the same building may replicate the shown structure, but using different security groups and different CoAP groups.<a href="#section-2.1.4-12" class="pilcrow">¶</a></p>
<span id="name-deployment-example-of-diffe"></span><div id="fig-group-relation-example">
<figure id="figure-2">
            <div id="section-2.1.4-13.1">
              <div class="alignCenter art-svg artwork" id="section-2.1.4-13.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="320" width="552" viewBox="0 0 552 320" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 8,48 L 8,288" fill="none" stroke="black"></path>
                  <path d="M 72,64 L 72,144" fill="none" stroke="black"></path>
                  <path d="M 72,208 L 72,288" fill="none" stroke="black"></path>
                  <path d="M 248,64 L 248,144" fill="none" stroke="black"></path>
                  <path d="M 248,208 L 248,288" fill="none" stroke="black"></path>
                  <path d="M 272,48 L 272,288" fill="none" stroke="black"></path>
                  <path d="M 288,48 L 288,192" fill="none" stroke="black"></path>
                  <path d="M 312,64 L 312,160" fill="none" stroke="black"></path>
                  <path d="M 488,64 L 488,160" fill="none" stroke="black"></path>
                  <path d="M 544,48 L 544,192" fill="none" stroke="black"></path>
                  <path d="M 24,32 L 256,32" fill="none" stroke="black"></path>
                  <path d="M 304,32 L 528,32" fill="none" stroke="black"></path>
                  <path d="M 72,64 L 248,64" fill="none" stroke="black"></path>
                  <path d="M 312,64 L 488,64" fill="none" stroke="black"></path>
                  <path d="M 72,144 L 248,144" fill="none" stroke="black"></path>
                  <path d="M 312,160 L 488,160" fill="none" stroke="black"></path>
                  <path d="M 72,208 L 248,208" fill="none" stroke="black"></path>
                  <path d="M 304,208 L 528,208" fill="none" stroke="black"></path>
                  <path d="M 72,288 L 248,288" fill="none" stroke="black"></path>
                  <path d="M 24,304 L 256,304" fill="none" stroke="black"></path>
                  <path d="M 24,32 C 15.16936,32 8,39.16936 8,48" fill="none" stroke="black"></path>
                  <path d="M 256,32 C 264.83064,32 272,39.16936 272,48" fill="none" stroke="black"></path>
                  <path d="M 304,32 C 295.16936,32 288,39.16936 288,48" fill="none" stroke="black"></path>
                  <path d="M 528,32 C 536.83064,32 544,39.16936 544,48" fill="none" stroke="black"></path>
                  <path d="M 304,208 C 295.16936,208 288,200.83064 288,192" fill="none" stroke="black"></path>
                  <path d="M 528,208 C 536.83064,208 544,200.83064 544,192" fill="none" stroke="black"></path>
                  <path d="M 24,304 C 15.16936,304 8,296.83064 8,288" fill="none" stroke="black"></path>
                  <path d="M 256,304 C 264.83064,304 272,296.83064 272,288" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="128" y="84">Application</text>
                    <text x="200" y="84">Group</text>
                    <text x="232" y="84">1</text>
                    <text x="368" y="84">Application</text>
                    <text x="440" y="84">Group</text>
                    <text x="472" y="84">3</text>
                    <text x="516" y="84">Cli2</text>
                    <text x="36" y="116">Cli1</text>
                    <text x="100" y="116">Srv1</text>
                    <text x="156" y="116">Srv2</text>
                    <text x="212" y="116">Srv3</text>
                    <text x="340" y="116">Srv5</text>
                    <text x="396" y="116">Srv6</text>
                    <text x="516" y="116">Cli4</text>
                    <text x="104" y="132">/resA</text>
                    <text x="160" y="132">/resA</text>
                    <text x="216" y="132">/resA</text>
                    <text x="344" y="132">/resC</text>
                    <text x="400" y="132">/resC</text>
                    <text x="36" y="148">Cli2</text>
                    <text x="344" y="148">/resD</text>
                    <text x="400" y="148">/resD</text>
                    <text x="36" y="180">Cli3</text>
                    <text x="124" y="180">Security</text>
                    <text x="184" y="180">Group</text>
                    <text x="216" y="180">1</text>
                    <text x="388" y="196">Security</text>
                    <text x="448" y="196">Group</text>
                    <text x="480" y="196">2</text>
                    <text x="128" y="228">Application</text>
                    <text x="200" y="228">Group</text>
                    <text x="232" y="228">2</text>
                    <text x="100" y="260">Srv1</text>
                    <text x="156" y="260">Srv4</text>
                    <text x="104" y="276">/resB</text>
                    <text x="160" y="276">/resB</text>
                  </g>
                </svg><a href="#section-2.1.4-13.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-deployment-example-of-diffe" class="selfRef">Deployment Example of Different Group Types</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="sec-groupconf">
<section id="section-2.2">
        <h3 id="name-group-configuration">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-group-configuration" class="section-name selfRef">Group Configuration</a>
        </h3>
<p id="section-2.2-1">The following defines how groups of different types are named, created, discovered, and maintained.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<div id="sec-groupnaming">
<section id="section-2.2.1">
          <h4 id="name-group-naming">
<a href="#section-2.2.1" class="section-number selfRef">2.2.1. </a><a href="#name-group-naming" class="section-name selfRef">Group Naming</a>
          </h4>
<p id="section-2.2.1-1">Different types of groups are named as specified below, separately for CoAP groups, application groups, and security groups.<a href="#section-2.2.1-1" class="pilcrow">¶</a></p>
<div id="sec-groupnaming-coap">
<section id="section-2.2.1.1">
            <h5 id="name-coap-groups">
<a href="#section-2.2.1.1" class="section-number selfRef">2.2.1.1. </a><a href="#name-coap-groups" class="section-name selfRef">CoAP Groups</a>
            </h5>
<p id="section-2.2.1.1-1">A CoAP group is always defined by the two properties of IP multicast address and UDP port number (see <a href="#sec-groupdef-coapgroup" class="auto internal xref">Section 2.1.1</a>).<a href="#section-2.2.1.1-1" class="pilcrow">¶</a></p>
<p id="section-2.2.1.1-2">However, a CoAP group is for practical purposes identified and named by the authority component in the group URI. This component includes the host subcomponent and an optional UDP port number.
The host subcomponent directly defines the IP multicast address of the CoAP group, in case the host consists of an IP literal.
The host subcomponent indirectly defines the IP multicast address of the CoAP group, in case the host consists of a hostname: resolving the hostname to an IP address in this case produces the IP multicast address.<a href="#section-2.2.1.1-2" class="pilcrow">¶</a></p>
<p id="section-2.2.1.1-3">It follows that the same CoAP group might have multiple names, which can be simultaneously and interchangeably used. For example, if the two hostnames group1.example and group1.alias.example both resolve to the IP multicast address [ff15::1234], then the following authority components are all names for the same CoAP group.<a href="#section-2.2.1.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.1.1-4.1">
                <p id="section-2.2.1.1-4.1.1">group1.example:7700<a href="#section-2.2.1.1-4.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.1-4.2">
                <p id="section-2.2.1.1-4.2.1">group1.alias.example:7700<a href="#section-2.2.1.1-4.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.1-4.3">
                <p id="section-2.2.1.1-4.3.1">[ff15::1234]:7700<a href="#section-2.2.1.1-4.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-2.2.1.1-5">Also note that, when using the "coap" scheme, the two authority components &lt;HOST&gt; and &lt;HOST&gt;:5683 both identify the same CoAP group, whose members listen to the CoAP default port number 5683. Therefore, building on the above, the following authority components are all names for the same CoAP group.<a href="#section-2.2.1.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.1.1-6.1">
                <p id="section-2.2.1.1-6.1.1">group1.example<a href="#section-2.2.1.1-6.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.1-6.2">
                <p id="section-2.2.1.1-6.2.1">group1.alias.example<a href="#section-2.2.1.1-6.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.1-6.3">
                <p id="section-2.2.1.1-6.3.1">[ff15::1234]<a href="#section-2.2.1.1-6.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.1-6.4">
                <p id="section-2.2.1.1-6.4.1">group1.example:5683<a href="#section-2.2.1.1-6.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.1-6.5">
                <p id="section-2.2.1.1-6.5.1">group1.alias.example:5683<a href="#section-2.2.1.1-6.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.1-6.6">
                <p id="section-2.2.1.1-6.6.1">[ff15::1234]:5683<a href="#section-2.2.1.1-6.6.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-2.2.1.1-7">When configuring a CoAP group membership, it is recommended to configure an endpoint with an IP multicast address literal, instead of a group hostname. This is because DNS infrastructure may not be deployed in many constrained networks. In case a group hostname is configured, it can be uniquely mapped to an IP multicast address via DNS resolution, if DNS client functionality is available in the endpoint being configured and the DNS service is supported in the network.<a href="#section-2.2.1.1-7" class="pilcrow">¶</a></p>
<p id="section-2.2.1.1-8">Some examples of hierarchical CoAP group FQDN naming (and scoping) for a building control application are shown below.<a href="#section-2.2.1.1-8" class="pilcrow">¶</a></p>
<span id="name-examples-of-hierarchical-gr"></span><div id="_table-fqdn-naming">
<table class="center" id="table-1">
              <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-examples-of-hierarchical-gr" class="selfRef">Examples of Hierarchical Group FQDN Naming</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">URI authority</th>
                  <th class="text-left" rowspan="1" colspan="1">Targeted group of nodes</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">all.bldg6.example</td>
                  <td class="text-left" rowspan="1" colspan="1">"all nodes in building 6"</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">all.west.bldg6.example</td>
                  <td class="text-left" rowspan="1" colspan="1">"all nodes in west wing, building 6"</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">all.floor1.west.bldg6.example</td>
                  <td class="text-left" rowspan="1" colspan="1">"all nodes in floor 1, west wing, building 6"</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">all.bu036.floor1.west.bldg6.example</td>
                  <td class="text-left" rowspan="1" colspan="1">"all nodes in office bu036, floor 1, west wing, building 6"</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-2.2.1.1-10">Similarly, if supported, reverse mapping (from IP multicast address to Group FQDN) is possible using the reverse DNS resolution technique <span>[<a href="#RFC1035" class="cite xref">RFC1035</a>]</span>. Reverse mapping is important, for example, in troubleshooting to translate IP multicast addresses back to human-readable hostnames to show in a diagnostics user interface.<a href="#section-2.2.1.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-groupnaming-app">
<section id="section-2.2.1.2">
            <h5 id="name-application-groups">
<a href="#section-2.2.1.2" class="section-number selfRef">2.2.1.2. </a><a href="#name-application-groups" class="section-name selfRef">Application Groups</a>
            </h5>
<p id="section-2.2.1.2-1">An application group can be named through different types of identifiers, such as a name string, (integer) number, URI, or other types of strings. The decision of whether and how an application group name is encoded and transported in a CoAP group request is application specific.<a href="#section-2.2.1.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2.1.2-2">This section summarizes possible methods for encoding an application group name in a CoAP group request. Full examples for these methods are provided in <a href="#sec-examples-app-group-naming" class="auto internal xref">Appendix B</a>.<a href="#section-2.2.1.2-2" class="pilcrow">¶</a></p>
<p id="section-2.2.1.2-3">An application group name can be explicitly encoded in a group URI. Specifically, it can be encoded within one of the following URI components:<a href="#section-2.2.1.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.1.2-4.1">
                <p id="section-2.2.1.2-4.1.1">URI path component -- This is the most common and <span class="bcp14">RECOMMENDED</span> method to encode the application group name. When using this method in constrained networks, an application group name APPNAME should be kept short.<a href="#section-2.2.1.2-4.1.1" class="pilcrow">¶</a></p>
<p id="section-2.2.1.2-4.1.2">
A best practice is to use a URI path component such that: i) it includes a path segment as delimiter with a designated value, e.g., "gp", followed by ii) a path segment containing the name of the application group, followed by iii) the path segment(s) that identify the targeted resource within the application group. For example, both /gp/APPNAME/res1 and /base/gp/APPNAME/res1/res2 conform to this practice. The path segment used as delimiter ('gp' in the examples) should be kept short in constrained networks.<a href="#section-2.2.1.2-4.1.2" class="pilcrow">¶</a></p>
<p id="section-2.2.1.2-4.1.3">
Full examples are provided in <a href="#sec-examples-app-group-naming-path" class="auto internal xref">Appendix B.1</a>.<a href="#section-2.2.1.2-4.1.3" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.2-4.2">
                <p id="section-2.2.1.2-4.2.1">URI query component -- This method can use the following formats. In either case, when using this method in constrained networks, an application group name APPNAME should be as short as possible.<a href="#section-2.2.1.2-4.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.1.2-4.2.2.1">
                    <p id="section-2.2.1.2-4.2.2.1.1">As a first alternative, the URI query component consists of only one parameter, which has no value and has the name of the application group as its own identifier. The query component ?APPNAME conforms to this format.<a href="#section-2.2.1.2-4.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="normal" id="section-2.2.1.2-4.2.2.2">
                    <p id="section-2.2.1.2-4.2.2.2.1">As a second alternative, the URI query component includes a query parameter as designated indicator, e.g., "gp", with a value equal to the name of the application group. That is, assuming that "gp" is used as designated indicator, both the query components ?gp=APPNAME and ?par1=v1&amp;gp=APPNAME conform to this format.<a href="#section-2.2.1.2-4.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
<p id="section-2.2.1.2-4.2.3">
Full examples are provided in <a href="#sec-examples-app-group-naming-query" class="auto internal xref">Appendix B.2</a>.<a href="#section-2.2.1.2-4.2.3" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.2-4.3">
                <p id="section-2.2.1.2-4.3.1">URI authority component -- If this method is used, the application group is identified by the authority component of the group URI or a subset thereof.<a href="#section-2.2.1.2-4.3.1" class="pilcrow">¶</a></p>
<p id="section-2.2.1.2-4.3.2">
Because the CoAP group is also defined by the same authority component (see <a href="#sec-groupnaming-coap" class="auto internal xref">Section 2.2.1.1</a>), even when using this method, a given application group is always associated with exactly one CoAP group. (See <a href="#sec-groupdef-grouprelations" class="auto internal xref">Section 2.1.4</a> for background on group relationships.)<a href="#section-2.2.1.2-4.3.2" class="pilcrow">¶</a></p>
<p id="section-2.2.1.2-4.3.3">
Note that the host subcomponent within the authority component of the Group URI can be a group hostname, or an IP address literal. For constrained networks, using an IP address literal matching the request's destination IP address has the benefit of reducing the size of the CoAP message.
 This is because the Uri-Host Option is elided from the CoAP request in this case, since its default value applies (see Sections <a href="https://rfc-editor.org/rfc/rfc7252#section-5.10.1" class="relref">5.10.1</a> and <a href="https://rfc-editor.org/rfc/rfc7252#section-6.4" class="relref">6.4</a> of <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>).<a href="#section-2.2.1.2-4.3.3" class="pilcrow">¶</a></p>
<p id="section-2.2.1.2-4.3.4">
Full examples are provided in <a href="#sec-examples-app-group-naming-authority" class="auto internal xref">Appendix B.3</a>.<a href="#section-2.2.1.2-4.3.4" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-2.2.1.2-5">Due to the CoAP client's encoding of the request URI into CoAP options (per <span><a href="https://rfc-editor.org/rfc/rfc7252#section-6.4" class="relref">Section 6.4</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>) and the possibility of the CoAP server to compose the URI again based on the options received (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-6.5" class="relref">Section 6.5</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>), the application group name information can be transported to the server and used to select the intended application group.<a href="#section-2.2.1.2-5" class="pilcrow">¶</a></p>
<p id="section-2.2.1.2-6">Any other method to transport the application group name within a CoAP request, but not using the group URI, would require a new CoAP option to be defined. Such an approach is out of the scope of this document.<a href="#section-2.2.1.2-6" class="pilcrow">¶</a></p>
<p id="section-2.2.1.2-7">Finally, it is also possible to not encode the application group name in the CoAP request, yielding the most compact representation on the wire. In this case, each CoAP server needs to determine the right application group based on contextual information, such as the CoAP group, and/or the client identity and/or the target resource. For example, each application group on a server could support a unique set of resources, such that it does not overlap with the set of resources of any other application group.
Appendix A of <span>[<a href="#RFC9176" class="cite xref">RFC9176</a>]</span> provides an example of a named application group registered to a Resource Directory (RD), along with the CoAP group it uses and the resources it supports. In that example, an application group name "lights" is encoded in the "ep" (endpoint) attribute of the RD registration entry, while the CoAP group ff35:30:2001:db8:f1:0:8000:1 is specified in the authority component of the URI encoded in the "base" attribute. In subsequent group requests by a client to the "lights" group, the name of the group is not present in the request message. Rather, the URI authority component that selects the CoAP group ff35:30:2001:db8:f1:0:8000:1 will implicitly also select the "lights" application group.<a href="#section-2.2.1.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-groupnaming-sec">
<section id="section-2.2.1.3">
            <h5 id="name-security-groups">
<a href="#section-2.2.1.3" class="section-number selfRef">2.2.1.3. </a><a href="#name-security-groups" class="section-name selfRef">Security Groups</a>
            </h5>
<p id="section-2.2.1.3-1">A security group can be named in many ways through different types of identifiers, such as name string, (integer) number, URI, or other types of strings. Such a group name is generally not related to other kinds of group identifiers that may be specific to the security solution used.<a href="#section-2.2.1.3-1" class="pilcrow">¶</a></p>
<p id="section-2.2.1.3-2">The name of a security group is not expected to be used in messages exchanged among its members, unless the application requires otherwise. At the same time, it is useful to identify the security group when performing a number of side tasks related to secure group communication, such as the following ones.<a href="#section-2.2.1.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.1.3-3.1">
                <p id="section-2.2.1.3-3.1.1">An administrator may have to request an authorization to configure security groups at an available Group Manager (see <a href="#chap-oscore" class="auto internal xref">Section 5</a>). During the authorization process, as well as during the interaction between the administrator and the Group Manager, the group name identifies the specific security group that the administrator wishes to configure and is authorized to.<a href="#section-2.2.1.3-3.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.3-3.2">
                <p id="section-2.2.1.3-3.2.1">A CoAP endpoint may have to request an authorization to join a specific security group through the respective Group Manager, and thus obtain the required group security material (see <a href="#chap-oscore" class="auto internal xref">Section 5</a>). During the authorization process, as well as during the interaction between the CoAP endpoint and the Group Manager, the group name identifies the specific security group that the CoAP endpoint wishes to join and is authorized to.<a href="#section-2.2.1.3-3.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.1.3-3.3">
                <p id="section-2.2.1.3-3.3.1">A CoAP endpoint may first need to discover the specific security groups to join through the respective Group Manager (see <a href="#sssec-discovery-from-rd" class="auto internal xref">Section 2.2.3.1</a>). Results from the discovery process include the name of the security groups to join, together with additional information such as a pointer to the respective Group Manager.<a href="#section-2.2.1.3-3.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-2.2.1.3-4">It is discouraged to use "NoSec" and any of its lowercase/uppercase combinations as name of a security group. Indications that endpoints can use the NoSec mode <span class="bcp14">MUST NOT</span> rely on setting up and advertising a pseudo security group with name "NoSec" or any of its lowercase/uppercase combinations.<a href="#section-2.2.1.3-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sssec-group-creation">
<section id="section-2.2.2">
          <h4 id="name-group-creation-and-membersh">
<a href="#section-2.2.2" class="section-number selfRef">2.2.2. </a><a href="#name-group-creation-and-membersh" class="section-name selfRef">Group Creation and Membership</a>
          </h4>
<p id="section-2.2.2-1">To create a CoAP group, a configuring entity defines an IP multicast address (or hostname) for the group and optionally a UDP port number in case it differs from the default CoAP port number 5683. Then, it configures one or more devices as listeners to that IP multicast address, with a CoAP endpoint listening on the CoAP group's associated UDP port. These endpoints/devices are the group members.<a href="#section-2.2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2.2-2">The configuring entity can be, for example, a local application with pre-configuration, a user, a software developer, a cloud service, or a local commissioning tool.<a href="#section-2.2.2-2" class="pilcrow">¶</a></p>
<p id="section-2.2.2-3">The devices sending CoAP requests to the CoAP group in the role of CoAP client also need to be configured with the same information, even though they are not necessarily group members. One way to configure a client is to supply it with a group URI.<a href="#section-2.2.2-3" class="pilcrow">¶</a></p>
<p id="section-2.2.2-4">The IETF does not define a mandatory protocol to accomplish CoAP group creation. <span>[<a href="#RFC7390" class="cite xref">RFC7390</a>]</span> defined an experimental protocol for configuring memberships of CoAP groups for unsecured group communication, based on JSON-formatted configuration resources. The experiment is concluded as showing that the protocol has not been considered for deployment and use.<a href="#section-2.2.2-4" class="pilcrow">¶</a></p>
<p id="section-2.2.2-5">For IPv6 CoAP groups, common multicast address ranges from which group addresses can be taken are ff1x::/16 and ff3x::/16.<a href="#section-2.2.2-5" class="pilcrow">¶</a></p>
<p id="section-2.2.2-6">To create an application group, a configuring entity may configure a resource or a set of resources on CoAP endpoints, such that a CoAP request sent to a group URI by a configured CoAP client will be processed by one or more CoAP servers that have the matching URI path configured. These servers are the members of the application group.<a href="#section-2.2.2-6" class="pilcrow">¶</a></p>
<p id="section-2.2.2-7">To create a security group, a configuring entity defines an initial subset of the related security material. This comprises a set of group properties including the cryptographic algorithms and parameters used in the security group, as well as additional information relevant throughout the group life-cycle, such as the security group name and description. This task <span class="bcp14">MAY</span> be entrusted to a dedicated administrator, that interacts with a Group Manager as defined in <a href="#chap-oscore" class="auto internal xref">Section 5</a>. After that, further security materials to protect group communications have to be generated, compatible with the configuration specified for the security group.<a href="#section-2.2.2-7" class="pilcrow">¶</a></p>
<p id="section-2.2.2-8">To participate in a security group, CoAP endpoints have to be configured with the group security material used to protect communications in the associated application/CoAP groups. The part of the process that involves secure distribution of group security material <span class="bcp14">MAY</span> use standardized communication with a Group Manager as defined in <a href="#chap-oscore" class="auto internal xref">Section 5</a>.<a href="#section-2.2.2-8" class="pilcrow">¶</a></p>
<p id="section-2.2.2-9">For unsecure group communication using the NoSec mode (see <a href="#chap-unsecured-groupcomm" class="auto internal xref">Section 4</a>), there is no security material to be provided, hence there is no security group for CoAP endpoints to participate in.<a href="#section-2.2.2-9" class="pilcrow">¶</a></p>
<p id="section-2.2.2-10">The configuration of groups and membership may be performed at different moments in the life-cycle of a device. For example, it can occur during product (software) creation, in the factory, at a reseller, on-site during first deployment, or on-site during a system reconfiguration operation.<a href="#section-2.2.2-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="group-discovery">
<section id="section-2.2.3">
          <h4 id="name-group-discovery">
<a href="#section-2.2.3" class="section-number selfRef">2.2.3. </a><a href="#name-group-discovery" class="section-name selfRef">Group Discovery</a>
          </h4>
<p id="section-2.2.3-1">The following describes how a CoAP endpoint can discover groups by different means, i.e., by using a Resource Directory or directly from the CoAP servers that are members of such groups.<a href="#section-2.2.3-1" class="pilcrow">¶</a></p>
<div id="sssec-discovery-from-rd">
<section id="section-2.2.3.1">
            <h5 id="name-discovery-through-a-resourc">
<a href="#section-2.2.3.1" class="section-number selfRef">2.2.3.1. </a><a href="#name-discovery-through-a-resourc" class="section-name selfRef">Discovery through a Resource Directory</a>
            </h5>
<p id="section-2.2.3.1-1">It is possible for CoAP endpoints to discover application groups as well as CoAP groups, by using the RD-Groups usage pattern of the CoRE Resource Directory (RD), as defined in Appendix A of <span>[<a href="#RFC9176" class="cite xref">RFC9176</a>]</span>.<a href="#section-2.2.3.1-1" class="pilcrow">¶</a></p>
<p id="section-2.2.3.1-2">In particular, an application group can be registered to the RD, specifying the reference IP multicast address of its associated CoAP group. The registration of groups to the RD is typically performed by a Commissioning Tool. Later on, CoAP endpoints can discover the registered application groups and related CoAP group(s), by using the lookup interface of the RD.<a href="#section-2.2.3.1-2" class="pilcrow">¶</a></p>
<p id="section-2.2.3.1-3">When secure communication is provided with Group OSCORE (see <a href="#chap-oscore" class="auto internal xref">Section 5</a>), the approach described in <span>[<a href="#I-D.tiloca-core-oscore-discovery" class="cite xref">I-D.tiloca-core-oscore-discovery</a>]</span> also based on the RD can be used in order to discover the security group to join.<a href="#section-2.2.3.1-3" class="pilcrow">¶</a></p>
<p id="section-2.2.3.1-4">In particular, the responsible OSCORE Group Manager registers its security groups to the RD, as links to its own corresponding resources for joining the security groups <span>[<a href="#I-D.ietf-ace-key-groupcomm-oscore" class="cite xref">I-D.ietf-ace-key-groupcomm-oscore</a>]</span>. Later on, CoAP endpoints can discover the names of the registered security groups and related application groups, by using the lookup interface of the RD, and then join the security group through the respective Group Manager.<a href="#section-2.2.3.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sssec-discovery-from-servers">
<section id="section-2.2.3.2">
            <h5 id="name-discovery-from-server-membe">
<a href="#section-2.2.3.2" class="section-number selfRef">2.2.3.2. </a><a href="#name-discovery-from-server-membe" class="section-name selfRef">Discovery from Server Members of an Application or CoAP Group</a>
            </h5>
<p id="section-2.2.3.2-1">It is possible for CoAP endpoints to discover application groups and CoAP groups from the CoAP servers that are members of such groups, by using a GET request targeting the /.well-known/core resource.<a href="#section-2.2.3.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-2">As discussed below, such a GET request may be sent to the IP multicast address of an already known CoAP group associated with one or more application groups; or to the "All CoAP Nodes" multicast address (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-12.8" class="relref">Section 12.8</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>), thus targeting all reachable CoAP servers in any CoAP group. Also, the GET request may specify a query component, in order to filter the application groups of interest.<a href="#section-2.2.3.2-2" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-3">These particular details concerning the GET request depend on the specific discovery action intended by the client and on application-specific means used to encode names of application groups and CoAP groups, e.g., in group URIs and/or CoRE target attributes used with resource links.<a href="#section-2.2.3.2-3" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-4">The following discusses a number of methods to discover application groups and CoAP groups, building on the following assumptions.<a href="#section-2.2.3.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.3.2-5.1">
                <p id="section-2.2.3.2-5.1.1">Application group names are encoded in the path component of Group URIs (see <a href="#sec-groupnaming-app" class="auto internal xref">Section 2.2.1.2</a>). In examples in this document, the path segment "gp" is used as designated delimiter.<a href="#section-2.2.3.2-5.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.3.2-5.2">
                <p id="section-2.2.3.2-5.2.1">The type of an application group is encoded in the value of the CoRE Link Format attribute "rt" of a group resource.<a href="#section-2.2.3.2-5.2.1" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-5.2.2">
In examples presented in the following, this document considers such values for the attribute "rt" to have the semantics "g.&lt;GROUPTYPE&gt;", where GROUPTYPE denotes the type of the application group in question.<a href="#section-2.2.3.2-5.2.2" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-5.2.3">
Resource Type values can be registered in the "Resource Type (rt=) Link Target Attribute Values" IANA registry <span>[<a href="#Resource.Type.Link.Target.Attribute.Values" class="cite xref">Resource.Type.Link.Target.Attribute.Values</a>]</span> within the "Constrained RESTful Environments (CoRE) Parameters" registry group. While relying on registered Resource Type values is not strictly necessary, it is encouraged in order to ensure a more effective discovery of application groups and CoAP groups.<a href="#section-2.2.3.2-5.2.3" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-2.2.3.2-6">Note that the specific way of using the methods discussed below is application-specific. That is, there is currently no standard way of encoding names of application groups and CoAP groups in group URIs and/or CoRE target attributes used with resource links. In particular, the discovery of application groups and CoAP groups through the RD mentioned in <a href="#sssec-discovery-from-rd" class="auto internal xref">Section 2.2.3.1</a> is only defined for use with an RD, i.e., not directly with CoAP servers as group members.<a href="#section-2.2.3.2-6" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-7">Full examples for the different methods are provided in <a href="#sec-examples-group-discovery" class="auto internal xref">Appendix C</a>.<a href="#section-2.2.3.2-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.3.2-8.1">
                <p id="section-2.2.3.2-8.1.1">A CoAP client can discover all the application groups associated with a specific CoAP group.<a href="#section-2.2.3.2-8.1.1" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.1.2">
This is achieved by sending the GET request above to the IP multicast address of the CoAP group, and specifying a wildcarded group type "g.*" as resource type in the URI query parameter "rt". For example, the request can use a Group URI with path and query components "/.well-known/core?rt=g.*", so that the query matches any application group resource type. Alternatively, the request can use a Group URI with path and query components "/.well-known/core?href=/gp/*", so that the query matches any application group resources and also matches any sub-resources of those.<a href="#section-2.2.3.2-8.1.2" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.1.3">
Through the corresponding responses, the query result is a list of resources at CoAP servers that are members of the specified CoAP group and have at least one application group associated with the CoAP group. That is, the client gains knowledge of: i) the set of servers that are members of the specified CoAP group and member of any of the associated application groups; ii) for each of those servers, the name of the application groups where the server is a member and that are associated with the CoAP group.<a href="#section-2.2.3.2-8.1.3" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.1.4">
A full example is provided in <a href="#sec-examples-group-discovery-1" class="auto internal xref">Appendix C.1</a>.<a href="#section-2.2.3.2-8.1.4" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.3.2-8.2">
                <p id="section-2.2.3.2-8.2.1">A CoAP client can discover the CoAP servers that are members of a specific application group, the CoAP group associated with the application group, and optionally the resources that those servers host for each application group.<a href="#section-2.2.3.2-8.2.1" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.2.2">
This is achieved by sending the GET request above to the "All CoAP Nodes" IP multicast address (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-12.8" class="relref">Section 12.8</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>), with a particular chosen scope (e.g., site-local or realm-local) if IPv6 is used. Also, the request specifies the application group name of interest in the URI query component, as defined in <a href="#sec-groupnaming-app" class="auto internal xref">Section 2.2.1.2</a>. For example, the request can use a Group URI with path and query components "/.well-known/core?href=/gp/gp1" to specify the application group with name "gp1".<a href="#section-2.2.3.2-8.2.2" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.2.3">
Through the corresponding responses, the query result is a list of resources at CoAP servers that are members of the specified application group and for each application group the associated CoAP group. That is, the client gains knowledge of: i) the set of servers that are members of the specified application group and of the associated CoAP group; ii) for each of those servers, optionally the resources it hosts within the application group.<a href="#section-2.2.3.2-8.2.3" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.2.4">
If the client wishes to discover resources that a particular server hosts within a particular application group, it may use unicast discovery request(s) to this server.<a href="#section-2.2.3.2-8.2.4" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.2.5">
A full example is provided in <a href="#sec-examples-group-discovery-2" class="auto internal xref">Appendix C.2</a>.<a href="#section-2.2.3.2-8.2.5" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.3.2-8.3">
                <p id="section-2.2.3.2-8.3.1">A CoAP client can discover the CoAP servers that are members of any application group of a specific type, the CoAP group associated with those application groups, and optionally the resources that those servers host as members of those application groups.<a href="#section-2.2.3.2-8.3.1" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.3.2">
This is achieved by sending the GET request above to the "All CoAP Nodes" IP multicast address (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-12.8" class="relref">Section 12.8</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>), with a particular chosen scope (e.g., site-local or realm-local) if IPv6 is used. Also, the request can specify the application group type of interest in the URI query component as value of a query parameter "rt". For example, the request can use a Group URI with path and query components "/.well-known/core?rt=TypeA" to specify the application group type "TypeA".<a href="#section-2.2.3.2-8.3.2" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.3.3">
Through the corresponding responses, the query result is a list of resources at CoAP servers that are members of any application group of the specified type and of the CoAP group associated with each of those application groups. That is, the client gains knowledge of: i) the set of servers that are members of the application groups of the specified type and of the associated CoAP group; ii) optionally for each of those servers, the resources it hosts within each of those application groups.<a href="#section-2.2.3.2-8.3.3" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.3.4">
If the client wishes to discover resources that a particular server hosts within a particular application group, it may use unicast discovery request(s) to this server.<a href="#section-2.2.3.2-8.3.4" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.3.5">
A full example is provided in <a href="#sec-examples-group-discovery-3" class="auto internal xref">Appendix C.3</a>.<a href="#section-2.2.3.2-8.3.5" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-2.2.3.2-8.4">
                <p id="section-2.2.3.2-8.4.1">A CoAP client can discover the CoAP servers that are members of any application group configured in the 6LoWPAN network of the client, the CoAP group associated with each application group, and optionally the resources that those servers host as members of the application group.<a href="#section-2.2.3.2-8.4.1" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.4.2">
This is achieved by sending the GET request above with a query specifying a wildcarded group type in the URI query parameter for "rt". For example, the request can use a Group URI with path and query components "/.well-known/core?rt=g.*", so that the query matches any application group type.
 The request is sent to the "All CoAP Nodes" IP multicast address (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-12.8" class="relref">Section 12.8</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>), with a particular chosen scope if IPv6 is used.<a href="#section-2.2.3.2-8.4.2" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.4.3">
Through the corresponding responses, the query result is a list of group resources hosted by any server in the 6LoWPAN network. Each group resource denotes one application group membership of a server. For each application group, the associated CoAP group is obtained as the URI authority component of the corresponding returned link.<a href="#section-2.2.3.2-8.4.3" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.4.4">
If the client wishes to discover resources that a particular server hosts within a particular application group, it may use unicast discovery request(s) to this server.<a href="#section-2.2.3.2-8.4.4" class="pilcrow">¶</a></p>
<p id="section-2.2.3.2-8.4.5">
Full examples are provided in <a href="#sec-examples-group-discovery-4" class="auto internal xref">Appendix C.4</a>.<a href="#section-2.2.3.2-8.4.5" class="pilcrow">¶</a></p>
</li>
            </ul>
</section>
</div>
</section>
</div>
<div id="sec-group-maintenance">
<section id="section-2.2.4">
          <h4 id="name-group-maintenance">
<a href="#section-2.2.4" class="section-number selfRef">2.2.4. </a><a href="#name-group-maintenance" class="section-name selfRef">Group Maintenance</a>
          </h4>
<p id="section-2.2.4-1">Maintenance of a group includes any necessary operations to cope with changes in a system, such as: adding group members, removing group members, changing group security material, reconfiguration of UDP port number and/or IP multicast address, reconfiguration of the group URI, renaming of application groups, splitting of groups, or merging of groups.<a href="#section-2.2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.2.4-2">For unsecured group communication (see <a href="#chap-unsecured-groupcomm" class="auto internal xref">Section 4</a>), i.e., when the NoSec mode is used, addition/removal of CoAP group members is simply done by configuring these devices to start/stop listening to the group IP multicast address on the group's UDP port.<a href="#section-2.2.4-2" class="pilcrow">¶</a></p>
<p id="section-2.2.4-3">For secured group communication (see <a href="#chap-oscore" class="auto internal xref">Section 5</a>), the maintenance operations of the protocol Group OSCORE <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span> <span class="bcp14">MUST</span> be implemented as well. When using Group OSCORE, CoAP endpoints participating in group communication are also members of a corresponding OSCORE security group, and thus share common security material. Additional related maintenance operations are discussed in <a href="#chap-sec-group-maintenance" class="auto internal xref">Section 5.2</a>.<a href="#section-2.2.4-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec-coap-usage">
<section id="section-3">
      <h2 id="name-coap-usage-in-group-communi">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-coap-usage-in-group-communi" class="section-name selfRef">CoAP Usage in Group Communication</a>
      </h2>
<p id="section-3-1">This section specifies the usage of CoAP in group communication, both unsecured and secured. This includes additional support for protocol extensions, such as Observe (see <a href="#sec-observe" class="auto internal xref">Section 3.7</a>) and block-wise transfer (see <a href="#sec-block-wise" class="auto internal xref">Section 3.8</a>).<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">How CoAP group messages are carried over various transport layers is the subject of <a href="#sec-transport" class="auto internal xref">Section 3.9</a>. Finally, <a href="#sec-other-protocols" class="auto internal xref">Section 3.10</a> covers the interworking of CoAP group communication with other protocols that may operate in the same network.<a href="#section-3-2" class="pilcrow">¶</a></p>
<div id="sec-request-response">
<section id="section-3.1">
        <h3 id="name-request-response-model">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-request-response-model" class="section-name selfRef">Request/Response Model</a>
        </h3>
<div id="general">
<section id="section-3.1.1">
          <h4 id="name-general">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-general" class="section-name selfRef">General</a>
          </h4>
<p id="section-3.1.1-1">A CoAP client is an endpoint able to transmit CoAP requests and receive CoAP responses. Since the underlying UDP transport supports multiplexing by means of UDP port number, there can be multiple independent CoAP clients operational on a single host. On each UDP port, an independent CoAP client can be hosted. Each independent CoAP client sends requests that use the associated endpoint's UDP port number as the UDP source port number of the request.<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1.1-2">All CoAP requests that are sent via IP multicast <span class="bcp14">MUST</span> be Non-confirmable (NON), see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.1" class="relref">Section 8.1</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>.  The Message ID in an IP multicast CoAP message is used for optional message deduplication by both clients and servers, as detailed in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-4.5" class="relref">Section 4.5</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>. A server <span class="bcp14">MAY</span> send one or more responses to a CoAP group request; these are always unicast messages. The unicast responses received by the CoAP client may carry a mixture of success (e.g., 2.05 (Content)) and failure (e.g., 4.04 (Not Found)) response codes, depending on the individual server processing results.<a href="#section-3.1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-request-response-suppress">
<section id="section-3.1.2">
          <h4 id="name-response-suppression">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-response-suppression" class="section-name selfRef">Response Suppression</a>
          </h4>
<p id="section-3.1.2-1">A server <span class="bcp14">MAY</span> suppress its response for various reasons given in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>. This document adds the requirement that a server <span class="bcp14">SHOULD</span> suppress the response in case of error or in case there is nothing useful to respond, unless the application related to a particular resource requires such a response to be made for that resource.<a href="#section-3.1.2-1" class="pilcrow">¶</a></p>
<p id="section-3.1.2-2">The CoAP No-Response Option <span>[<a href="#RFC7967" class="cite xref">RFC7967</a>]</span> can be used by a client to influence the default response suppression on the server side. It is <span class="bcp14">RECOMMENDED</span> that a server supporting this option only takes it into account when processing requests that target resources for which influencing the default suppression has been predetermined to be appropriate, as well as useful, in the application context.<a href="#section-3.1.2-2" class="pilcrow">¶</a></p>
<p id="section-3.1.2-3">Any default response suppression by a server <span class="bcp14">SHOULD</span> be performed consistently, as follows: if a request on a resource produces a particular Response Code and this response is not suppressed, then another request on the same resource that produces a response of the same Response Code class (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-3" class="relref">Section 3</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>) is also not suppressed. For example, if a 4.05 (Method Not Allowed) error response code is suppressed by default on a resource, then a 4.15 (Unsupported Content-Format) error response code is also suppressed by default for that resource.<a href="#section-3.1.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="repeating-a-request">
<section id="section-3.1.3">
          <h4 id="name-repeating-a-request">
<a href="#section-3.1.3" class="section-number selfRef">3.1.3. </a><a href="#name-repeating-a-request" class="section-name selfRef">Repeating a Request</a>
          </h4>
<p id="section-3.1.3-1">Group requests sent over IP multicast generally have much higher loss rates than messages sent over unicast, particularly in constrained networks. Therefore, it is more urgent to have a strategy in place for handling the loss of group requests than the loss of unicast responses. To this end, CoAP clients can rely on the following two approaches.<a href="#section-3.1.3-1" class="pilcrow">¶</a></p>
<p id="section-3.1.3-2">A CoAP client <span class="bcp14">MAY</span> repeat a group request using the same Token value and same Message ID value, in order to ensure that enough (or all) members of the CoAP group have been reached with the request. This is useful in case a number of members of the CoAP group did not respond to the initial request and the client suspects that the request did not reach these group members. However, in case one or more servers did receive the initial request but the response to that request was lost, this repeat does not help to retrieve the lost response(s) if the server(s) implement the optional Message ID based deduplication (<span><a href="https://rfc-editor.org/rfc/rfc7252#section-4.5" class="relref">Section 4.5</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>).<a href="#section-3.1.3-2" class="pilcrow">¶</a></p>
<p id="section-3.1.3-3">A CoAP client <span class="bcp14">MAY</span> repeat a group request using a different Message ID (and the same or a different Token value), in which case all servers that received the initial request will again process the repeated request since it appears within a new CoAP message. This is useful in case a client suspects that one or more response(s) to its original request were lost and the client needs to collect more, or even all, responses from members of the CoAP group, even if this comes at the cost of the overhead of certain group members responding twice (once to the original request, and once to the repeated request with different Message ID).<a href="#section-3.1.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="requestresponse-matching-and-distinguishing-responses">
<section id="section-3.1.4">
          <h4 id="name-request-response-matching-a">
<a href="#section-3.1.4" class="section-number selfRef">3.1.4. </a><a href="#name-request-response-matching-a" class="section-name selfRef">Request/Response Matching and Distinguishing Responses</a>
          </h4>
<p id="section-3.1.4-1">A CoAP client can distinguish the origin of multiple server responses by the source IP address of the message containing the CoAP response and/or any other available application-specific source identifiers contained in the CoAP response payload or CoAP response options, such as an application-level unique ID associated with the server. If secure communication is provided with Group OSCORE (see <a href="#chap-oscore" class="auto internal xref">Section 5</a>), additional security-related identifiers in the CoAP response enable the client to retrieve the right security material for decrypting each response and authenticating its source.<a href="#section-3.1.4-1" class="pilcrow">¶</a></p>
<p id="section-3.1.4-2">While processing a response on the client, the source endpoint of the response is not matched to the destination endpoint of the request, since for a group request these will never match. This is specified in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, with reference to IP multicast.<a href="#section-3.1.4-2" class="pilcrow">¶</a></p>
<p id="section-3.1.4-3">Also, when UDP transport is used, a server <span class="bcp14">MAY</span> respond from a UDP port number that differs from the destination UDP port number of the request.<a href="#section-3.1.4-3" class="pilcrow">¶</a></p>
<p id="section-3.1.4-4">In case a single client has sent multiple group requests and concurrent CoAP transactions are ongoing, the responses received by that client are matched to an active request using only the Token value. Due to UDP level multiplexing, the UDP destination port number of the response <span class="bcp14">MUST</span> match to the client endpoint's UDP port number, i.e., to the UDP source port number of the client's request.<a href="#section-3.1.4-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-token-reuse">
<section id="section-3.1.5">
          <h4 id="name-token-reuse">
<a href="#section-3.1.5" class="section-number selfRef">3.1.5. </a><a href="#name-token-reuse" class="section-name selfRef">Token Reuse</a>
          </h4>
<p id="section-3.1.5-1">For CoAP group requests, there are additional constraints on the reuse of Token values at the client, compared to the unicast case defined in <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> and updated by <span>[<a href="#RFC9175" class="cite xref">RFC9175</a>]</span>. Since for CoAP group requests the number of responses is not bounded a priori, the client cannot use the reception of a response as a trigger to "free up" a Token value for reuse.<a href="#section-3.1.5-1" class="pilcrow">¶</a></p>
<p id="section-3.1.5-2">Reusing a Token value too early could lead to incorrect response/request matching on the client, and would be a protocol error.  Therefore, the time between reuse of Token values for different group requests <span class="bcp14">MUST</span> be greater than:<a href="#section-3.1.5-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.1.5-3">
<pre>
MIN_TOKEN_REUSE_TIME = (NON_LIFETIME + MAX_LATENCY +
                        MAX_SERVER_RESPONSE_DELAY)
</pre><a href="#section-3.1.5-3" class="pilcrow">¶</a>
</div>
<p id="section-3.1.5-4">where NON_LIFETIME and MAX_LATENCY are defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-4.8" class="relref">Section 4.8</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>.  This specification defines MAX_SERVER_RESPONSE_DELAY as was done in <span>[<a href="#RFC7390" class="cite xref">RFC7390</a>]</span>, that is: the expected maximum response delay over all servers that the client can send a CoAP group request to. This delay includes the maximum Leisure time period as defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>. However, CoAP does not define a time limit for the server response delay. Using the default CoAP parameters, the Token reuse time <span class="bcp14">MUST</span> be greater than 250 seconds plus MAX_SERVER_RESPONSE_DELAY.<a href="#section-3.1.5-4" class="pilcrow">¶</a></p>
<p id="section-3.1.5-5">A preferred solution to meet this requirement is to generate a new unique Token for every new group request, such that a Token value is never reused.  If a client has to reuse Token values for some reason, and also MAX_SERVER_RESPONSE_DELAY is unknown, then using MAX_SERVER_RESPONSE_DELAY = 250 seconds is a reasonable guideline. The time between Token reuses is in that case set to a value greater than MIN_TOKEN_REUSE_TIME = 500 seconds.<a href="#section-3.1.5-5" class="pilcrow">¶</a></p>
<p id="section-3.1.5-6">When securing CoAP group communication with Group OSCORE <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>, secure binding between requests and responses is ensured (see <a href="#chap-oscore" class="auto internal xref">Section 5</a>). Thus, a client may reuse a Token value after it has been freed up, as discussed above and considering a reuse time greater than MIN_TOKEN_REUSE_TIME. If an alternative security protocol for CoAP group communication is used which does not ensure secure binding between requests and responses, a client <span class="bcp14">MUST</span> follow the Token processing requirements as defined in <span>[<a href="#RFC9175" class="cite xref">RFC9175</a>]</span>.<a href="#section-3.1.5-6" class="pilcrow">¶</a></p>
<p id="section-3.1.5-7">Another method to more easily meet the above constraint is to instantiate multiple CoAP clients at multiple UDP ports on the same host. The Token values only have to be unique within the context of a single CoAP client, so using multiple clients can make it easier to meet the constraint.<a href="#section-3.1.5-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-request-response-multi">
<section id="section-3.1.6">
          <h4 id="name-client-handling-of-multiple">
<a href="#section-3.1.6" class="section-number selfRef">3.1.6. </a><a href="#name-client-handling-of-multiple" class="section-name selfRef">Client Handling of Multiple Responses With Same Token</a>
          </h4>
<p id="section-3.1.6-1">Since a client sending a group request with a Token T will accept multiple responses with the same Token T, it is possible in particular that the same server sends multiple responses with the same Token T back to the client.<a href="#section-3.1.6-1" class="pilcrow">¶</a></p>
<p id="section-3.1.6-2">For example, if the client sends a group request specifying the Observe option set to 0 (see <span><a href="https://rfc-editor.org/rfc/rfc7641#section-3.1" class="relref">Section 3.1</a> of [<a href="#RFC7641" class="cite xref">RFC7641</a>]</span>) and this server adds the client to the list of observers for the targeted resource, then the server is set up to send multiple responses as Observe notifications to notify the client of changes to the resource state (see <span><a href="https://rfc-editor.org/rfc/rfc7641#section-4.2" class="relref">Section 4.2</a> of [<a href="#RFC7641" class="cite xref">RFC7641</a>]</span>). The use of Observe with group communication is discussed in more details in <a href="#sec-observe" class="auto internal xref">Section 3.7</a>. As another example, a server might not implement the optional CoAP message deduplication based on Message ID; or it might be acting out of specification as a malicious, compromised or faulty server.<a href="#section-3.1.6-2" class="pilcrow">¶</a></p>
<p id="section-3.1.6-3">When this happens, it is up to the specific client implementation to decide at which layer deduplication of responses is performed, or whether it is necessary in an application at all. If the processing of a response is successful, the client delivers the response to the application as usual.<a href="#section-3.1.6-3" class="pilcrow">¶</a></p>
<p id="section-3.1.6-4">The application itself can be in a good position to decide what to do, depending on the available context information. For instance, it might accept and process all the responses from the same server, even if they are not Observe notifications (i.e., they do not include an Observe option). Alternatively, the application might accept and process only one of those responses, e.g., when this can trigger a change of state within the application.<a href="#section-3.1.6-4" class="pilcrow">¶</a></p>
<p id="section-3.1.6-5">As part of a message exchange between the client and any of the servers in the CoAP group, the multiple responses considered above are examples of the more general concept elaborated in <span><a href="https://datatracker.ietf.org/doc/html/draft-bormann-core-responses-05#section-2" class="relref">Section 2</a> of [<a href="#I-D.bormann-core-responses" class="cite xref">I-D.bormann-core-responses</a>]</span>.<a href="#section-3.1.6-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-caching">
<section id="section-3.2">
        <h3 id="name-caching">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-caching" class="section-name selfRef">Caching</a>
        </h3>
<p id="section-3.2-1">CoAP endpoints that are members of a CoAP group <span class="bcp14">MAY</span> cache responses to a group request as defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-5.6" class="relref">Section 5.6</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>. The set of request options used as "Cache-Key" is also as defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-5.6" class="relref">Section 5.6</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">Furthermore, building on what is defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2.1" class="relref">Section 8.2.1</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>:<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-3.1">
            <p id="section-3.2-3.1.1">A client sending a GET or FETCH group request <span class="bcp14">MAY</span> update a cache with the responses from the servers in the CoAP group. With such a cache, the client uses both cached-still-fresh and new responses as the result of further group requests.<a href="#section-3.2-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.2-3.2">
            <p id="section-3.2-3.2.1">A client sending a GET or FETCH group request <span class="bcp14">MAY</span> use a response received from a server, to satisfy a subsequent sent request intended to that server on the related unicast request URI. In particular, the unicast request URI is obtained by replacing the authority component of the request URI with the transport-layer source address of the cached response message.<a href="#section-3.2-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.2-3.3">
            <p id="section-3.2-3.3.1">A client <span class="bcp14">MAY</span> revalidate a cached response by making a GET or FETCH request on the related unicast request URI.<a href="#section-3.2-3.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-4">Note that, in the presence of proxies, doing any of the above (optional) unicast requests requires the client to distinguish the different responses to a group request, as well as to distinguish the different origin servers that responded. This in turn requires additional means to provide the client with information about the origin server of each response, e.g., using the forward-proxying method defined in <span>[<a href="#I-D.ietf-core-groupcomm-proxy" class="cite xref">I-D.ietf-core-groupcomm-proxy</a>]</span>.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">The following subsections define the freshness model and validation model to use for cached responses, which update the models defined in Sections <a href="https://rfc-editor.org/rfc/rfc7252#section-5.6.1" class="relref">5.6.1</a> and <a href="https://rfc-editor.org/rfc/rfc7252#section-5.6.2" class="relref">5.6.2</a> of <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, respectively.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<div id="sec-caching-freshness">
<section id="section-3.2.1">
          <h4 id="name-freshness-model">
<a href="#section-3.2.1" class="section-number selfRef">3.2.1. </a><a href="#name-freshness-model" class="section-name selfRef">Freshness Model</a>
          </h4>
<p id="section-3.2.1-1">For caching of group communication responses at client endpoints, the same freshness model relying on the Max-Age Option as defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-5.6.1" class="relref">Section 5.6.1</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> applies, and
the multicast caching rules of <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2.1" class="relref">Section 8.2.1</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> apply except for the one discussed below.<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
<p id="section-3.2.1-2">In <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2.1" class="relref">Section 8.2.1</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> it is stated that, regardless of the presence of cached responses to the group request, the client endpoint will always send out a new group request onto the network because new members may have joined the CoAP group since the last group request to the same CoAP group or resource.
That is, a request is never served from cached responses only. This document updates <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> by adding the following exception case, where a client endpoint <span class="bcp14">MAY</span> serve a request by using cached responses only, and not send out a new group request onto the network:<a href="#section-3.2.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2.1-3.1">
              <p id="section-3.2.1-3.1.1">The client knows all current CoAP servers that are members of the CoAP group; and, for each group member, the client's cache currently stores a fresh response.<a href="#section-3.2.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-3.2.1-4">How the client in the case above determines the CoAP servers that are currently members of the CoAP group is out of scope for this document. It may be, for example, via a Group Manager, or by monitoring group joining protocol exchanges.<a href="#section-3.2.1-4" class="pilcrow">¶</a></p>
<p id="section-3.2.1-5">For caching at proxies, the freshness model defined in <span>[<a href="#I-D.ietf-core-groupcomm-proxy" class="cite xref">I-D.ietf-core-groupcomm-proxy</a>]</span> can be used.<a href="#section-3.2.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-caching-validation">
<section id="section-3.2.2">
          <h4 id="name-validation-model">
<a href="#section-3.2.2" class="section-number selfRef">3.2.2. </a><a href="#name-validation-model" class="section-name selfRef">Validation Model</a>
          </h4>
<p id="section-3.2.2-1">For validation of cached group communication responses at client endpoints, the multicast validation rules in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2.1" class="relref">Section 8.2.1</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> apply, except for the last paragraph which states "A GET request to a multicast group <span class="bcp14">MUST NOT</span> contain an ETag option".
This document updates <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> by allowing a group request to contain ETag Options as specified below.<a href="#section-3.2.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2.2-2">For validation at proxies, the validation model defined in <span>[<a href="#I-D.ietf-core-groupcomm-proxy" class="cite xref">I-D.ietf-core-groupcomm-proxy</a>]</span> can be used.<a href="#section-3.2.2-2" class="pilcrow">¶</a></p>
<div id="etag-option-in-a-group-requestresponse">
<section id="section-3.2.2.1">
            <h5 id="name-etag-option-in-a-group-requ">
<a href="#section-3.2.2.1" class="section-number selfRef">3.2.2.1. </a><a href="#name-etag-option-in-a-group-requ" class="section-name selfRef">ETag Option in a Group Request/Response</a>
            </h5>
<p id="section-3.2.2.1-1">A client endpoint <span class="bcp14">MAY</span> include one or more ETag Options in a GET or FETCH group request, to validate one or more stored responses it has cached.
In case two or more servers in the CoAP group have responded to a past request to the same resource with an identical ETag value, it is the responsibility of the client to handle this case. In particular, if the client
wishes to validate, using a group request, a response from server 1 with an ETag value N, while it wants a fresh response from server 2, there is no way to achieve this using a single group request. This wish could occur if the client has a cached representation for server 1, but has no cached representation for server 2: for example, because the client needed to remove older items from its cache to make space for newer resource representations.<a href="#section-3.2.2.1-1" class="pilcrow">¶</a></p>
<p id="section-3.2.2.1-2">There are various strategies to avoid problems caused by identical ETag values: one strategy is for a client to repeat a request if a particular server returned 2.03 (Valid) with an ETag value that is not in the client's cache (for that server). The repeated request excludes the "duplicate" ETag, and it may be a group request or a unicast request to the particular server. Another strategy is to mark a cached ETag value as "duplicated - not to be used for revalidation" as soon as another server responds with the same ETag value. Finally, the recommended strategy is for the servers to generate unique ETags as specified below.<a href="#section-3.2.2.1-2" class="pilcrow">¶</a></p>
<p id="section-3.2.2.1-3">A server endpoint <span class="bcp14">MUST</span> process an ETag Option in a GET or FETCH group request in the same way it processes an ETag Option for a unicast request.
A server endpoint that includes an ETag Option in a response to a group request <span class="bcp14">SHOULD</span> construct the ETag Option value in such a way that the value
will be unique to this particular server with a high probability. This practically prevents a collision of the ETag values from different servers in the same CoAP group and application group, which in turn allows the client to effectively validate a particular response of an origin server. This can be accomplished, for example, by embedding a compact ID (or hash) of the server within the ETag value, where the ID is unique (or unique with a high probability) in the scope of the CoAP/application groups.<a href="#section-3.2.2.1-3" class="pilcrow">¶</a></p>
<p id="section-3.2.2.1-4">Note: a CoAP server implementation that is unaware of the updates to <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> made by this document will expect group requests to never contain an ETag Option (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2.1" class="relref">Section 8.2.1</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>). Such a server treats an ETag Option in a group request as an unrecognized option per Sections <a href="https://rfc-editor.org/rfc/rfc7252#section-5.4" class="relref">5.4</a> and <a href="https://rfc-editor.org/rfc/rfc7252#section-8.2.1" class="relref">8.2.1</a> of <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, causing it to ignore this (elective) ETag Option regardless of its value, and processes the request normally as if that ETag Option was not included.<a href="#section-3.2.2.1-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="uri-path-selection">
<section id="section-3.3">
        <h3 id="name-uri-path-selection">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-uri-path-selection" class="section-name selfRef">URI Path Selection</a>
        </h3>
<p id="section-3.3-1">The URI Path used in a group request is preferably a path that is known to be supported across all members of a CoAP group. However, there are valid use cases where a group request is known to be successful only for a subset of the CoAP group. For instance, the subset may include only members of a specific application group, while the members of the CoAP group for which the request is unsuccessful (for example because they are outside the target application group) either suppress a response as per the default behavior from <a href="#sec-request-response-suppress" class="auto internal xref">Section 3.1.2</a>, or reply with an error response, e.g., when the default behavior is overridden by a No-Response Option <span>[<a href="#RFC7967" class="cite xref">RFC7967</a>]</span> included in the group request.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="port-selection-for-udp-transport">
<section id="section-3.4">
        <h3 id="name-port-selection-for-udp-tran">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-port-selection-for-udp-tran" class="section-name selfRef">Port Selection for UDP Transport</a>
        </h3>
<p id="section-3.4-1">A server that is a member of a CoAP group listens for CoAP request messages on the group's IP multicast address and port number. The group's port number is usually the CoAP default UDP port number 5683, or alternatively another non-default UDP port number if configured. Regardless of the method that is used for selecting the group's port number, the same port number is used as the destination port number for requests across all CoAP servers that are members of a CoAP group and across all CoAP clients sending group requests to that group.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">One way to create multiple CoAP groups is using different UDP ports with the same IP multicast address, in case the devices' network stack only supports a limited number of multicast address subscriptions. However, it must be taken into account that this incurs additional processing overhead on each CoAP server participating in at least one of these groups: messages to groups that are not of interest to the node are only discarded at the higher transport (UDP) layer instead of directly at the Internet (IP) layer. Also, a constrained network may be additionally burdened in this case with multicast traffic that is eventually discarded at the UDP layer by most nodes.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<p id="section-3.4-3">The port number 5684 is dedicated for DTLS-secured unicast CoAP and <span class="bcp14">MUST NOT</span> be used for any CoAP group communication.<a href="#section-3.4-3" class="pilcrow">¶</a></p>
<p id="section-3.4-4">For a CoAP server node that supports resource discovery as defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-2.4" class="relref">Section 2.4</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, the default port number 5683 <span class="bcp14">MUST</span> be supported (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-7.1" class="relref">Section 7.1</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>) for the "All CoAP Nodes" CoAP group as detailed in <a href="#sec-transport" class="auto internal xref">Section 3.9</a>.<a href="#section-3.4-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-proxy">
<section id="section-3.5">
        <h3 id="name-proxy-operation">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-proxy-operation" class="section-name selfRef">Proxy Operation</a>
        </h3>
<p id="section-3.5-1">This section defines how proxies operate in a group communication scenario. In particular, <a href="#sec-proxy-forward" class="auto internal xref">Section 3.5.1</a> defines operations of forward-proxies, while <a href="#sec-proxy-reverse" class="auto internal xref">Section 3.5.2</a> defines operations of reverse-proxies. Furthermore, <a href="#multicasting-to-proxies" class="auto internal xref">Section 3.5.3</a> discusses the case where a client sends a group request to multiple proxies at once. Security operations for a proxy are discussed later in <a href="#chap-proxy-security" class="auto internal xref">Section 5.3</a>.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<div id="sec-proxy-forward">
<section id="section-3.5.1">
          <h4 id="name-forward-proxies">
<a href="#section-3.5.1" class="section-number selfRef">3.5.1. </a><a href="#name-forward-proxies" class="section-name selfRef">Forward-Proxies</a>
          </h4>
<p id="section-3.5.1-1">CoAP enables a client to request a forward-proxy to process a CoAP request on its behalf, as described in Sections <a href="https://rfc-editor.org/rfc/rfc7252#section-5.7.2" class="relref">5.7.2</a> and <a href="https://rfc-editor.org/rfc/rfc7252#section-8.2.2" class="relref">8.2.2</a> of <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>.<a href="#section-3.5.1-1" class="pilcrow">¶</a></p>
<p id="section-3.5.1-2">When intending to reach a CoAP group through a proxy, the client sends a unicast CoAP group request to the proxy. The group URI where the request has to be forwarded to is specified in the request, either as a string in the Proxy-Uri Option, or through the Proxy-Scheme Option with the group URI constructed from the usual Uri-* Options. Then, the forward-proxy resolves the group URI to a destination CoAP group, i.e., it sends (e.g., multicasts) the CoAP group request to the group URI, receives the responses and forwards all the individual (unicast) responses back to the client.<a href="#section-3.5.1-2" class="pilcrow">¶</a></p>
<p id="section-3.5.1-3">Issues and limitations of this approach are compiled in <a href="#sec-issues-forward-proxies" class="auto internal xref">Appendix E</a>. A forward-proxying method using this approach and addressing such issues and limitations is defined in <span>[<a href="#I-D.ietf-core-groupcomm-proxy" class="cite xref">I-D.ietf-core-groupcomm-proxy</a>]</span>.<a href="#section-3.5.1-3" class="pilcrow">¶</a></p>
<p id="section-3.5.1-4">An alternative approach is for the proxy to collect all the individual (unicast) responses to a CoAP group request and then send back only a single (aggregated) response to the client. Issues and limitations of this alternative approach are also compiled in <a href="#sec-issues-forward-proxies" class="auto internal xref">Appendix E</a>.<a href="#section-3.5.1-4" class="pilcrow">¶</a></p>
<p id="section-3.5.1-5">It is <span class="bcp14">RECOMMENDED</span> that a CoAP proxy processes a request to be forwarded to a group URI only if it is explicitly enabled to do so. If such functionality is not explicitly enabled, the default response returned to the client is 5.01 (Not Implemented). Furthermore, a proxy <span class="bcp14">SHOULD</span> be explicitly configured (e.g., by allow-listing and/or client authentication) to allow proxied CoAP group requests only from specific client(s).<a href="#section-3.5.1-5" class="pilcrow">¶</a></p>
<p id="section-3.5.1-6">The operation of HTTP-to-CoAP proxies for multicast CoAP requests is specified in Sections <a href="https://rfc-editor.org/rfc/rfc8075#section-8.4" class="relref">8.4</a> and <a href="https://rfc-editor.org/rfc/rfc8075#section-10.1" class="relref">10.1</a> of <span>[<a href="#RFC8075" class="cite xref">RFC8075</a>]</span>. In this case, the "application/http" media type is used to let the proxy return multiple CoAP responses -- each translated to an HTTP response -- back to the HTTP client. Resulting issues and limitations are also compiled in <a href="#sec-issues-forward-proxies" class="auto internal xref">Appendix E</a>.<a href="#section-3.5.1-6" class="pilcrow">¶</a></p>
<p id="section-3.5.1-7">A forward-proxying method for HTTP-to-CoAP proxies addressing such issues and limitations is defined in <span>[<a href="#I-D.ietf-core-groupcomm-proxy" class="cite xref">I-D.ietf-core-groupcomm-proxy</a>]</span>.<a href="#section-3.5.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-proxy-reverse">
<section id="section-3.5.2">
          <h4 id="name-reverse-proxies">
<a href="#section-3.5.2" class="section-number selfRef">3.5.2. </a><a href="#name-reverse-proxies" class="section-name selfRef">Reverse-Proxies</a>
          </h4>
<p id="section-3.5.2-1">CoAP enables the use of a reverse-proxy, as an endpoint that stands in for one or more other server(s), and satisfies requests on behalf of these, doing any necessary translations (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-5.7.3" class="relref">Section 5.7.3</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>).<a href="#section-3.5.2-1" class="pilcrow">¶</a></p>
<p id="section-3.5.2-2">In a group communication scenario, a reverse-proxy can rely on its configuration and/or on information in a request from a client, in order to determine that a group request has to be sent to servers in a CoAP group, over a one-to-many transport such as IP/UDP multicast.<a href="#section-3.5.2-2" class="pilcrow">¶</a></p>
<p id="section-3.5.2-3">One typical implementation is to allocate specific resources on the reverse-proxy to application groups. A client can then select the application group, and group resource to access, using the URI path in its group request. For example, a request to /proxy/APPNAME/res1 could give access to resource /res1 in the application group APPNAME. In this example, the proxy automatically selects the associated CoAP group.<a href="#section-3.5.2-3" class="pilcrow">¶</a></p>
<p id="section-3.5.2-4">In general, using the URI path to select application group and/or CoAP group is an efficient way to access a reverse proxy. Other methods are possible, such as using the URI authority component: this requires configuration of more elements on the reverse proxy, like multiple virtual servers and/or multiple IP addresses and/or multiple port numbers.<a href="#section-3.5.2-4" class="pilcrow">¶</a></p>
<p id="section-3.5.2-5">The reverse-proxy practically stands in for a CoAP group, thus preventing the client from reaching the group as a whole with a single group request directly addressed to that group (e.g., via multicast). In addition to that, the reverse-proxy may also stand in for each of the individual servers in the CoAP group (e.g., if acting as firewall), thus also preventing the client from individually reaching any server in the group with a unicast request directly addressed to that server.<a href="#section-3.5.2-5" class="pilcrow">¶</a></p>
<p id="section-3.5.2-6">For a reverse-proxy that sends a group request to servers in a CoAP group, the considerations as defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-5.7.3" class="relref">Section 5.7.3</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> hold. Resulting issues and limitations are compiled in <a href="#sec-issues-reverse-proxies" class="auto internal xref">Appendix F</a>. A reverse-proxying method addressing such issues and limitations is defined in <span>[<a href="#I-D.ietf-core-groupcomm-proxy" class="cite xref">I-D.ietf-core-groupcomm-proxy</a>]</span>.<a href="#section-3.5.2-6" class="pilcrow">¶</a></p>
<p id="section-3.5.2-7">A client might re-use a Token value in a valid new request to the reverse-proxy, while the reverse-proxy still has an ongoing group communication request for this client with the same Token value (i.e., its time period for response collection has not ended yet).<a href="#section-3.5.2-7" class="pilcrow">¶</a></p>
<p id="section-3.5.2-8">If this happens, the reverse-proxy <span class="bcp14">MUST</span> stop the ongoing request and associated response forwarding, it <span class="bcp14">MUST NOT</span> forward the new request to the servers in the CoAP group, and it <span class="bcp14">MUST</span> send a 4.00 (Bad Request) error response to the client. The diagnostic payload of the error response <span class="bcp14">SHOULD</span> indicate to the client that the resource is a reverse-proxy resource, and that for this reason immediate Token re-use is not possible.<a href="#section-3.5.2-8" class="pilcrow">¶</a></p>
<p id="section-3.5.2-9">For the operation of HTTP-to-CoAP reverse proxies, see the last two paragraphs of <a href="#sec-proxy-forward" class="auto internal xref">Section 3.5.1</a>, which apply also to the case of reverse-proxies.<a href="#section-3.5.2-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="multicasting-to-proxies">
<section id="section-3.5.3">
          <h4 id="name-single-group-request-to-mul">
<a href="#section-3.5.3" class="section-number selfRef">3.5.3. </a><a href="#name-single-group-request-to-mul" class="section-name selfRef">Single Group Request to Multiple Proxies</a>
          </h4>
<p id="section-3.5.3-1">A client might send a group request to multiple proxies at once (e.g., over IP multicast), so that each of those proxies forwards it to the servers in the CoAP group. Assuming that no message loss occurs and that N proxies receive and forward the group request, this has the following implications.<a href="#section-3.5.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.3-2.1">
              <p id="section-3.5.3-2.1.1">Each server receives N copies of the group request, i.e., one copy from each proxy.<a href="#section-3.5.3-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-3.5.3-2.2">
              <p id="section-3.5.3-2.2.1">If the NoSec mode is used (see <a href="#chap-unsecured-groupcomm" class="auto internal xref">Section 4</a>), each server treats each received copy of the group request as a different request from a different client. As a result:<a href="#section-3.5.3-2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.3-2.2.2.1">
                  <p id="section-3.5.3-2.2.2.1.1">Each server can reply to each of the N received requests with multiple responses over time (see <a href="#sec-request-response-multi" class="auto internal xref">Section 3.1.6</a>). All the responses to the same received request are sent to the same proxy that has forwarded that request, which in turn relays those responses to the client.<a href="#section-3.5.3-2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-3.5.3-2.2.2.2">
                  <p id="section-3.5.3-2.2.2.2.1">From each proxy, the client receives all the responses to the group request that each server has sent to that proxy. Even in case the client is able to distinguish the different servers originating the responses (e.g., by using the approach defined in <span>[<a href="#I-D.ietf-core-groupcomm-proxy" class="cite xref">I-D.ietf-core-groupcomm-proxy</a>]</span>), the client would receive the same response content originated by each server N times, as relayed by the N proxies.<a href="#section-3.5.3-2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
            <li class="normal" id="section-3.5.3-2.3">
              <p id="section-3.5.3-2.3.1">If secure group communication with Group OSCORE is used (see <a href="#chap-oscore" class="auto internal xref">Section 5</a>), each server is able to determine that each received copy of the group request is in fact originated by the same client. In particular, each server is able to determine that all such received requests are copies of exactly the same group request.<a href="#section-3.5.3-2.3.1" class="pilcrow">¶</a></p>
<p id="section-3.5.3-2.3.2">
As a result, each server accepts only the first copy of the group request received from one of the proxies, while discarding as replay any later copies received from any other proxy.<a href="#section-3.5.3-2.3.2" class="pilcrow">¶</a></p>
<p id="section-3.5.3-2.3.3">
After that, the server can reply to the accepted request with multiple responses over time (see <a href="#sec-request-response-multi" class="auto internal xref">Section 3.1.6</a>). All those responses are sent to the same proxy that forwarded the only accepted request, and that in turn relays those responses to the client.<a href="#section-3.5.3-2.3.3" class="pilcrow">¶</a></p>
<p id="section-3.5.3-2.3.4">
As a consequence, for each server, the client receives responses originated by that server only from one proxy. That is, the client receives a certain response content only once, like in the case with only one proxy.<a href="#section-3.5.3-2.3.4" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="sec-congestion">
<section id="section-3.6">
        <h3 id="name-congestion-control">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-congestion-control" class="section-name selfRef">Congestion Control</a>
        </h3>
<p id="section-3.6-1">CoAP group requests may result in a multitude of responses from different nodes, potentially causing congestion. Therefore, both the sending of CoAP group requests and the sending of the unicast CoAP responses to these group requests should be conservatively controlled.<a href="#section-3.6-1" class="pilcrow">¶</a></p>
<p id="section-3.6-2">CoAP <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> reduces IP multicast-specific congestion risks through the following measures:<a href="#section-3.6-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.6-3.1">
            <p id="section-3.6-3.1.1">A server may choose not to respond to an IP multicast request if there is nothing useful to respond, e.g., error or empty response (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>).<a href="#section-3.6-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.6-3.2">
            <p id="section-3.6-3.2.1">A server should limit the support for IP multicast requests to specific resources where multicast operation is required (<span><a href="https://rfc-editor.org/rfc/rfc7252#section-11.3" class="relref">Section 11.3</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>).<a href="#section-3.6-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.6-3.3">
            <p id="section-3.6-3.3.1">An IP multicast request <span class="bcp14">MUST</span> be Non-confirmable (<span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.1" class="relref">Section 8.1</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>).<a href="#section-3.6-3.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.6-3.4">
            <p id="section-3.6-3.4.1">The same rationale for enforcing congestion control based on the transmission parameter PROBING_RATE defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-4.7" class="relref">Section 4.7</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> holds for CoAP group communication. In particular, group requests are the Non-confirmable requests in question, and an average data rate PROBING_RATE is not to be exceeded by a client that does not receive a response from any server in the targeted CoAP group.<a href="#section-3.6-3.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.6-3.5">
            <p id="section-3.6-3.5.1">A response to an IP multicast request <span class="bcp14">SHOULD</span> be Non-confirmable (<span><a href="https://rfc-editor.org/rfc/rfc7252#section-5.2.3" class="relref">Section 5.2.3</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>).<a href="#section-3.6-3.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.6-3.6">
            <p id="section-3.6-3.6.1">A server does not respond immediately to an IP multicast request and should first wait for a time that is randomly picked within a predetermined time interval called the Leisure (<span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>).<a href="#section-3.6-3.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.6-4">This document also defines these measures to be applicable to alternative transports (other than IP multicast), if not defined otherwise.<a href="#section-3.6-4" class="pilcrow">¶</a></p>
<p id="section-3.6-5">Independently of the transport used, additional guidelines to reduce congestion risks defined in this document are as follows:<a href="#section-3.6-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.6-6.1">
            <p id="section-3.6-6.1.1">A server in a constrained network <span class="bcp14">SHOULD</span> only support group requests for resources that have a small representation (where the representation may be retrieved via a GET, FETCH, or POST method in the request). For example, "small" can be defined as a response payload limited to approximately 5% of the IP Maximum Transmit Unit (MTU) size, so that it fits into a single link-layer frame in case IPv6 over Low-Power Wireless Personal Area Networks (6LoWPAN, see <a href="#sec-6lowpan" class="auto internal xref">Section 3.9.2</a>) is used on the constrained network.<a href="#section-3.6-6.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.6-6.2">
            <p id="section-3.6-6.2.1">A server <span class="bcp14">SHOULD</span> minimize the payload size of a response to a group GET or FETCH request on "/.well-known/core" by using hierarchy in arranging link descriptions for the response. An example of this is given in <span><a href="https://rfc-editor.org/rfc/rfc6690#section-5" class="relref">Section 5</a> of [<a href="#RFC6690" class="cite xref">RFC6690</a>]</span>.<a href="#section-3.6-6.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.6-6.3">
            <p id="section-3.6-6.3.1">A server <span class="bcp14">MAY</span> minimize the payload size of a response to a group GET or FETCH request (e.g., on "/.well-known/core") by using CoAP block-wise transfers <span>[<a href="#RFC7959" class="cite xref">RFC7959</a>]</span> in case the payload is long, returning only a first block of the CoRE Link Format description.  For this reason, a CoAP client sending a CoAP group request to "/.well-known/core" <span class="bcp14">SHOULD</span> support block-wise transfers. See also <a href="#sec-block-wise" class="auto internal xref">Section 3.8</a>.<a href="#section-3.6-6.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.6-6.4">
            <p id="section-3.6-6.4.1">A client <span class="bcp14">SHOULD</span> be configured to use CoAP groups with the smallest possible IP multicast scope that fulfills the application needs. As an example, site-local scope is always preferred over global scope IP multicast if this fulfills the application needs. Similarly, realm-local scope is always preferred over site-local scope if this fulfills the application needs.<a href="#section-3.6-6.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-observe">
<section id="section-3.7">
        <h3 id="name-observing-resources">
<a href="#section-3.7" class="section-number selfRef">3.7. </a><a href="#name-observing-resources" class="section-name selfRef">Observing Resources</a>
        </h3>
<p id="section-3.7-1">The CoAP Observe Option <span>[<a href="#RFC7641" class="cite xref">RFC7641</a>]</span> is a protocol extension of CoAP, which allows a CoAP client to retrieve a representation of a resource and automatically keep this representation up-to-date over a longer period of time. The client gets notified when the representation has changed. <span>[<a href="#RFC7641" class="cite xref">RFC7641</a>]</span> does not mention whether the Observe Option can be combined with CoAP (multicast) group communication.<a href="#section-3.7-1" class="pilcrow">¶</a></p>
<p id="section-3.7-2">This section updates <span>[<a href="#RFC7641" class="cite xref">RFC7641</a>]</span> with the use of the Observe Option in a CoAP GET group request, and defines normative behavior for both client and server. Consistent with <span><a href="https://rfc-editor.org/rfc/rfc8132#section-2.4" class="relref">Section 2.4</a> of [<a href="#RFC8132" class="cite xref">RFC8132</a>]</span>, the same rules apply when using the Observe Option in a CoAP FETCH group request.<a href="#section-3.7-2" class="pilcrow">¶</a></p>
<p id="section-3.7-3">Multicast Observe is a useful way to start observing a particular resource on all members of a CoAP group at the same time. If a group member does not have this particular resource, or it does not allow the GET or FETCH method on that resource, then the group member will either suppress a response as per the default behavior from <a href="#sec-request-response-suppress" class="auto internal xref">Section 3.1.2</a>, or reply with an error response -- 4.04 (Not Found) or 4.05 (Method Not Allowed), respectively -- e.g., when the default behavior is overridden by a No-Response Option <span>[<a href="#RFC7967" class="cite xref">RFC7967</a>]</span> included in the group request.<a href="#section-3.7-3" class="pilcrow">¶</a></p>
<p id="section-3.7-4">A client that sends a group GET or FETCH request with the Observe Option <span class="bcp14">MAY</span> repeat this request using the same Token value and the same Observe Option value, in order to ensure that enough (or all) members of the CoAP group have been reached with the request. This is useful in case a number of members of the CoAP group did not respond to the initial request. The client <span class="bcp14">MAY</span> additionally use the same Message ID in the repeated request, to avoid that members of the CoAP group that had already received the initial request would respond again. Note that using the same Message ID in a repeated request will not be helpful in case of loss of a response message, since the server that responded already will consider the repeated request as a duplicate message. On the other hand, if the client uses a different, fresh Message ID in the repeated request, then all the members of the CoAP group that receive this new message will typically respond again, which increases the network load.<a href="#section-3.7-4" class="pilcrow">¶</a></p>
<p id="section-3.7-5">A client that has sent a group GET or FETCH request with the Observe Option <span class="bcp14">MAY</span> follow up by sending a new unicast CON request with the same Token value and same Observe Option value to a particular server, in order to ensure that the particular server receives the request. This is useful in case a specific member of the CoAP group did not respond to the initial group request, although it was expected to. In this case, the client <span class="bcp14">MUST</span> use a Message ID that differs from that of the initial group request message.<a href="#section-3.7-5" class="pilcrow">¶</a></p>
<p id="section-3.7-6">Since the first Observe notification from a server can be lost, a client <span class="bcp14">SHOULD</span> be ready to begin receiving the Observe notifications from a server long after the Non-confirmable group request with the Observe Option was sent.<a href="#section-3.7-6" class="pilcrow">¶</a></p>
<p id="section-3.7-7">At the same time, the loss of initial responses with the Observe Option from a server is less problematic than in the case where the group request is a regular request, i.e., when the request does not include the Observe Option. That is, as per <span><a href="https://rfc-editor.org/rfc/rfc7641#section-4.5" class="relref">Section 4.5</a> of [<a href="#RFC7641" class="cite xref">RFC7641</a>]</span>, servers that have registered a client as an observer have to ensure that the client achieves eventual consistency with respect to the representation of the observed resource. This realistically relies on the sending of new Observe notifications, which are occasionally expected to be sent as Confirmable messages also in order to assess client aliveness (see below).<a href="#section-3.7-7" class="pilcrow">¶</a></p>
<p id="section-3.7-8">Furthermore, consistent with <span><a href="https://rfc-editor.org/rfc/rfc7641#section-3.3.1" class="relref">Section 3.3.1</a> of [<a href="#RFC7641" class="cite xref">RFC7641</a>]</span> and following its guidelines, a client <span class="bcp14">MAY</span> at any time send a new group/multicast GET or FETCH request with the same Token value and same Observe Option value as the original request. This allows the client to verify that it has an up-to-date representation of an observed resource and/or to re-register its interest to observe a resource.<a href="#section-3.7-8" class="pilcrow">¶</a></p>
<p id="section-3.7-9">In the above client behaviors, the Token value is kept identical to the initial request to avoid that a client is included in more than one entry in the list of observers (<span><a href="https://rfc-editor.org/rfc/rfc7641#section-4.1" class="relref">Section 4.1</a> of [<a href="#RFC7641" class="cite xref">RFC7641</a>]</span>).<a href="#section-3.7-9" class="pilcrow">¶</a></p>
<p id="section-3.7-10">Before repeating a request as specified above, the client <span class="bcp14">SHOULD</span> wait for at least the expected round-trip time plus the Leisure time period defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, to give the server time to respond.<a href="#section-3.7-10" class="pilcrow">¶</a></p>
<p id="section-3.7-11">A server that receives a GET or FETCH request with the Observe Option, for which request processing is successful, <span class="bcp14">SHOULD</span> respond to this request and not suppress the response. If a server adds a client (as a new entry) to the list of observers for a resource due to an Observe request, the server <span class="bcp14">SHOULD</span> respond to this request and <span class="bcp14">SHOULD NOT</span> suppress the response. An exception to the above is the overriding of response suppression according to a CoAP No-Response Option <span>[<a href="#RFC7967" class="cite xref">RFC7967</a>]</span> specified by the client in the GET or FETCH request (see <a href="#sec-request-response-suppress" class="auto internal xref">Section 3.1.2</a>).<a href="#section-3.7-11" class="pilcrow">¶</a></p>
<p id="section-3.7-12">A server <span class="bcp14">SHOULD</span> have a mechanism to verify the aliveness of its observing clients and the continued interest of these clients in receiving the Observe notifications. This can be implemented by sending notifications occasionally using a Confirmable message (see <span><a href="https://rfc-editor.org/rfc/rfc7641#section-4.5" class="relref">Section 4.5</a> of [<a href="#RFC7641" class="cite xref">RFC7641</a>]</span> for details). This requirement overrides the regular behavior of sending Non-confirmable notifications in response to a Non-confirmable request.<a href="#section-3.7-12" class="pilcrow">¶</a></p>
<p id="section-3.7-13">A client can use the unicast cancellation methods of <span><a href="https://rfc-editor.org/rfc/rfc7641#section-3.6" class="relref">Section 3.6</a> of [<a href="#RFC7641" class="cite xref">RFC7641</a>]</span> and stop the ongoing observation of a particular resource on members of a CoAP group. This can be used to remove specific observed servers, or even all servers in the CoAP group (using serial unicast to each known group member). In addition, a client <span class="bcp14">MAY</span> explicitly deregister from all those servers at once, by sending a group/multicast GET or FETCH request that includes the Token value of the observation to be canceled and includes an Observe Option with the value set to 1 (deregister). In case not all the servers in the CoAP group received this deregistration request, either the unicast cancellation methods can be used at a later point in time or the group/multicast deregistration request <span class="bcp14">MAY</span> be repeated upon receiving another observe response from a server.<a href="#section-3.7-13" class="pilcrow">¶</a></p>
<p id="section-3.7-14">For observing at servers that are members of a CoAP group through a CoAP-to-CoAP proxy, the limitations stated in <a href="#sec-proxy" class="auto internal xref">Section 3.5</a> apply. The method defined in <span>[<a href="#I-D.ietf-core-groupcomm-proxy" class="cite xref">I-D.ietf-core-groupcomm-proxy</a>]</span> enables group communication including resource observation through proxies and addresses those limitations.<a href="#section-3.7-14" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-block-wise">
<section id="section-3.8">
        <h3 id="name-block-wise-transfer">
<a href="#section-3.8" class="section-number selfRef">3.8. </a><a href="#name-block-wise-transfer" class="section-name selfRef">Block-Wise Transfer</a>
        </h3>
<p id="section-3.8-1"><span><a href="https://rfc-editor.org/rfc/rfc7959#section-2.8" class="relref">Section 2.8</a> of [<a href="#RFC7959" class="cite xref">RFC7959</a>]</span> specifies how a client can use block-wise transfer (Block2 Option) in a multicast GET request to limit the size of the initial response of each server. Consistent with <span><a href="https://rfc-editor.org/rfc/rfc8132#section-2.5" class="relref">Section 2.5</a> of [<a href="#RFC8132" class="cite xref">RFC8132</a>]</span>, the same can be done with a multicast FETCH request.<a href="#section-3.8-1" class="pilcrow">¶</a></p>
<p id="section-3.8-2">If a client sends a multicast GET or FETCH request including a Block2 Option with a block number of 0, then the client can rely on two possible approaches in order to retrieve any further blocks of the resource from responding servers.<a href="#section-3.8-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3.8-3">
<li id="section-3.8-3.1">
            <p id="section-3.8-3.1.1">The client uses unicast requests, separately addressing each different server.<a href="#section-3.8-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-3.8-3.2">
            <p id="section-3.8-3.2.1">The client uses follow-up group requests, if all the responses received from different servers specify the same block size in their Block2 Option. In particular, such a block size can be equal to the block size specified in the Block2 Option of the first group request, or instead a smaller one. If the client relies on this approach, then the Block2 Option of follow-up group requests in the same block-wise transfer specifies the same block size used by all the servers in the Block2 Option of their responses.<a href="#section-3.8-3.2.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<p id="section-3.8-4">Furthermore, a server (member of a targeted CoAP group) that needs to respond to a group request with a particularly large resource can use block-wise transfer (Block2 Option) at its own initiative, to limit the size of the initial response. That is the case when a client sends a multicast GET or FETCH request that does not include a Block2 Option.<a href="#section-3.8-4" class="pilcrow">¶</a></p>
<p id="section-3.8-5">After a client receives responses that include a Block2 Option to the first group request that did not include a Block2 Option, the client can rely on either of the two approaches above for any further requests to retrieve more blocks of the resource. Alternatively, the client can compute a block size that is smaller than or equal to the smallest block size among those specified in the Block2 Option of the received responses. If the client relies on this latter approach, then the Block2 Option of follow-up group requests in the same block-wise transfer specifies the block size computed by the client.<a href="#section-3.8-5" class="pilcrow">¶</a></p>
<p id="section-3.8-6">A solution for group/multicast block-wise transfer using the Block1 Option is not specified in <span>[<a href="#RFC7959" class="cite xref">RFC7959</a>]</span> nor in the present document. Such a solution would be useful for group FETCH/PUT/POST/PATCH/iPATCH requests, to efficiently distribute a large request payload as multiple blocks to all members of a CoAP group. Multicast usage of Block1 is non-trivial due to potential message loss (leading to missing blocks or missing confirmations), and potential diverging block size preferences of different members of the CoAP group.<a href="#section-3.8-6" class="pilcrow">¶</a></p>
<p id="section-3.8-7"><span>[<a href="#RFC9177" class="cite xref">RFC9177</a>]</span> specifies a specialized alternative method for CoAP block-wise transfer. It specifies that "servers <span class="bcp14">MUST</span> ignore multicast requests that contain the Q-Block2 Option".<a href="#section-3.8-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-transport">
<section id="section-3.9">
        <h3 id="name-transport-protocols">
<a href="#section-3.9" class="section-number selfRef">3.9. </a><a href="#name-transport-protocols" class="section-name selfRef">Transport Protocols</a>
        </h3>
<p id="section-3.9-1">In this document, UDP (both over IPv4 and IPv6) is considered as the default transport protocol for CoAP group communication.<a href="#section-3.9-1" class="pilcrow">¶</a></p>
<div id="sec-udptransport">
<section id="section-3.9.1">
          <h4 id="name-udp-ipv6-multicast-transpor">
<a href="#section-3.9.1" class="section-number selfRef">3.9.1. </a><a href="#name-udp-ipv6-multicast-transpor" class="section-name selfRef">UDP/IPv6 Multicast Transport</a>
          </h4>
<p id="section-3.9.1-1">CoAP group communication can use UDP over IPv6 as a transport protocol, provided that IPv6 multicast is enabled. IPv6 multicast <span class="bcp14">MAY</span> be supported in a network only for a limited scope. For example, <a href="#sec-rpl" class="auto internal xref">Section 3.10.2</a> describes the potential limited support of RPL for multicast, depending on how the protocol is configured.<a href="#section-3.9.1-1" class="pilcrow">¶</a></p>
<p id="section-3.9.1-2">For a CoAP server node that supports resource discovery as defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-2.4" class="relref">Section 2.4</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, the default port number 5683 <span class="bcp14">MUST</span> be supported as per Sections <a href="https://rfc-editor.org/rfc/rfc7252#section-7.1" class="relref">7.1</a> and <a href="https://rfc-editor.org/rfc/rfc7252#section-12.8" class="relref">12.8</a> of <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> for the "All CoAP Nodes" multicast CoAP group. An IPv6 CoAP server <span class="bcp14">SHOULD</span> support the "All CoAP Nodes" multicast CoAP group with at least link-local (2), admin-local (4), and site-local (5) scopes. An IPv6 CoAP server on a 6LoWPAN node (see <a href="#sec-6lowpan" class="auto internal xref">Section 3.9.2</a>) <span class="bcp14">SHOULD</span> also support the realm-local (3) scope.<a href="#section-3.9.1-2" class="pilcrow">¶</a></p>
<p id="section-3.9.1-3">Note that a client sending an IPv6 multicast CoAP message to a port number that is not supported by the server will not receive an ICMPv6 Port Unreachable error message from that server, because the server does not send it in this case, per <span><a href="https://rfc-editor.org/rfc/rfc4443#section-2.4" class="relref">Section 2.4</a> of [<a href="#RFC4443" class="cite xref">RFC4443</a>]</span>.<a href="#section-3.9.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-6lowpan">
<section id="section-3.9.2">
          <h4 id="name-udp-ipv6-multicast-transport">
<a href="#section-3.9.2" class="section-number selfRef">3.9.2. </a><a href="#name-udp-ipv6-multicast-transport" class="section-name selfRef">UDP/IPv6 Multicast Transport over 6LoWPAN</a>
          </h4>
<p id="section-3.9.2-1">In 6LoWPAN <span>[<a href="#RFC4944" class="cite xref">RFC4944</a>]</span> <span>[<a href="#RFC6282" class="cite xref">RFC6282</a>]</span> networks, an IPv6 packet (up to 1280 bytes) may be fragmented into multiple 6LoWPAN fragments, each fragment small enough to be carried over an IEEE 802.15.4 MAC frame (up to 127 bytes).<a href="#section-3.9.2-1" class="pilcrow">¶</a></p>
<p id="section-3.9.2-2">These 6LoWPAN fragments are exchanged between 6LoWPAN nodes, potentially involving 6LoWPAN routers operating in a multi-hop network topology. Although 6LoWPAN multicast routing protocols usually define mechanisms to compensate for the loss of transmitted fragments (e.g., using link-layer unicast acknowledgements, or repeated link-layer broadcast transmissions as in MPL -- see <a href="#sec-mpl" class="auto internal xref">Section 3.10.3</a>) a fragment may still be lost in transit. The loss of a single fragment implies the loss of the entire IPv6 packet, because the reassembly back into IPv6 packet will fail in that case. Also, if this fragment loss causes the application-layer retransmission of the entire multi-fragment IPv6 packet, it may happen that much of the same data is transmitted yet again over the constrained network.<a href="#section-3.9.2-2" class="pilcrow">¶</a></p>
<p id="section-3.9.2-3">For this reason, the performance in terms of packet loss and throughput of using larger, multi-fragment multicast IPv6 packets is on average worse than the performance of smaller, single-fragment IPv6 multicast packets. So it is recommended to design application payloads for group communication sufficiently small: a CoAP request sent over multicast over a 6LoWPAN network interface <span class="bcp14">SHOULD</span> fit in a single IEEE 802.15.4 MAC frame, if possible.<a href="#section-3.9.2-3" class="pilcrow">¶</a></p>
<p id="section-3.9.2-4">On 6LoWPAN networks, multicast CoAP groups can be defined with realm-local scope <span>[<a href="#RFC7346" class="cite xref">RFC7346</a>]</span>. Such a realm-local CoAP group is restricted to the local 6LoWPAN network/subnet. In other words, a multicast request to that CoAP group does not propagate beyond the 6LoWPAN network segment where the request originated. For example, a multicast discovery request can be sent to the realm-local "All CoAP Nodes" IPv6 multicast CoAP group (see <a href="#sec-udptransport" class="auto internal xref">Section 3.9.1</a>) in order to discover only CoAP servers on the local 6LoWPAN network.<a href="#section-3.9.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="udpipv4-multicast-transport">
<section id="section-3.9.3">
          <h4 id="name-udp-ipv4-multicast-transpor">
<a href="#section-3.9.3" class="section-number selfRef">3.9.3. </a><a href="#name-udp-ipv4-multicast-transpor" class="section-name selfRef">UDP/IPv4 Multicast Transport</a>
          </h4>
<p id="section-3.9.3-1">CoAP group communication can use UDP over IPv4 as a transport protocol, provided that IPv4 multicast is enabled. For a CoAP server node that supports resource discovery as defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-2.4" class="relref">Section 2.4</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, the default port number 5683 <span class="bcp14">MUST</span> be supported as per Sections <a href="https://rfc-editor.org/rfc/rfc7252#section-7.1" class="relref">7.1</a> and <a href="https://rfc-editor.org/rfc/rfc7252#section-12.8" class="relref">12.8</a> of <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, for the "All CoAP Nodes" IPv4 multicast CoAP group.<a href="#section-3.9.3-1" class="pilcrow">¶</a></p>
<p id="section-3.9.3-2">Note that a client sending an IPv4 multicast CoAP message to a port number that is not supported by the server will not receive an ICMP Port Unreachable error message from that server, because the server does not send it in this case, per <span><a href="https://rfc-editor.org/rfc/rfc1122#section-3.2.2" class="relref">Section 3.2.2</a> of [<a href="#RFC1122" class="cite xref">RFC1122</a>]</span>.<a href="#section-3.9.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tcp-tls-and-websockets">
<section id="section-3.9.4">
          <h4 id="name-tcp-tls-and-websockets">
<a href="#section-3.9.4" class="section-number selfRef">3.9.4. </a><a href="#name-tcp-tls-and-websockets" class="section-name selfRef">TCP, TLS, and WebSockets</a>
          </h4>
<p id="section-3.9.4-1">CoAP over TCP, TLS, and WebSockets is defined in <span>[<a href="#RFC8323" class="cite xref">RFC8323</a>]</span>. Although it supports unicast only, it can be employed as a transport for CoAP group communication in situations where unicast is used, such as exchanging messages with a proxy and completing block-wise transfers. In particular:<a href="#section-3.9.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.9.4-2.1">
              <p id="section-3.9.4-2.1.1">A suitable cross-proxy can be set up, such that it receives a unicast CoAP group request over TCP/TLS/WebSockets, and then forwards the request to the servers in the group over UDP/IP multicast (see <a href="#sec-proxy" class="auto internal xref">Section 3.5</a>). The discovery of such a proxy can rely on means defined in <span>[<a href="#I-D.ietf-core-transport-indication" class="cite xref">I-D.ietf-core-transport-indication</a>]</span>.<a href="#section-3.9.4-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-3.9.4-2.2">
              <p id="section-3.9.4-2.2.1"><span>[<a href="#RFC8323" class="cite xref">RFC8323</a>]</span> can be employed to complete block-wise transfers for CoAP group communication, with the limitations discussed in <a href="#sec-block-wise" class="auto internal xref">Section 3.8</a>.<a href="#section-3.9.4-2.2.1" class="pilcrow">¶</a></p>
<p id="section-3.9.4-2.2.2">
That is, after the first group request including the Block2 Option and sent over UDP, the following unicast CoAP requests targeting individual servers to retrieve further blocks may be sent over TCP or WebSockets, possibly protected with TLS.<a href="#section-3.9.4-2.2.2" class="pilcrow">¶</a></p>
<p id="section-3.9.4-2.2.3">
This requires the individually addressed servers to be reachable via a suitable cross-proxy or to also support CoAP over TCP/TLS/WebSockets for the targeted resource. While those transports do not support multicast, it is possible to rely on multicast for discovering that a server has those transports available and that they allow accessing the targeted resource, possibly with block-wise transfer used for random access to blocks within the resource representation. Such discovering can rely on means defined in <span>[<a href="#I-D.ietf-core-transport-indication" class="cite xref">I-D.ietf-core-transport-indication</a>]</span>.<a href="#section-3.9.4-2.2.3" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="other-transports">
<section id="section-3.9.5">
          <h4 id="name-other-transports">
<a href="#section-3.9.5" class="section-number selfRef">3.9.5. </a><a href="#name-other-transports" class="section-name selfRef">Other Transports</a>
          </h4>
<p id="section-3.9.5-1">CoAP group communication may be used over transports other than UDP/IP multicast. For example broadcast, non-UDP multicast, geocast, serial unicast, etc. In such cases the particular considerations for UDP/IP multicast in this document may need to be applied to that particular transport.<a href="#section-3.9.5-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-other-protocols">
<section id="section-3.10">
        <h3 id="name-interworking-with-other-pro">
<a href="#section-3.10" class="section-number selfRef">3.10. </a><a href="#name-interworking-with-other-pro" class="section-name selfRef">Interworking with Other Protocols</a>
        </h3>
<div id="mldv2-and-igmpv3">
<section id="section-3.10.1">
          <h4 id="name-mldv2-and-igmpv3">
<a href="#section-3.10.1" class="section-number selfRef">3.10.1. </a><a href="#name-mldv2-and-igmpv3" class="section-name selfRef">MLDv2 and IGMPv3</a>
          </h4>
<p id="section-3.10.1-1">A CoAP node that is an IP host (i.e., not an IP router) may be unaware of the specific IP multicast routing/forwarding protocol
being used in its network.  When such a node needs to join a specific (CoAP) multicast group, the application process would typically subscribe to the particular IP multicast group via an API method of the IP stack on the node. Then the IP stack would execute a particular (e.g., default) method to communicate its subscription to on-link IP (multicast) routers.<a href="#section-3.10.1-1" class="pilcrow">¶</a></p>
<p id="section-3.10.1-2">The Multicast Listener Discovery Version 2 (MLDv2) protocol <span>[<a href="#RFC9777" class="cite xref">RFC9777</a>]</span> is the standard IPv6 method to communicate multicast subscriptions, when other methods are not defined. The CoAP server nodes then act in the role of MLDv2 Multicast Address Listener. MLDv2 uses link-local communication between Listeners and IP multicast routers. Constrained IPv6 networks such as ones implementing either RPL (see <a href="#sec-rpl" class="auto internal xref">Section 3.10.2</a>) or MPL (see <a href="#sec-mpl" class="auto internal xref">Section 3.10.3</a>) typically
do not support MLDv2 as they have their own mechanisms defined for subscribing to multicast groups.<a href="#section-3.10.1-2" class="pilcrow">¶</a></p>
<p id="section-3.10.1-3">The Internet Group Management Protocol Version 3 (IGMPv3) protocol <span>[<a href="#RFC9776" class="cite xref">RFC9776</a>]</span> is the standard IPv4 method to signal subscriptions to multicast group. This <span class="bcp14">SHOULD</span> be used by members of a CoAP group to subscribe to its multicast IPv4 address on IPv4 networks unless another method is defined for the network interface/technology used.<a href="#section-3.10.1-3" class="pilcrow">¶</a></p>
<p id="section-3.10.1-4">The guidelines from <span>[<a href="#RFC6636" class="cite xref">RFC6636</a>]</span> on the tuning of MLDv2 and IGMPv3 for mobile and wireless networks may be useful when implementing MLDv2 and IGMPv3 in constrained networks.<a href="#section-3.10.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-rpl">
<section id="section-3.10.2">
          <h4 id="name-rpl">
<a href="#section-3.10.2" class="section-number selfRef">3.10.2. </a><a href="#name-rpl" class="section-name selfRef">RPL</a>
          </h4>
<p id="section-3.10.2-1">IPv6 Routing Protocol for Low-Power and Lossy Networks (RPL) <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span> is an IPv6 based routing protocol suitable for low-power, lossy networks (LLNs). In such a context, CoAP is often used as an application protocol.<a href="#section-3.10.2-1" class="pilcrow">¶</a></p>
<p id="section-3.10.2-2">If only RPL is used in a network for routing and its optional multicast support is disabled, there will be no IP multicast routing available.  Any IPv6 multicast packets in this case will not propagate beyond a single hop (to direct neighbors in the LLN). This implies that any CoAP group request will be delivered to link-local nodes only, for any scope value &gt;= 2 used in the IPv6 destination address.<a href="#section-3.10.2-2" class="pilcrow">¶</a></p>
<p id="section-3.10.2-3">RPL supports (see <span><a href="https://rfc-editor.org/rfc/rfc6550#section-12" class="relref">Section 12</a> of [<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>) advertisement of IP multicast destinations using Destination Advertisement Object (DAO) messages and subsequent routing of multicast IPv6 packets based on this.  It requires the RPL mode of operation to be set to a mode that supports multicast, for example 3 (Storing mode with multicast support) or 5 (Non-Storing Mode of Operation with ingress replication multicast support) defined in <span>[<a href="#RFC9685" class="cite xref">RFC9685</a>]</span>.<a href="#section-3.10.2-3" class="pilcrow">¶</a></p>
<p id="section-3.10.2-4">In mode 3, RPL DAO can be used by an RPL/CoAP node that is either an RPL router or RPL Leaf Node, to advertise its CoAP group membership to parent RPL routers. Then, RPL will route any IP multicast CoAP requests over multiple hops to those CoAP servers that are members of the CoAP group.<a href="#section-3.10.2-4" class="pilcrow">¶</a></p>
<p id="section-3.10.2-5">The same DAO mechanism can be used by an edge router such as a 6LoWPAN Border Router (6LBR, see <span>[<a href="#RFC6775" class="cite xref">RFC6775</a>]</span>), in order to learn CoAP group membership information of the entire RPL network, in case the edge router is also the root of the RPL Destination-Oriented Directed Acyclic Graph (DODAG). This is useful because the edge router learns which IP multicast traffic it needs to selectively pass through from the backbone network into the LLN subnet.  In LLNs, such ingress filtering helps to avoid congestion of the resource-constrained network segment, due to IP multicast traffic from the high-speed backbone IP network.<a href="#section-3.10.2-5" class="pilcrow">¶</a></p>
<p id="section-3.10.2-6">See <span>[<a href="#RFC9685" class="cite xref">RFC9685</a>]</span> for more details on RPL Mode 5, and on subscribing to IPv6 multicast groups using 6LoWPAN Neighbor Discovery (ND) and the Extended Address Registration Option (EARO) in RPL networks.<a href="#section-3.10.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-mpl">
<section id="section-3.10.3">
          <h4 id="name-mpl">
<a href="#section-3.10.3" class="section-number selfRef">3.10.3. </a><a href="#name-mpl" class="section-name selfRef">MPL</a>
          </h4>
<p id="section-3.10.3-1">The Multicast Protocol for Low-Power and Lossy Networks (MPL) <span>[<a href="#RFC7731" class="cite xref">RFC7731</a>]</span> can be used for propagation of IPv6 multicast packets throughout a defined network domain, over multiple hops. MPL is designed to work in LLNs and can operate alone or in combination with RPL. The protocol involves a predefined group of MPL Forwarders to collectively distribute IPv6 multicast packets throughout their MPL Domain. An MPL Forwarder may be associated with multiple MPL Domains at the same time. Non-Forwarders will receive IPv6 multicast packets from one or more of their neighboring Forwarders. Therefore, MPL can be used to propagate a CoAP multicast group request to all members of the CoAP group.<a href="#section-3.10.3-1" class="pilcrow">¶</a></p>
<p id="section-3.10.3-2">However, a CoAP multicast request to a CoAP group that originated outside of the MPL Domain will not be propagated by MPL -- unless an MPL Forwarder is explicitly configured as an ingress point that introduces external multicast packets into the MPL Domain. Such an ingress point could be located on an edge router (e.g., 6LBR). Methods to configure which multicast groups are to be propagated into the MPL Domain could be:<a href="#section-3.10.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.10.3-3.1">
              <p id="section-3.10.3-3.1.1">Manual configuration on each ingress MPL Forwarder.<a href="#section-3.10.3-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-3.10.3-3.2">
              <p id="section-3.10.3-3.2.1">MLDv2 protocol <span>[<a href="#RFC9777" class="cite xref">RFC9777</a>]</span>, which works only in case all CoAP servers joining a CoAP group are in link-local communication range of an ingress MPL Forwarder.<a href="#section-3.10.3-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-3.10.3-3.3">
              <p id="section-3.10.3-3.3.1">Using 6LoWPAN Neighbor Discovery (ND) and Extended Address Registration Option (EARO) as described in <span>[<a href="#RFC9685" class="cite xref">RFC9685</a>]</span>, in a network that supports 6LoWPAN-ND, RPL, and MPL.<a href="#section-3.10.3-3.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-3.10.3-3.4">
              <p id="section-3.10.3-3.4.1">A new/custom protocol to register multicast groups at an ingress MPL Forwarder. This could be for example a CoAP-based protocol offering multicast group subscription features similar to MLDv2.<a href="#section-3.10.3-3.4.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-3.10.3-4">For security and performance reasons, other filtering criteria may also be defined at an ingress MPL Forwarder. See <a href="#sec-security-considerations-6lowpan-mpl" class="auto internal xref">Section 6.6</a> for more details.<a href="#section-3.10.3-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="chap-unsecured-groupcomm">
<section id="section-4">
      <h2 id="name-unsecured-group-communicati">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-unsecured-group-communicati" class="section-name selfRef">Unsecured Group Communication (NoSec Mode)</a>
      </h2>
<p id="section-4-1">CoAP group communication can operate in CoAP NoSec (No Security) mode, without using application-layer and transport-layer security mechanisms. The NoSec mode uses the "coap" scheme, and is defined in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-9" class="relref">Section 9</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The NoSec mode does not require and does not make use of a security group. Indications that endpoints can use the NoSec mode <span class="bcp14">MUST NOT</span> rely on setting up and advertising a pseudo security group with name "NoSec" or any of its lowercase/uppercase combinations.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">A CoAP server in NoSec mode <span class="bcp14">MUST NOT</span> be accessible through the public Internet.
It is <span class="bcp14">NOT RECOMMENDED</span> to use CoAP group communication in NoSec mode.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">The possible, exceptional use of the NoSec mode ought to be limited to specific, well-defined "unsecured steps" that unquestionably do not require security or are not able to attain it, e.g., early discovery of devices and resources (see <a href="#chap-security-considerations-nosec-mode" class="auto internal xref">Section 6.1</a>).<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">Before possibly and exceptionally using the NoSec mode in such circumstances, the security implications in <a href="#chap-security-considerations-nosec-mode" class="auto internal xref">Section 6.1</a> must be very well considered and understood, especially as to the risk and impact of amplification attacks (see <a href="#ssec-amplification" class="auto internal xref">Section 6.3</a>). Consistent with such security implications, the use of the NoSec mode should still be avoided whenever possible.<a href="#section-4-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="chap-oscore">
<section id="section-5">
      <h2 id="name-secured-group-communication">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-secured-group-communication" class="section-name selfRef">Secured Group Communication using Group OSCORE</a>
      </h2>
<p id="section-5-1">This section discusses how CoAP group communication can be secured. In particular, <a href="#chap-group-oscore" class="auto internal xref">Section 5.1</a> describes how the Group OSCORE security protocol <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span> can be used to protect messages exchanged in a CoAP group, while <a href="#chap-sec-group-maintenance" class="auto internal xref">Section 5.2</a> provides guidance on required maintenance operations for OSCORE groups used as security groups.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="chap-group-oscore">
<section id="section-5.1">
        <h3 id="name-group-oscore">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-group-oscore" class="section-name selfRef">Group OSCORE</a>
        </h3>
<p id="section-5.1-1">The application-layer protocol Object Security for Constrained RESTful Environments (OSCORE) <span>[<a href="#RFC8613" class="cite xref">RFC8613</a>]</span> provides end-to-end encryption, integrity, and replay protection of CoAP messages exchanged between two CoAP endpoints. These can act both as CoAP Client as well as CoAP Server, and share an OSCORE Security Context used to protect and verify exchanged messages. The use of OSCORE does not affect the URI scheme and OSCORE can therefore be used with any URI scheme defined for CoAP.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">OSCORE uses COSE <span>[<a href="#RFC9052" class="cite xref">RFC9052</a>]</span><span>[<a href="#RFC9053" class="cite xref">RFC9053</a>]</span> to perform encryption operations and protect a CoAP message carried in a COSE object, by using an Authenticated Encryption with Associated Data (AEAD) algorithm. In particular, OSCORE takes as input an unprotected CoAP message and transforms it into a protected CoAP message transporting the COSE object.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">OSCORE makes it possible to selectively protect different parts of a CoAP message in different ways, while still allowing intermediaries (e.g., CoAP proxies) to perform their intended functionalities. That is, some message parts are encrypted and integrity protected; other parts are only integrity protected to be accessible to, but not modifiable by, proxies; and some parts are kept as plain content to be both accessible to and modifiable by proxies. <span><a href="https://rfc-editor.org/rfc/rfc8613#section-4" class="relref">Section 4</a> of [<a href="#RFC8613" class="cite xref">RFC8613</a>]</span> defines in detail if and what protection is applied to the CoAP header fields, payload, and CoAP options specified in the unprotected message, in accordance with their class for OSCORE.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">Group OSCORE <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span> builds on OSCORE, and provides end-to-end security of CoAP messages exchanged between members of an OSCORE group, while fulfilling the same security requirements.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">In particular, Group OSCORE protects CoAP group requests sent by a CoAP client, e.g., over UDP/IP multicast, as well as multiple corresponding CoAP responses sent as (IP) unicast by different CoAP servers. However, the same security material can also be used to protect CoAP requests sent over (IP) unicast to a single CoAP server in the OSCORE group, as well as the corresponding responses.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">Group OSCORE ensures source authentication of all messages exchanged within the OSCORE group. That is, the recipient of a CoAP message protected with Group OSCORE is able to securely verify whether the CoAP endpoint that has generated and sent the message is indeed the alleged one. This is achieved by means of two possible methods.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
<p id="section-5.1-7">The first method, called group mode, relies on digital signatures. That is, sender devices sign their outgoing messages using their own private key, and embed the signature in the protected CoAP message.<a href="#section-5.1-7" class="pilcrow">¶</a></p>
<p id="section-5.1-8">The second method, called pairwise mode, relies on a symmetric key, which is derived from a pairwise shared secret computed from the asymmetric keys of the message sender and recipient. This method is intended for one-to-one messages sent in the security group, such as all responses individually sent by servers, as well as requests addressed to an individual server.<a href="#section-5.1-8" class="pilcrow">¶</a></p>
<p id="section-5.1-9">A Group Manager is responsible for managing one or multiple OSCORE groups. In particular, the Group Manager acts as repository of the security group members' authentication credentials including the corresponding public keys; manages, renews, and provides security material in the security group; and handles the join process of new members in the security group.<a href="#section-5.1-9" class="pilcrow">¶</a></p>
<p id="section-5.1-10">As defined in <span>[<a href="#I-D.ietf-ace-oscore-gm-admin" class="cite xref">I-D.ietf-ace-oscore-gm-admin</a>]</span>, an administrator entity can interact with the Group Manager to create OSCORE groups and specify their configuration (see <a href="#sssec-group-creation" class="auto internal xref">Section 2.2.2</a>). During the lifetime of the OSCORE group, the administrator can further interact with the Group Manager, in order to possibly update the configuration of the security group and eventually delete the group.<a href="#section-5.1-10" class="pilcrow">¶</a></p>
<p id="section-5.1-11">As recommended in <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>, a CoAP endpoint can join an OSCORE group by using the method described in <span>[<a href="#I-D.ietf-ace-key-groupcomm-oscore" class="cite xref">I-D.ietf-ace-key-groupcomm-oscore</a>]</span> and based on the ACE framework for Authentication and Authorization in constrained environments <span>[<a href="#RFC9200" class="cite xref">RFC9200</a>]</span>.<a href="#section-5.1-11" class="pilcrow">¶</a></p>
<p id="section-5.1-12">A CoAP endpoint can discover OSCORE groups and retrieve information to join them through their respective Group Managers by using the method described in <span>[<a href="#I-D.tiloca-core-oscore-discovery" class="cite xref">I-D.tiloca-core-oscore-discovery</a>]</span> and based on the CoRE Resource Directory <span>[<a href="#RFC9176" class="cite xref">RFC9176</a>]</span>.<a href="#section-5.1-12" class="pilcrow">¶</a></p>
<p id="section-5.1-13">If security is required, CoAP group communication as described in this specification <span class="bcp14">MUST</span> use Group OSCORE. In particular, a CoAP group as defined in <a href="#sec-groupdef" class="auto internal xref">Section 2.1</a> and using secure group communication is associated with an OSCORE security group, which includes:<a href="#section-5.1-13" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1-14.1">
            <p id="section-5.1-14.1.1">All members of the CoAP group, i.e., the CoAP endpoints that are configured to receive CoAP group messages sent to the particular CoAP group and -- in case of IP multicast transport -- that are listening to the group's multicast IP address on the group's UDP port.<a href="#section-5.1-14.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.1-14.2">
            <p id="section-5.1-14.2.1">All further CoAP endpoints configured only as CoAP clients that may send CoAP group requests to the CoAP group.<a href="#section-5.1-14.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="chap-sec-group-maintenance">
<section id="section-5.2">
        <h3 id="name-secure-group-maintenance">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-secure-group-maintenance" class="section-name selfRef">Secure Group Maintenance</a>
        </h3>
<p id="section-5.2-1">As part of group maintenance operations (see <a href="#sec-group-maintenance" class="auto internal xref">Section 2.2.4</a>), additional key management operations are required for an OSCORE group, also depending on the security requirements of the application (see <a href="#chap-security-considerations-sec-mode-key-mgmt" class="auto internal xref">Section 6.2.1</a>). Specifically:<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-2.1">
            <p id="section-5.2-2.1.1">Adding new members to a CoAP group, or enabling new client-only endpoints to interact with that group, requires also that each of such members/endpoints join the corresponding OSCORE group. When this happens, they are securely provided with the security material to use in that OSCORE group.<a href="#section-5.2-2.1.1" class="pilcrow">¶</a></p>
<p id="section-5.2-2.1.2">
Applications may need backward security. That is, they may require that, after having joined an OSCORE group, a new member of that group cannot read the cleartext of messages exchanged in the group prior to its joining, even if it has recorded them.<a href="#section-5.2-2.1.2" class="pilcrow">¶</a></p>
<p id="section-5.2-2.1.3">
In such a case, new security material to use in the OSCORE group has first to be generated and distributed to the current members of that group, before new endpoints are also provided with that new security material upon their joining.<a href="#section-5.2-2.1.3" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.2-2.2">
            <p id="section-5.2-2.2.1">Removing members from a CoAP group or stopping client-only endpoints from interacting with that group requires removing such members/endpoints from the corresponding OSCORE group. To this end, new security material is generated and securely distributed only to the remaining members of the OSCORE group, together with the list of former members removed from that group.<a href="#section-5.2-2.2.1" class="pilcrow">¶</a></p>
<p id="section-5.2-2.2.2">
This ensures forward security in the OSCORE group. That is, it ensures that only the members intended to remain in the OSCORE group are able to continue participating in the secure communications within that group, while the evicted ones are not able to participate after the distribution and installation of the new security material.<a href="#section-5.2-2.2.2" class="pilcrow">¶</a></p>
<p id="section-5.2-2.2.3">
Also, this ensures that the members intended to remain in the OSCORE group are able to confidently verify the group membership of other sender nodes, when receiving protected messages in the OSCORE group after the distribution and installation of the new security material (see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-12.2" class="relref">Section 12.2</a> of [<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>).<a href="#section-5.2-2.2.3" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-5.2-3">The key management operations mentioned above are entrusted to the Group Manager responsible for the OSCORE group <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>. For example, they can be performed as defined in <span>[<a href="#I-D.ietf-ace-key-groupcomm-oscore" class="cite xref">I-D.ietf-ace-key-groupcomm-oscore</a>]</span>.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="chap-proxy-security">
<section id="section-5.3">
        <h3 id="name-proxy-security">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-proxy-security" class="section-name selfRef">Proxy Security</a>
        </h3>
<p id="section-5.3-1">Different solutions may be selected for secure group communication via a proxy depending on proxy type, use case, and deployment requirements. In this section the options based on Group OSCORE are listed.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">For a client performing a group communication request via a forward-proxy, end-to-end security should be implemented. The client then creates a group request protected with Group OSCORE and unicasts this to the proxy. The proxy adapts the request from a forward-proxy request to a regular request and multicasts this adapted request to the indicated CoAP group. During the adaptation, the security provided by Group OSCORE persists, in either case of using the group mode or using the pairwise mode. The first leg of communication from client to proxy can optionally be further protected, e.g., by using (D)TLS and/or OSCORE.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">For a client performing a group communication request via a reverse-proxy, either end-to-end-security or hop-by-hop security can be implemented.
The case of end-to-end security is the same as for the forward-proxy case.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
<p id="section-5.3-4">The case of hop-by-hop security is only possible if the proxy is considered trustworthy in sending a group request on behalf of clients and it is configured as a member of the OSCORE security group(s) that it needs to access. As further clarified below, the first communication leg between the client and the proxy, on one hand, and the second communication leg between the proxy and the servers, on the other hand, are protected individually and independently of one another.<a href="#section-5.3-4" class="pilcrow">¶</a></p>
<p id="section-5.3-5">The first leg of communication between client and proxy is then protected with a security method for CoAP unicast, such as (D)TLS, OSCORE, or a combination of such methods. The second leg between proxy and servers is protected using Group OSCORE. This can be useful in applications where for example the origin client does not implement Group OSCORE, or the group management operations are confined to a particular network domain and the client is outside this domain.<a href="#section-5.3-5" class="pilcrow">¶</a></p>
<p id="section-5.3-6">For all the above cases, more details on using Group OSCORE are defined in <span>[<a href="#I-D.ietf-core-groupcomm-proxy" class="cite xref">I-D.ietf-core-groupcomm-proxy</a>]</span>.<a href="#section-5.3-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="chap-security-considerations">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">This section provides security considerations for CoAP group communication, in general and in particular when using IP multicast.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="chap-security-considerations-nosec-mode">
<section id="section-6.1">
        <h3 id="name-coap-nosec-mode">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-coap-nosec-mode" class="section-name selfRef">CoAP NoSec Mode</a>
        </h3>
<p id="section-6.1-1">CoAP group communication, if not protected, is vulnerable to all the attacks mentioned in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-11" class="relref">Section 11</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> for IP multicast. Moreover, as also discussed in <span>[<a href="#I-D.irtf-t2trg-amplification-attacks" class="cite xref">I-D.irtf-t2trg-amplification-attacks</a>]</span>, the NoSec mode is susceptible to source IP address spoofing, hence amplification attacks are especially feasible and greatly effective, since a single request can result in multiple responses from multiple servers (see <a href="#ssec-amplification" class="auto internal xref">Section 6.3</a>).<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">For these reasons and in order to prevent proliferation of high-volume amplification attacks as further discussed in <a href="#ssec-amplification" class="auto internal xref">Section 6.3</a>, it is <span class="bcp14">NOT RECOMMENDED</span> to use CoAP group communication in NoSec mode.
The requirement in <a href="#chap-unsecured-groupcomm" class="auto internal xref">Section 4</a> on publically accessible CoAP servers also aims to prevent amplification attacks.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">Exceptionally, and only after the security implications have been very well considered and understood, some applications may rely on a limited use of the NoSec mode, when performing specific, well-defined "unsecured steps" (see <a href="#chap-unsecured-groupcomm" class="auto internal xref">Section 4</a>).<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4">For example, early link-local discovery of devices and resources as part of an onboarding protocol is a typical use case where the NoSec mode or equivalent unsecured mode is used. In such a discovery step, there may be a querying device that needs to discover nearby devices capable of helping it with the network onboarding process. But there are no mutual security relationships configured on the querying device and its neighbor devices at the time it performs the early discovery. These relationships are configured later in the process based on secure device identities. Alternatively, a new device to be onboarded may wait for advertisements of nearby devices able to help it do the network onboarding process. Also in this case, these messages cannot be secured initially because the new device does not yet have any security relationship configured with devices that are already a member of the network. See <span>[<a href="#I-D.ietf-anima-constrained-voucher" class="cite xref">I-D.ietf-anima-constrained-voucher</a>]</span> for an example of an onboarding protocol that can use CoAP multicast for early link-local discovery.<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<p id="section-6.1-5">As a further example, the NoSec mode may be useful and acceptable in simple read-only applications that do not involve, impact, or disclose sensitive data and personal information. These include, e.g., read-only temperature sensors deployed in a public gathering environment, where unauthenticated clients retrieve temperature values but do not use this data to control actuators or to perform other automated actions.<a href="#section-6.1-5" class="pilcrow">¶</a></p>
<p id="section-6.1-6">In the exception cases where NoSec mode is used, high-volume and harmful amplifications need to be prevented through appropriate and conservative device configurations: taking the early discovery query as an example, only a few CoAP servers are expected to be configured for responding to multicast group requests that are sent for discovery. And the time window during which such unsecured requests are accepted, can be limited as well. Furthermore, the scope is also limited: only link-local requests are accepted.<a href="#section-6.1-6" class="pilcrow">¶</a></p>
<p id="section-6.1-7">Except for the class of applications discussed above, and all the more so in applications that obviously have hard security requirements (e.g., health monitoring systems and alarm monitoring systems), CoAP group communication <span class="bcp14">MUST NOT</span> be used in NoSec mode.<a href="#section-6.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="chap-security-considerations-sec-mode">
<section id="section-6.2">
        <h3 id="name-group-oscore-2">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-group-oscore-2" class="section-name selfRef">Group OSCORE</a>
        </h3>
<p id="section-6.2-1">Group OSCORE provides end-to-end application-level security. This has many desirable properties, including maintaining security assurances while forwarding traffic through intermediaries (proxies). Application-level security also tends to more cleanly separate security from the specific dynamics of security group membership (e.g., the problem of distributing security keys across large groups with many members that come and go).<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">CoAP group communication <span class="bcp14">MUST</span> be protected by using Group OSCORE as specified in <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>, with the possible exception of specific, well-defined "unsecured steps" (see <a href="#chap-unsecured-groupcomm" class="auto internal xref">Section 4</a>).<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2-3">The security considerations from <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-14" class="relref">Section 14</a> of [<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span> hold for this specification.<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<div id="chap-security-considerations-sec-mode-key-mgmt">
<section id="section-6.2.1">
          <h4 id="name-group-key-management">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-group-key-management" class="section-name selfRef">Group Key Management</a>
          </h4>
<p id="section-6.2.1-1">Group rekeying, that is, a key management scheme for secure revocation and renewal of group security material, is required to be adopted in OSCORE groups. The key management scheme has to preserve forward security in the OSCORE group, as well as backward security if this is required by the application (see <a href="#chap-sec-group-maintenance" class="auto internal xref">Section 5.2</a>). In particular, the key management scheme <span class="bcp14">MUST</span> comply with the functional steps defined in <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-12.2" class="relref">Section 12.2</a> of [<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1-2">Even though security group policies vary depending on the specific applications and their security requirements, they <span class="bcp14">SHOULD</span> also take into account:<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.1-3.1">
              <p id="section-6.2.1-3.1.1">The expected amount of time that the key management scheme requires to rekey the OSCORE group.<a href="#section-6.2.1-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.2.1-3.2">
              <p id="section-6.2.1-3.2.1">The expected frequency of group membership changes in the OSCORE group (i.e., nodes joining and leaving).<a href="#section-6.2.1-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.2.1-3.3">
              <p id="section-6.2.1-3.3.1">The identity of the specific CoAP endpoints as they join and leave the OSCORE group.<a href="#section-6.2.1-3.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-6.2.1-4">In particular, it can be desirable to not rekey the OSCORE group upon every single membership change, in case group members frequently join and leave, and at the same time a single group rekeying instance takes a non-negligible time to complete.<a href="#section-6.2.1-4" class="pilcrow">¶</a></p>
<p id="section-6.2.1-5">In such a case, the Group Manager can cautiously consider to rekey the OSCORE group, e.g., after a minimum number of nodes has joined or left the group within a pre-defined time interval, or according to communication patterns with predictable time intervals of network inactivity. This would prevent a slow rekeying scheme that is frequently invoked from paralyzing communications in the OSCORE group.<a href="#section-6.2.1-5" class="pilcrow">¶</a></p>
<p id="section-6.2.1-6">At the same time, the security implications of delaying the rekeying process have to be carefully considered and understood before employing such security group policies.<a href="#section-6.2.1-6" class="pilcrow">¶</a></p>
<p id="section-6.2.1-7">In fact, this comes at the cost of not continuously preserving backward and forward security, since group rekeying might not occur upon every single change in the OSCORE group membership. That is, recently joined nodes would have access to the security material used prior to their joining, and thus be able to access past group communications protected with that security material. Similarly, until the OSCORE group is rekeyed, recently left nodes would retain access to group communications protected with the existing security material.<a href="#section-6.2.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="chap-security-considerations-sec-mode-sauth">
<section id="section-6.2.2">
          <h4 id="name-source-authentication">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-source-authentication" class="section-name selfRef">Source Authentication</a>
          </h4>
<p id="section-6.2.2-1">Both the group mode and the pairwise mode of Group OSCORE ensure source authentication of messages exchanged by CoAP endpoints through CoAP group communication.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2-2">To this end, outgoing messages are either signed by the message sender endpoint with its own private key (group mode), or protected with a symmetric key, which is in turn derived using the asymmetric keys of the message sender and recipient (pairwise mode).<a href="#section-6.2.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2.2-3">Thus, both modes allow a recipient CoAP endpoint to verify that a message has actually been originated and sent by a specific and identified CoAP endpoint as a member of the OSCORE group.<a href="#section-6.2.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2.2-4">Note that Group OSCORE does not protect the addressing information about the CoAP endpoint that has sent the message, e.g., the source IP address and port number used when sending the message. In particular, Group OSCORE does not provide authentication of such source addressing information.<a href="#section-6.2.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="chap-security-considerations-sec-mode-attacks">
<section id="section-6.2.3">
          <h4 id="name-countering-attacks">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-countering-attacks" class="section-name selfRef">Countering Attacks</a>
          </h4>
<p id="section-6.2.3-1">As discussed below, Group OSCORE addresses a number of security attacks mentioned in <span><a href="https://rfc-editor.org/rfc/rfc7252#section-11" class="relref">Section 11</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, with particular reference to their execution over IP multicast.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.3-2.1">
              <p id="section-6.2.3-2.1.1">Since Group OSCORE provides end-to-end confidentiality and integrity of request/response messages, proxies capable of group communication cannot break message protection, and thus cannot act as meddler-in-the-middle beyond their legitimate duties (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-11.2" class="relref">Section 11.2</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>). In fact, intermediaries such as proxies are not assumed to have access to the OSCORE Security Context used by OSCORE group members. Also, with the notable addition of signatures for the group mode, Group OSCORE protects messages using the same procedure as OSCORE (see Sections <a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-7" class="relref">7</a> and <a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-8" class="relref">8</a> of <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>), and especially processes CoAP options according to the same classification in U/I/E classes.<a href="#section-6.2.3-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.2.3-2.2">
              <p id="section-6.2.3-2.2.1">Group OSCORE limits the feasibility and impact of amplification attacks (see <a href="#ssec-amplification" class="auto internal xref">Section 6.3</a> of this document and <span><a href="https://rfc-editor.org/rfc/rfc7252#section-11.3" class="relref">Section 11.3</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>), thanks to the handling of protected group requests on the server side. That is, upon receiving a group request protected with Group OSCORE, a server verifies whether the request is not a replay, and whether it has been originated by the alleged CoAP endpoint in the OSCORE group.<a href="#section-6.2.3-2.2.1" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2.2.2">
In order to perform the latter check of source authentication, the server either: i) verifies the signature included in the request by using the public key of the client, when the request is protected using the group mode (see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-7.2" class="relref">Section 7.2</a> of [<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>); or ii) decrypts and verifies the request by means of an additionally derived pairwise key associated with the client, when the request is protected using the pairwise mode (see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-8.4" class="relref">Section 8.4</a> of [<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>).<a href="#section-6.2.3-2.2.2" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2.2.3">
As also discussed in <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-7" class="relref">Section 7</a> of [<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>, it is recommended that, when failing to decrypt and verify an incoming group request protected with the group mode, a server does not send back any error message in case any of the following holds: the server determines that the request was indeed sent to the whole CoAP group (e.g., over IP multicast); or the server is not able to determine it altogether.<a href="#section-6.2.3-2.2.3" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2.2.4">
Such a message processing on the server limits an adversary to leveraging an intercepted group request protected with Group OSCORE, and then altering the source address to be the one of the intended amplification victim.<a href="#section-6.2.3-2.2.4" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2.2.5">
Furthermore, the adversary needs to consider a group request that specifically targets a resource for which the CoAP servers are configured to respond. While this can often be correctly inferred from the application context, it is not explicit from the group request itself, since Group OSCORE protects the Uri-Path and Uri-Query CoAP Options conveying the respective components of the target URI.<a href="#section-6.2.3-2.2.5" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2.2.6">
As a further mitigation against amplification attacks, a server can also rely on the Echo Option for CoAP defined in <span>[<a href="#RFC9175" class="cite xref">RFC9175</a>]</span> and include it in a response to a group request. By doing so, the server can verify whether the alleged sender of the group request (i.e., the CoAP client associated with a certain authentication credential including the corresponding public key) is indeed reachable at the claimed source address of the group request, especially if such an address differs from the one used in previous group requests from the same (authenticated) device. Although responses including the Echo Option do still result in amplification, this is limited in volume compared to when all servers reply with a full response.<a href="#section-6.2.3-2.2.6" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2.2.7">
Using the Echo Option does not provide authentication of source addressing information about the sender of a CoAP message. Also, using the Echo Option in itself does not provide source authentication of exchanged messages, which is achieved by means of Group OSCORE (see <a href="#chap-security-considerations-sec-mode-sauth" class="auto internal xref">Section 6.2.2</a>). Using the Echo Option together with Group OSCORE allows a CoAP server in the OSCORE group to verify the freshness of CoAP requests received from other members in the group.<a href="#section-6.2.3-2.2.7" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.2.3-2.3">
              <p id="section-6.2.3-2.3.1">Group OSCORE limits the impact of attacks based on IP spoofing over IP multicast (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-11.4" class="relref">Section 11.4</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>). In fact, requests and corresponding responses sent in the OSCORE group can be correctly generated only by CoAP endpoints that are legitimate members of the group.<a href="#section-6.2.3-2.3.1" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2.3.2">
Within an OSCORE group, the shared symmetric-key security material strictly provides only group-level authentication. However, source authentication of messages is also ensured, both in the group mode by means of signatures (see Sections <a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-7.1" class="relref">7.1</a> and <a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-7.3" class="relref">7.3</a> of <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>), and in the pairwise mode by using additionally derived pairwise keys (see Sections <a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-8.3" class="relref">8.3</a> and <a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-8.5" class="relref">8.5</a> of <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>). Thus, recipient endpoints can verify a message to have been originated and sent by the alleged, identifiable CoAP endpoint in the OSCORE group.<a href="#section-6.2.3-2.3.2" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2.3.3">
As noted above, the server may additionally rely on the Echo Option for CoAP defined in <span>[<a href="#RFC9175" class="cite xref">RFC9175</a>]</span>, in order to verify the aliveness and reachability of the client sending a request from a particular IP address.<a href="#section-6.2.3-2.3.3" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.2.3-2.4">
              <p id="section-6.2.3-2.4.1">Group OSCORE does not require members of an OSCORE group to be equipped with a good source of entropy for generating security material (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-11.6" class="relref">Section 11.6</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>), and thus does not contribute to create an entropy-related attack vector against such (constrained) CoAP endpoints. In particular, the symmetric keys used for message encryption and decryption are derived through the same HMAC-based HKDF scheme used for OSCORE (see <span><a href="https://rfc-editor.org/rfc/rfc8613#section-3.2" class="relref">Section 3.2</a> of [<a href="#RFC8613" class="cite xref">RFC8613</a>]</span>). Besides, the OSCORE Master Secret used in such derivation is securely generated by the Group Manager responsible for the OSCORE group, and securely provided to the CoAP endpoints when they join the OSCORE group.<a href="#section-6.2.3-2.4.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.2.3-2.5">
              <p id="section-6.2.3-2.5.1">Group OSCORE prevents any single member of an OSCORE group from being a target for subverting security in the whole group (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-11.6" class="relref">Section 11.6</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>), even though all group members share (and can derive) the same symmetric-key security material used in the group. In fact, source authentication is always ensured for exchanged CoAP messages, as verifiable to be originated by the alleged, identifiable sender in the OSCORE group. This relies on including a signature computed with a node's individual private key (in the group mode), or on protecting messages with a pairwise symmetric key, which is in turn derived from the asymmetric keys of the sender and recipient CoAP endpoints (in the pairwise mode).<a href="#section-6.2.3-2.5.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="ssec-amplification">
<section id="section-6.3">
        <h3 id="name-risk-of-amplification">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-risk-of-amplification" class="section-name selfRef">Risk of Amplification</a>
        </h3>
<p id="section-6.3-1"><span><a href="https://rfc-editor.org/rfc/rfc7252#section-11.3" class="relref">Section 11.3</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> highlights that CoAP group requests may be used for accidentally or deliberately performing Denial of Service attacks, especially in the form of a high-volume amplification attack, by using all the servers in the CoAP group as attack vectors.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">That is, following a group request sent to a CoAP group, each of the servers in the group may reply with a response which is likely larger in size than the group request. Thus, an attacker sending a single group request may achieve a high amplification factor, i.e., a high ratio between the size of the group request and the total size of the corresponding responses intended to the attack victim.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<p id="section-6.3-3">Thus, consistent with <span><a href="https://rfc-editor.org/rfc/rfc7252#section-11.3" class="relref">Section 11.3</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, a server in a CoAP group:<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-4.1">
            <p id="section-6.3-4.1.1"><span class="bcp14">SHOULD</span> limit the support for CoAP group requests only to the group resources of the application group(s) using that CoAP group;<a href="#section-6.3-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.3-4.2">
            <p id="section-6.3-4.2.1"><span class="bcp14">SHOULD NOT</span> accept group requests that cannot be authenticated in some way, i.e., for which it is not possible to securely verify that they have been originated and sent by the alleged, identifiable CoAP endpoint in the OSCORE group;<a href="#section-6.3-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.3-4.3">
            <p id="section-6.3-4.3.1"><span class="bcp14">SHOULD NOT</span> provide large amplification factors through its responses to a non-authenticated group request, possibly employing CoAP block-wise transfers <span>[<a href="#RFC7959" class="cite xref">RFC7959</a>]</span> to reduce the amount of amplification.<a href="#section-6.3-4.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.3-5">Amplification attacks using CoAP are further discussed in <span>[<a href="#I-D.irtf-t2trg-amplification-attacks" class="cite xref">I-D.irtf-t2trg-amplification-attacks</a>]</span>, which also highlights how the amplification factor would become even higher when CoAP group communication is combined with resource observation <span>[<a href="#RFC7641" class="cite xref">RFC7641</a>]</span>. That is, a single group request may result in multiple notification responses from each of the responding servers, throughout the observation lifetime.<a href="#section-6.3-5" class="pilcrow">¶</a></p>
<p id="section-6.3-6">Thus, consistent with <span><a href="https://rfc-editor.org/rfc/rfc7641#section-7" class="relref">Section 7</a> of [<a href="#RFC7641" class="cite xref">RFC7641</a>]</span>, a server in a CoAP group <span class="bcp14">MUST</span> strictly limit the number of notifications it sends between receiving acknowledgements that confirm the actual interest of the client in continuing the observation.<a href="#section-6.3-6" class="pilcrow">¶</a></p>
<p id="section-6.3-7">Moreover, it is especially easy to perform an amplification attack when the NoSec mode is used. Therefore, also in order to prevent an easy proliferation of high-volume amplification attacks, it is generally <span class="bcp14">NOT RECOMMENDED</span> to use CoAP group communication in NoSec mode (see <a href="#chap-security-considerations-nosec-mode" class="auto internal xref">Section 6.1</a>).<a href="#section-6.3-7" class="pilcrow">¶</a></p>
<p id="section-6.3-8">Besides building on very well understood security implications and being limited to specific, well-defined "unsecured steps" (see <a href="#chap-unsecured-groupcomm" class="auto internal xref">Section 4</a>), possible exceptions should also be limited to use cases where accesses to a group resource have a specific, narrow, and well understood scope, and where only a few CoAP servers (or, ideally, only one) would possibly respond to a group request.<a href="#section-6.3-8" class="pilcrow">¶</a></p>
<p id="section-6.3-9">A relevant exceptional example is a CoAP client performing the discovery of hosts such as a Group Manager or a Resource Directory <span>[<a href="#RFC9176" class="cite xref">RFC9176</a>]</span>, by probing for them through a group request sent to the CoAP group. This early, unprotected step is relevant for a CoAP client that does not know the address of such hosts in advance, and that does not yet have configured a mutual security relationship with them. In this kind of deployments, such a discovery procedure does not result in a considerable and harmful amplification, since only the few CoAP servers that are the object of discovery are going to respond to the group request targeting that specific resource. In particular, those hosts can be the only CoAP servers in that specific CoAP group (hence listening for group requests sent to that group), and/or the only CoAP servers explicitly configured to respond to group requests targeting specific group resources.<a href="#section-6.3-9" class="pilcrow">¶</a></p>
<p id="section-6.3-10">With the exception of such particular use cases, group communications <span class="bcp14">MUST</span> be secured using Group OSCORE <span>[<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>, see <a href="#chap-oscore" class="auto internal xref">Section 5</a>. As discussed in <a href="#chap-security-considerations-sec-mode-attacks" class="auto internal xref">Section 6.2.3</a>, this limits the feasibility and impact of amplification attacks.<a href="#section-6.3-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="replay-of-group-requests">
<section id="section-6.4">
        <h3 id="name-replay-of-group-requests">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-replay-of-group-requests" class="section-name selfRef">Replay of Group Requests</a>
        </h3>
<p id="section-6.4-1">After a client has sent a group request over IP multicast, an adversary might capture the group request to be re-injected in the group as a replay to the server nodes. In particular:<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.4-2.1">
            <p id="section-6.4-2.1.1">If the adversary re-injects the group request before the client has freed up the corresponding Token value (see <a href="#sec-token-reuse" class="auto internal xref">Section 3.1.5</a>), the client might receive additional responses from one or more of the servers in the group.<a href="#section-6.4-2.1.1" class="pilcrow">¶</a></p>
<p id="section-6.4-2.1.2">
Due to the group request being Non-confirmable and thus not eliciting Acknowledgement messages, the client might not be able to notice the attack, or to distinguish the responses that a particular server has sent as reply to the original group request (if any) or to the replayed group request.<a href="#section-6.4-2.1.2" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.4-2.2">
            <p id="section-6.4-2.2.1">If the adversary re-injects the group request after the client has freed up the corresponding Token value, the client would not have anymore a valid, active request matching with responses that the servers sent to the replayed group request.<a href="#section-6.4-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.4-3">It follows that, in either case, this replay attack would not accomplish anything on the client, although it does effectively target the servers in the group that do not implement the optional Message ID based deduplication.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
<p id="section-6.4-4">If Group OSCORE is used, such a replay attack is prevented on all servers, since a client protects each different request with a different Sequence Number value, which is in turn included as Partial IV in the protected message and takes part in the construction of the AEAD cipher nonce. Thus, a server would be able to detect the replayed request, by checking the conveyed Partial IV against its own replay window in the OSCORE Recipient Context associated with the client.<a href="#section-6.4-4" class="pilcrow">¶</a></p>
<p id="section-6.4-5">This requires a server to have a Replay Window that is in a valid state. If the server's Replay Window is initialized as invalid, e.g., due to a reboot, the server should use the challenge-response synchronization method based on the Echo Option for CoAP defined in <span>[<a href="#RFC9175" class="cite xref">RFC9175</a>]</span> as described in <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26#section-9" class="relref">Section 9</a> of [<a href="#I-D.ietf-core-oscore-groupcomm" class="cite xref">I-D.ietf-core-oscore-groupcomm</a>]</span>, in order to make the Replay Window valid before resuming to accept incoming messages from other group members.<a href="#section-6.4-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="use-of-coap-no-response-option">
<section id="section-6.5">
        <h3 id="name-use-of-coap-no-response-opt">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-use-of-coap-no-response-opt" class="section-name selfRef">Use of CoAP No-Response Option</a>
        </h3>
<p id="section-6.5-1">When CoAP group communication is used in CoAP NoSec (No Security)
mode (see <a href="#chap-unsecured-groupcomm" class="auto internal xref">Section 4</a>), the CoAP No-Response Option <span>[<a href="#RFC7967" class="cite xref">RFC7967</a>]</span> could be misused by a malicious client to evoke as many responses from servers to a group request as possible, by using the value '0' -- Interested in all responses. This might even override the default behavior of a CoAP server to suppress the response in case there is nothing of interest to respond with. Therefore, this option can be used to perform an amplification attack (see <a href="#ssec-amplification" class="auto internal xref">Section 6.3</a>).<a href="#section-6.5-1" class="pilcrow">¶</a></p>
<p id="section-6.5-2">As a mitigation, a server that takes into account the No-Response Option can specifically relax the standard suppression rules for a resource only in case the option is sent by an authenticated client. Consequently, if sent by an unauthenticated client, the option can still be used to expand the classes of responses suppressed compared to the default rules, but not to reduce the classes of responses suppressed.<a href="#section-6.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-security-considerations-6lowpan-mpl">
<section id="section-6.6">
        <h3 id="name-6lowpan-and-mpl">
<a href="#section-6.6" class="section-number selfRef">6.6. </a><a href="#name-6lowpan-and-mpl" class="section-name selfRef">6LoWPAN and MPL</a>
        </h3>
<p id="section-6.6-1">In a 6LoWPAN network, the MPL <span>[<a href="#RFC7731" class="cite xref">RFC7731</a>]</span> protocol may be used to forward multicast packets throughout the network. A 6LoWPAN Router that forwards a large IPv6 packet may have a relatively high impact on the occupation of the wireless channel because sending a large packet consists of the transmission of multiple link-layer IEEE 802.15.4 frames. Also, a constrained 6LoWPAN Router may experience a high memory load due to buffering of the large packet -- MPL requires an MPL Forwarder to store the packet for a longer duration, to allow multiple forwarding transmissions to neighboring Forwarders. This could allow an attacker on the 6LoWPAN network or outside the 6LoWPAN network to execute a Denial of Service (DoS) attack by sending large IPv6 multicast packets. This is also an amplification attack in general, because each of potentially multiple MPL Forwarder(s) repeats the transmission of the IPv6 packet potentially multiple times, hence amplifying the original amount of data sent by the attacker considerably.<a href="#section-6.6-1" class="pilcrow">¶</a></p>
<p id="section-6.6-2">The amplification factor may be even further increased by the loss of link-layer frames. If one or more of the fragments are not received correctly by an MPL Forwarder during its packet reassembly time window, the Forwarder discards all received fragments and it will likely at a future point in time trigger a neighboring MPL Forwarder to send the IPv6 packet (fragments) again, because its internal state marks this packet (that it failed to received previously) still as a "new" IPv6 packet. Hence, this leads to an MPL Forwarder signaling to neighbors its "old" state, triggering additional transmission(s) of all packet fragments.<a href="#section-6.6-2" class="pilcrow">¶</a></p>
<p id="section-6.6-3">For these reasons, a large IPv6 multicast packet is a possible attack vector in a Denial of Service (DoS) amplification attack on a 6LoWPAN network. See <a href="#ssec-amplification" class="auto internal xref">Section 6.3</a> of this document and <span><a href="https://rfc-editor.org/rfc/rfc7252#section-11.3" class="relref">Section 11.3</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span> for more details on amplification. To mitigate the risk, applications sending multicast IPv6 requests to 6LoWPAN hosted CoAP servers <span class="bcp14">SHOULD</span> limit the size of the request to avoid 6LoWPAN fragmentation of the request packet. If packet forwarding relies on priority-based scheduling, a 6LoWPAN Router or (MPL) multicast forwarder <span class="bcp14">SHOULD</span> deprioritize forwarding for multi-fragment 6LoWPAN multicast packets, which is implementation specific. 6LoWPAN Border Routers are typical ingress points where multicast traffic enters into a 6LoWPAN network. Specific MPL Forwarders (whether located on a 6LBR or not) may also be configured as ingress points. Any such ingress point <span class="bcp14">SHOULD</span> implement multicast packet filtering to prevent unwanted multicast traffic from entering a 6LoWPAN network from the outside. For example, it could filter out all multicast packets for which there is no known multicast listener on the 6LoWPAN network. See <a href="#sec-other-protocols" class="auto internal xref">Section 3.10</a> for protocols that allow multicast listeners to signal which groups they would like to listen to. As part of multicast packet filtering, the ingress point <span class="bcp14">SHOULD</span> implement a filtering criterion based on the size of the multicast packet. Ingress multicast packets above a defined size may then be dropped or deprioritized.<a href="#section-6.6-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="wi-fi">
<section id="section-6.7">
        <h3 id="name-wi-fi">
<a href="#section-6.7" class="section-number selfRef">6.7. </a><a href="#name-wi-fi" class="section-name selfRef">Wi-Fi</a>
        </h3>
<p id="section-6.7-1">In a home automation scenario using Wi-Fi, Wi-Fi security
   should be enabled to prevent rogue nodes from joining.  The Customer
   Premises Equipment (CPE) that enables access to the Internet should
   also have its IP multicast filters set so that it enforces multicast
   scope boundaries to isolate local multicast groups from the rest of
   the Internet (e.g., as per <span>[<a href="#RFC6092" class="cite xref">RFC6092</a>]</span>). In addition, the scope of
   IP multicast transmissions and listeners should be site-local (5) or smaller.  For
   site-local scope, the CPE will be an appropriate multicast scope
   boundary point.<a href="#section-6.7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="monitoring">
<section id="section-6.8">
        <h3 id="name-monitoring">
<a href="#section-6.8" class="section-number selfRef">6.8. </a><a href="#name-monitoring" class="section-name selfRef">Monitoring</a>
        </h3>
<div id="general-monitoring">
<section id="section-6.8.1">
          <h4 id="name-general-monitoring">
<a href="#section-6.8.1" class="section-number selfRef">6.8.1. </a><a href="#name-general-monitoring" class="section-name selfRef">General Monitoring</a>
          </h4>
<p id="section-6.8.1-1">CoAP group communication can be used to control a set of
   related devices: for example, to simultaneously turn on all the lights in a
   room. This intrinsically exposes the communicating devices to some unique
   monitoring risks, which they are not as vulnerable to when not using group communication.<a href="#section-6.8.1-1" class="pilcrow">¶</a></p>
<p id="section-6.8.1-2">For example, an attacker might be able to
   physically see a set of lights turn on in a room. Then, the attacker
   can correlate an observed CoAP group communication message to the observed
   coordinated group action -- even if the CoAP message is (partly) encrypted.
   This will give the attacker side-channel information
   to plan further attacks (e.g., by determining the members of the CoAP group, some network topology information may be deduced).<a href="#section-6.8.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="pervasive-monitoring">
<section id="section-6.8.2">
          <h4 id="name-pervasive-monitoring">
<a href="#section-6.8.2" class="section-number selfRef">6.8.2. </a><a href="#name-pervasive-monitoring" class="section-name selfRef">Pervasive Monitoring</a>
          </h4>
<p id="section-6.8.2-1">CoAP traffic is typically used for the Internet of Things, and CoAP (multicast) group communication may specifically be used for conveniently controlling and monitoring critical infrastructure (e.g., lights, alarms, HVAC, electrical grid, etc.).<a href="#section-6.8.2-1" class="pilcrow">¶</a></p>
<p id="section-6.8.2-2">This may make it a prime target of pervasive monitoring attacks <span>[<a href="#RFC7258" class="cite xref">RFC7258</a>]</span>, which have to be considered as a key additional threat for group communication. For example, an attacker may attempt to record all the CoAP traffic going over a smart grid (i.e., networked electrical utility) and try to determine critical nodes for further attacks. For instance, the source node (controller) sends out CoAP group messages, which easily identifies it as a controller.<a href="#section-6.8.2-2" class="pilcrow">¶</a></p>
<p id="section-6.8.2-3">CoAP group communication built on top of IP multicast is inherently more vulnerable compared to communications solely relying on IP unicast, since the same packet may be replicated over many links. In particular, this yields a higher probability of packet capture by a pervasive monitoring system, which in turn results in more information available to analyze within the same time interval. Moreover, a single CoAP group request potentially results in multiple CoAP responses, thus further contributing to the information available to analyze.<a href="#section-6.8.2-3" class="pilcrow">¶</a></p>
<p id="section-6.8.2-4">This requires CoAP group communication solutions that are built on top of IP multicast to pay particular attention to these dangers.<a href="#section-6.8.2-4" class="pilcrow">¶</a></p>
<p id="section-6.8.2-5">In order to limit the ease of interception of group communication messages, one mitigation is to restrict the scope of IP multicast to the minimal scope that fulfills the application need. See the congestion control recommendations in the last bullet of
   <a href="#sec-congestion" class="auto internal xref">Section 3.6</a> to minimize the scope. Thus, for example, realm-local IP multicast scope is always preferred over site-local scope IP multicast, if it fulfills the application needs.<a href="#section-6.8.2-5" class="pilcrow">¶</a></p>
<p id="section-6.8.2-6">Even if CoAP group communications are encrypted/protected (see <a href="#chap-oscore" class="auto internal xref">Section 5</a>), an attacker may still attempt to capture this traffic and perform an off-line attack in the future.<a href="#section-6.8.2-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="iana">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document has no actions for IANA.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-combined-references">
<section id="section-8">
      <h2 id="name-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-8.1">
        <h3 id="name-normative-references">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-core-oscore-groupcomm">[I-D.ietf-core-oscore-groupcomm]</dt>
        <dd>
<span class="refAuthor">Tiloca, M.</span>, <span class="refAuthor">Selander, G.</span>, <span class="refAuthor">Palombini, F.</span>, <span class="refAuthor">Mattsson, J. P.</span>, and <span class="refAuthor">R. Höglund</span>, <span class="refTitle">"Group Object Security for Constrained RESTful Environments (Group OSCORE)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-core-oscore-groupcomm-26</span>, <time datetime="2025-07-05" class="refDate">5 July 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26">https://datatracker.ietf.org/doc/html/draft-ietf-core-oscore-groupcomm-26</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Resource.Type.Link.Target.Attribute.Values">[Resource.Type.Link.Target.Attribute.Values]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Resource Type (rt=) Link Target Attribute Values"</span>, <span>&lt;<a href="https://www.iana.org/assignments/core-parameters/core-parameters.xhtml#rt-link-target-att-value">https://www.iana.org/assignments/core-parameters/core-parameters.xhtml#rt-link-target-att-value</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1122">[RFC1122]</dt>
        <dd>
<span class="refAuthor">Braden, R., Ed.</span>, <span class="refTitle">"Requirements for Internet Hosts - Communication Layers"</span>, <span class="seriesInfo">STD 3</span>, <span class="seriesInfo">RFC 1122</span>, <span class="seriesInfo">DOI 10.17487/RFC1122</span>, <time datetime="1989-10" class="refDate">October 1989</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc1122">https://www.rfc-editor.org/rfc/rfc1122</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4443">[RFC4443]</dt>
        <dd>
<span class="refAuthor">Conta, A.</span>, <span class="refAuthor">Deering, S.</span>, and <span class="refAuthor">M. Gupta, Ed.</span>, <span class="refTitle">"Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 89</span>, <span class="seriesInfo">RFC 4443</span>, <span class="seriesInfo">DOI 10.17487/RFC4443</span>, <time datetime="2006-03" class="refDate">March 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4443">https://www.rfc-editor.org/rfc/rfc4443</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4944">[RFC4944]</dt>
        <dd>
<span class="refAuthor">Montenegro, G.</span>, <span class="refAuthor">Kushalnagar, N.</span>, <span class="refAuthor">Hui, J.</span>, and <span class="refAuthor">D. Culler</span>, <span class="refTitle">"Transmission of IPv6 Packets over IEEE 802.15.4 Networks"</span>, <span class="seriesInfo">RFC 4944</span>, <span class="seriesInfo">DOI 10.17487/RFC4944</span>, <time datetime="2007-09" class="refDate">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4944">https://www.rfc-editor.org/rfc/rfc4944</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6282">[RFC6282]</dt>
        <dd>
<span class="refAuthor">Hui, J., Ed.</span> and <span class="refAuthor">P. Thubert</span>, <span class="refTitle">"Compression Format for IPv6 Datagrams over IEEE 802.15.4-Based Networks"</span>, <span class="seriesInfo">RFC 6282</span>, <span class="seriesInfo">DOI 10.17487/RFC6282</span>, <time datetime="2011-09" class="refDate">September 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6282">https://www.rfc-editor.org/rfc/rfc6282</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6690">[RFC6690]</dt>
        <dd>
<span class="refAuthor">Shelby, Z.</span>, <span class="refTitle">"Constrained RESTful Environments (CoRE) Link Format"</span>, <span class="seriesInfo">RFC 6690</span>, <span class="seriesInfo">DOI 10.17487/RFC6690</span>, <time datetime="2012-08" class="refDate">August 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6690">https://www.rfc-editor.org/rfc/rfc6690</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6775">[RFC6775]</dt>
        <dd>
<span class="refAuthor">Shelby, Z., Ed.</span>, <span class="refAuthor">Chakrabarti, S.</span>, <span class="refAuthor">Nordmark, E.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Neighbor Discovery Optimization for IPv6 over Low-Power Wireless Personal Area Networks (6LoWPANs)"</span>, <span class="seriesInfo">RFC 6775</span>, <span class="seriesInfo">DOI 10.17487/RFC6775</span>, <time datetime="2012-11" class="refDate">November 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6775">https://www.rfc-editor.org/rfc/rfc6775</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7252">[RFC7252]</dt>
        <dd>
<span class="refAuthor">Shelby, Z.</span>, <span class="refAuthor">Hartke, K.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"The Constrained Application Protocol (CoAP)"</span>, <span class="seriesInfo">RFC 7252</span>, <span class="seriesInfo">DOI 10.17487/RFC7252</span>, <time datetime="2014-06" class="refDate">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7252">https://www.rfc-editor.org/rfc/rfc7252</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7641">[RFC7641]</dt>
        <dd>
<span class="refAuthor">Hartke, K.</span>, <span class="refTitle">"Observing Resources in the Constrained Application Protocol (CoAP)"</span>, <span class="seriesInfo">RFC 7641</span>, <span class="seriesInfo">DOI 10.17487/RFC7641</span>, <time datetime="2015-09" class="refDate">September 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7641">https://www.rfc-editor.org/rfc/rfc7641</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7959">[RFC7959]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">Z. Shelby, Ed.</span>, <span class="refTitle">"Block-Wise Transfers in the Constrained Application Protocol (CoAP)"</span>, <span class="seriesInfo">RFC 7959</span>, <span class="seriesInfo">DOI 10.17487/RFC7959</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7959">https://www.rfc-editor.org/rfc/rfc7959</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7967">[RFC7967]</dt>
        <dd>
<span class="refAuthor">Bhattacharyya, A.</span>, <span class="refAuthor">Bandyopadhyay, S.</span>, <span class="refAuthor">Pal, A.</span>, and <span class="refAuthor">T. Bose</span>, <span class="refTitle">"Constrained Application Protocol (CoAP) Option for No Server Response"</span>, <span class="seriesInfo">RFC 7967</span>, <span class="seriesInfo">DOI 10.17487/RFC7967</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7967">https://www.rfc-editor.org/rfc/rfc7967</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8075">[RFC8075]</dt>
        <dd>
<span class="refAuthor">Castellani, A.</span>, <span class="refAuthor">Loreto, S.</span>, <span class="refAuthor">Rahman, A.</span>, <span class="refAuthor">Fossati, T.</span>, and <span class="refAuthor">E. Dijk</span>, <span class="refTitle">"Guidelines for Mapping Implementations: HTTP to the Constrained Application Protocol (CoAP)"</span>, <span class="seriesInfo">RFC 8075</span>, <span class="seriesInfo">DOI 10.17487/RFC8075</span>, <time datetime="2017-02" class="refDate">February 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8075">https://www.rfc-editor.org/rfc/rfc8075</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8132">[RFC8132]</dt>
        <dd>
<span class="refAuthor">van der Stok, P.</span>, <span class="refAuthor">Bormann, C.</span>, and <span class="refAuthor">A. Sehgal</span>, <span class="refTitle">"PATCH and FETCH Methods for the Constrained Application Protocol (CoAP)"</span>, <span class="seriesInfo">RFC 8132</span>, <span class="seriesInfo">DOI 10.17487/RFC8132</span>, <time datetime="2017-04" class="refDate">April 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8132">https://www.rfc-editor.org/rfc/rfc8132</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8613">[RFC8613]</dt>
        <dd>
<span class="refAuthor">Selander, G.</span>, <span class="refAuthor">Mattsson, J.</span>, <span class="refAuthor">Palombini, F.</span>, and <span class="refAuthor">L. Seitz</span>, <span class="refTitle">"Object Security for Constrained RESTful Environments (OSCORE)"</span>, <span class="seriesInfo">RFC 8613</span>, <span class="seriesInfo">DOI 10.17487/RFC8613</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8613">https://www.rfc-editor.org/rfc/rfc8613</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9052">[RFC9052]</dt>
        <dd>
<span class="refAuthor">Schaad, J.</span>, <span class="refTitle">"CBOR Object Signing and Encryption (COSE): Structures and Process"</span>, <span class="seriesInfo">STD 96</span>, <span class="seriesInfo">RFC 9052</span>, <span class="seriesInfo">DOI 10.17487/RFC9052</span>, <time datetime="2022-08" class="refDate">August 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9052">https://www.rfc-editor.org/rfc/rfc9052</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9053">[RFC9053]</dt>
        <dd>
<span class="refAuthor">Schaad, J.</span>, <span class="refTitle">"CBOR Object Signing and Encryption (COSE): Initial Algorithms"</span>, <span class="seriesInfo">RFC 9053</span>, <span class="seriesInfo">DOI 10.17487/RFC9053</span>, <time datetime="2022-08" class="refDate">August 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9053">https://www.rfc-editor.org/rfc/rfc9053</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9110">[RFC9110]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP Semantics"</span>, <span class="seriesInfo">STD 97</span>, <span class="seriesInfo">RFC 9110</span>, <span class="seriesInfo">DOI 10.17487/RFC9110</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9110">https://www.rfc-editor.org/rfc/rfc9110</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9112">[RFC9112]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP/1.1"</span>, <span class="seriesInfo">STD 99</span>, <span class="seriesInfo">RFC 9112</span>, <span class="seriesInfo">DOI 10.17487/RFC9112</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9112">https://www.rfc-editor.org/rfc/rfc9112</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9175">[RFC9175]</dt>
        <dd>
<span class="refAuthor">Amsüss, C.</span>, <span class="refAuthor">Preuß Mattsson, J.</span>, and <span class="refAuthor">G. Selander</span>, <span class="refTitle">"Constrained Application Protocol (CoAP): Echo, Request-Tag, and Token Processing"</span>, <span class="seriesInfo">RFC 9175</span>, <span class="seriesInfo">DOI 10.17487/RFC9175</span>, <time datetime="2022-02" class="refDate">February 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9175">https://www.rfc-editor.org/rfc/rfc9175</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9776">[RFC9776]</dt>
      <dd>
<span class="refAuthor">Haberman, B., Ed.</span>, <span class="refTitle">"Internet Group Management Protocol, Version 3"</span>, <span class="seriesInfo">STD 100</span>, <span class="seriesInfo">RFC 9776</span>, <span class="seriesInfo">DOI 10.17487/RFC9776</span>, <time datetime="2025-03" class="refDate">March 2025</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9776">https://www.rfc-editor.org/rfc/rfc9776</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-8.2">
        <h3 id="name-informative-references">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="Californium">[Californium]</dt>
        <dd>
<span class="refAuthor">Eclipse Foundation</span>, <span class="refTitle">"Eclipse Californium"</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://github.com/eclipse/californium">https://github.com/eclipse/californium</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Go-CoAP">[Go-CoAP]</dt>
        <dd>
<span class="refAuthor">Open Connectivity Foundation (OCF)</span>, <span class="refTitle">"Go-CoAP"</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://github.com/go-ocf/go-coap">https://github.com/go-ocf/go-coap</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.bormann-core-responses">[I-D.bormann-core-responses]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">C. Amsüss</span>, <span class="refTitle">"CoAP: Non-traditional response forms"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-bormann-core-responses-05</span>, <time datetime="2025-08-30" class="refDate">30 August 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-bormann-core-responses-05">https://datatracker.ietf.org/doc/html/draft-bormann-core-responses-05</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-ace-key-groupcomm-oscore">[I-D.ietf-ace-key-groupcomm-oscore]</dt>
        <dd>
<span class="refAuthor">Tiloca, M.</span> and <span class="refAuthor">F. Palombini</span>, <span class="refTitle">"Key Management for Group Object Security for Constrained RESTful Environments (Group OSCORE) Using Authentication and Authorization for Constrained Environments (ACE)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ace-key-groupcomm-oscore-18</span>, <time datetime="2025-08-28" class="refDate">28 August 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-ace-key-groupcomm-oscore-18">https://datatracker.ietf.org/doc/html/draft-ietf-ace-key-groupcomm-oscore-18</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-ace-oscore-gm-admin">[I-D.ietf-ace-oscore-gm-admin]</dt>
        <dd>
<span class="refAuthor">Tiloca, M.</span>, <span class="refAuthor">Höglund, R.</span>, <span class="refAuthor">Van der Stok, P.</span>, and <span class="refAuthor">F. Palombini</span>, <span class="refTitle">"Admin Interface for the OSCORE Group Manager"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ace-oscore-gm-admin-13</span>, <time datetime="2025-01-08" class="refDate">8 January 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-ace-oscore-gm-admin-13">https://datatracker.ietf.org/doc/html/draft-ietf-ace-oscore-gm-admin-13</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-anima-constrained-voucher">[I-D.ietf-anima-constrained-voucher]</dt>
        <dd>
<span class="refAuthor">Richardson, M.</span>, <span class="refAuthor">Van der Stok, P.</span>, <span class="refAuthor">Kampanakis, P.</span>, and <span class="refAuthor">E. Dijk</span>, <span class="refTitle">"Constrained Bootstrapping Remote Secure Key Infrastructure (cBRSKI)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-constrained-voucher-28</span>, <time datetime="2025-07-06" class="refDate">6 July 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-anima-constrained-voucher-28">https://datatracker.ietf.org/doc/html/draft-ietf-anima-constrained-voucher-28</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-core-coap-pubsub">[I-D.ietf-core-coap-pubsub]</dt>
        <dd>
<span class="refAuthor">Jimenez, J.</span>, <span class="refAuthor">Koster, M.</span>, and <span class="refAuthor">A. Keränen</span>, <span class="refTitle">"A publish-subscribe architecture for the Constrained Application Protocol (CoAP)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-core-coap-pubsub-18</span>, <time datetime="2025-02-28" class="refDate">28 February 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-coap-pubsub-18">https://datatracker.ietf.org/doc/html/draft-ietf-core-coap-pubsub-18</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-core-groupcomm-proxy">[I-D.ietf-core-groupcomm-proxy]</dt>
        <dd>
<span class="refAuthor">Tiloca, M.</span> and <span class="refAuthor">E. Dijk</span>, <span class="refTitle">"Proxy Operations for CoAP Group Communication"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-core-groupcomm-proxy-05</span>, <time datetime="2025-09-03" class="refDate">3 September 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-groupcomm-proxy-05">https://datatracker.ietf.org/doc/html/draft-ietf-core-groupcomm-proxy-05</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-core-transport-indication">[I-D.ietf-core-transport-indication]</dt>
        <dd>
<span class="refAuthor">Amsüss, C.</span> and <span class="refAuthor">M. S. Lenders</span>, <span class="refTitle">"CoAP Transport Indication"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-core-transport-indication-09</span>, <time datetime="2025-07-07" class="refDate">7 July 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-transport-indication-09">https://datatracker.ietf.org/doc/html/draft-ietf-core-transport-indication-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.irtf-t2trg-amplification-attacks">[I-D.irtf-t2trg-amplification-attacks]</dt>
        <dd>
<span class="refAuthor">Mattsson, J. P.</span>, <span class="refAuthor">Selander, G.</span>, and <span class="refAuthor">C. Amsüss</span>, <span class="refTitle">"Amplification Attacks Using the Constrained Application Protocol (CoAP)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-irtf-t2trg-amplification-attacks-05</span>, <time datetime="2025-06-18" class="refDate">18 June 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-irtf-t2trg-amplification-attacks-05">https://datatracker.ietf.org/doc/html/draft-irtf-t2trg-amplification-attacks-05</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.tiloca-core-oscore-discovery">[I-D.tiloca-core-oscore-discovery]</dt>
        <dd>
<span class="refAuthor">Tiloca, M.</span>, <span class="refAuthor">Amsüss, C.</span>, and <span class="refAuthor">P. Van der Stok</span>, <span class="refTitle">"Discovery of OSCORE Groups with the CoRE Resource Directory"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-tiloca-core-oscore-discovery-18</span>, <time datetime="2025-09-03" class="refDate">3 September 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-tiloca-core-oscore-discovery-18">https://datatracker.ietf.org/doc/html/draft-tiloca-core-oscore-discovery-18</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="libcoap">[libcoap]</dt>
        <dd>
<span class="refAuthor">Bergmann, O.</span>, <span class="refTitle">"libcoap"</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://github.com/obgm/libcoap">https://github.com/obgm/libcoap</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1035">[RFC1035]</dt>
        <dd>
<span class="refAuthor">Mockapetris, P.</span>, <span class="refTitle">"Domain names - implementation and specification"</span>, <span class="seriesInfo">STD 13</span>, <span class="seriesInfo">RFC 1035</span>, <span class="seriesInfo">DOI 10.17487/RFC1035</span>, <time datetime="1987-11" class="refDate">November 1987</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc1035">https://www.rfc-editor.org/rfc/rfc1035</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6092">[RFC6092]</dt>
        <dd>
<span class="refAuthor">Woodyatt, J., Ed.</span>, <span class="refTitle">"Recommended Simple Security Capabilities in Customer Premises Equipment (CPE) for Providing Residential IPv6 Internet Service"</span>, <span class="seriesInfo">RFC 6092</span>, <span class="seriesInfo">DOI 10.17487/RFC6092</span>, <time datetime="2011-01" class="refDate">January 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6092">https://www.rfc-editor.org/rfc/rfc6092</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6550">[RFC6550]</dt>
        <dd>
<span class="refAuthor">Winter, T., Ed.</span>, <span class="refAuthor">Thubert, P., Ed.</span>, <span class="refAuthor">Brandt, A.</span>, <span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Kelsey, R.</span>, <span class="refAuthor">Levis, P.</span>, <span class="refAuthor">Pister, K.</span>, <span class="refAuthor">Struik, R.</span>, <span class="refAuthor">Vasseur, JP.</span>, and <span class="refAuthor">R. Alexander</span>, <span class="refTitle">"RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6550</span>, <span class="seriesInfo">DOI 10.17487/RFC6550</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6550">https://www.rfc-editor.org/rfc/rfc6550</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6636">[RFC6636]</dt>
        <dd>
<span class="refAuthor">Asaeda, H.</span>, <span class="refAuthor">Liu, H.</span>, and <span class="refAuthor">Q. Wu</span>, <span class="refTitle">"Tuning the Behavior of the Internet Group Management Protocol (IGMP) and Multicast Listener Discovery (MLD) for Routers in Mobile and Wireless Networks"</span>, <span class="seriesInfo">RFC 6636</span>, <span class="seriesInfo">DOI 10.17487/RFC6636</span>, <time datetime="2012-05" class="refDate">May 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6636">https://www.rfc-editor.org/rfc/rfc6636</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7258">[RFC7258]</dt>
        <dd>
<span class="refAuthor">Farrell, S.</span> and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"Pervasive Monitoring Is an Attack"</span>, <span class="seriesInfo">BCP 188</span>, <span class="seriesInfo">RFC 7258</span>, <span class="seriesInfo">DOI 10.17487/RFC7258</span>, <time datetime="2014-05" class="refDate">May 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7258">https://www.rfc-editor.org/rfc/rfc7258</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7346">[RFC7346]</dt>
        <dd>
<span class="refAuthor">Droms, R.</span>, <span class="refTitle">"IPv6 Multicast Address Scopes"</span>, <span class="seriesInfo">RFC 7346</span>, <span class="seriesInfo">DOI 10.17487/RFC7346</span>, <time datetime="2014-08" class="refDate">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7346">https://www.rfc-editor.org/rfc/rfc7346</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7390">[RFC7390]</dt>
        <dd>
<span class="refAuthor">Rahman, A., Ed.</span> and <span class="refAuthor">E. Dijk, Ed.</span>, <span class="refTitle">"Group Communication for the Constrained Application Protocol (CoAP)"</span>, <span class="seriesInfo">RFC 7390</span>, <span class="seriesInfo">DOI 10.17487/RFC7390</span>, <time datetime="2014-10" class="refDate">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7390">https://www.rfc-editor.org/rfc/rfc7390</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7731">[RFC7731]</dt>
        <dd>
<span class="refAuthor">Hui, J.</span> and <span class="refAuthor">R. Kelsey</span>, <span class="refTitle">"Multicast Protocol for Low-Power and Lossy Networks (MPL)"</span>, <span class="seriesInfo">RFC 7731</span>, <span class="seriesInfo">DOI 10.17487/RFC7731</span>, <time datetime="2016-02" class="refDate">February 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7731">https://www.rfc-editor.org/rfc/rfc7731</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8323">[RFC8323]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refAuthor">Lemay, S.</span>, <span class="refAuthor">Tschofenig, H.</span>, <span class="refAuthor">Hartke, K.</span>, <span class="refAuthor">Silverajan, B.</span>, and <span class="refAuthor">B. Raymor, Ed.</span>, <span class="refTitle">"CoAP (Constrained Application Protocol) over TCP, TLS, and WebSockets"</span>, <span class="seriesInfo">RFC 8323</span>, <span class="seriesInfo">DOI 10.17487/RFC8323</span>, <time datetime="2018-02" class="refDate">February 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8323">https://www.rfc-editor.org/rfc/rfc8323</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8710">[RFC8710]</dt>
        <dd>
<span class="refAuthor">Fossati, T.</span>, <span class="refAuthor">Hartke, K.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Multipart Content-Format for the Constrained Application Protocol (CoAP)"</span>, <span class="seriesInfo">RFC 8710</span>, <span class="seriesInfo">DOI 10.17487/RFC8710</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8710">https://www.rfc-editor.org/rfc/rfc8710</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9019">[RFC9019]</dt>
        <dd>
<span class="refAuthor">Moran, B.</span>, <span class="refAuthor">Tschofenig, H.</span>, <span class="refAuthor">Brown, D.</span>, and <span class="refAuthor">M. Meriac</span>, <span class="refTitle">"A Firmware Update Architecture for Internet of Things"</span>, <span class="seriesInfo">RFC 9019</span>, <span class="seriesInfo">DOI 10.17487/RFC9019</span>, <time datetime="2021-04" class="refDate">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9019">https://www.rfc-editor.org/rfc/rfc9019</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9124">[RFC9124]</dt>
        <dd>
<span class="refAuthor">Moran, B.</span>, <span class="refAuthor">Tschofenig, H.</span>, and <span class="refAuthor">H. Birkholz</span>, <span class="refTitle">"A Manifest Information Model for Firmware Updates in Internet of Things (IoT) Devices"</span>, <span class="seriesInfo">RFC 9124</span>, <span class="seriesInfo">DOI 10.17487/RFC9124</span>, <time datetime="2022-01" class="refDate">January 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9124">https://www.rfc-editor.org/rfc/rfc9124</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9176">[RFC9176]</dt>
        <dd>
<span class="refAuthor">Amsüss, C., Ed.</span>, <span class="refAuthor">Shelby, Z.</span>, <span class="refAuthor">Koster, M.</span>, <span class="refAuthor">Bormann, C.</span>, and <span class="refAuthor">P. van der Stok</span>, <span class="refTitle">"Constrained RESTful Environments (CoRE) Resource Directory"</span>, <span class="seriesInfo">RFC 9176</span>, <span class="seriesInfo">DOI 10.17487/RFC9176</span>, <time datetime="2022-04" class="refDate">April 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9176">https://www.rfc-editor.org/rfc/rfc9176</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9177">[RFC9177]</dt>
        <dd>
<span class="refAuthor">Boucadair, M.</span> and <span class="refAuthor">J. Shallow</span>, <span class="refTitle">"Constrained Application Protocol (CoAP) Block-Wise Transfer Options Supporting Robust Transmission"</span>, <span class="seriesInfo">RFC 9177</span>, <span class="seriesInfo">DOI 10.17487/RFC9177</span>, <time datetime="2022-03" class="refDate">March 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9177">https://www.rfc-editor.org/rfc/rfc9177</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9200">[RFC9200]</dt>
        <dd>
<span class="refAuthor">Seitz, L.</span>, <span class="refAuthor">Selander, G.</span>, <span class="refAuthor">Wahlstroem, E.</span>, <span class="refAuthor">Erdtman, S.</span>, and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"Authentication and Authorization for Constrained Environments Using the OAuth 2.0 Framework (ACE-OAuth)"</span>, <span class="seriesInfo">RFC 9200</span>, <span class="seriesInfo">DOI 10.17487/RFC9200</span>, <time datetime="2022-08" class="refDate">August 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9200">https://www.rfc-editor.org/rfc/rfc9200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9685">[RFC9685]</dt>
        <dd>
<span class="refAuthor">Thubert, P., Ed.</span>, <span class="refTitle">"Listener Subscription for IPv6 Neighbor Discovery Multicast and Anycast Addresses"</span>, <span class="seriesInfo">RFC 9685</span>, <span class="seriesInfo">DOI 10.17487/RFC9685</span>, <time datetime="2024-11" class="refDate">November 2024</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9685">https://www.rfc-editor.org/rfc/rfc9685</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9777">[RFC9777]</dt>
      <dd>
<span class="refAuthor">Haberman, B., Ed.</span>, <span class="refTitle">"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"</span>, <span class="seriesInfo">STD 101</span>, <span class="seriesInfo">RFC 9777</span>, <span class="seriesInfo">DOI 10.17487/RFC9777</span>, <time datetime="2025-03" class="refDate">March 2025</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9777">https://www.rfc-editor.org/rfc/rfc9777</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="appendix-usecases">
<section id="appendix-A">
      <h2 id="name-use-cases">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-use-cases" class="section-name selfRef">Use Cases</a>
      </h2>
<p id="appendix-A-1">To illustrate where and how CoAP-based group communication can be used, this section summarizes the most common use cases. These use cases include both secured and non-secured CoAP usage. Each subsection below covers one particular category of use cases for CoRE. Within each category, a use case may cover multiple application areas such as home IoT, commercial building IoT (sensing and control), industrial IoT/control, or environmental sensing.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<div id="discovery">
<section id="appendix-A.1">
        <h3 id="name-discovery">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-discovery" class="section-name selfRef">Discovery</a>
        </h3>
<p id="appendix-A.1-1">Discovery of physical devices in a network, or discovery of resources hosted on network devices, are operations that are usually required in a system during the phases of setup or (re)configuration. When a discovery use case involves devices that need to interact without having been configured previously with a common security context, unsecured CoAP communication is typically used. Discovery may involve a request to a directory server, which provides services to aid clients in the discovery process. One particular type of directory server is the CoRE Resource Directory <span>[<a href="#RFC9176" class="cite xref">RFC9176</a>]</span>; and there may be other types of directories that can be used with CoAP.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<div id="sec-uc-dd">
<section id="appendix-A.1.1">
          <h4 id="name-distributed-device-discover">
<a href="#appendix-A.1.1" class="section-number selfRef">A.1.1. </a><a href="#name-distributed-device-discover" class="section-name selfRef">Distributed Device Discovery</a>
          </h4>
<p id="appendix-A.1.1-1">Device discovery is the discovery and identification of networked devices -- optionally only devices of a particular class, type, model, or brand. Group communication is used for distributed device discovery, if a central directory server is not used. Typically, in distributed device discovery, a multicast request is sent to a particular address (or address range) and multicast scope of interest, and any devices configured to be discoverable will respond back. For the alternative solution of centralized device discovery a central directory server is accessed through unicast, in which case group communication is not needed. This requires that the address of the central directory is either preconfigured in each device or configured during operation using a protocol.<a href="#appendix-A.1.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.1.1-2">In CoAP, device discovery can be implemented by CoAP resource discovery (<span><a href="https://rfc-editor.org/rfc/rfc7252#section-7" class="relref">Section 7</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>), requesting (GET) a particular resource that the sought device class, type, model, or brand is known to respond to. It can also be implemented using CoAP resource discovery and the CoAP query interface defined in <span><a href="https://rfc-editor.org/rfc/rfc6690#section-4" class="relref">Section 4</a> of [<a href="#RFC6690" class="cite xref">RFC6690</a>]</span> to find these particular resources.<a href="#appendix-A.1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-uc-sd">
<section id="appendix-A.1.2">
          <h4 id="name-distributed-service-discove">
<a href="#appendix-A.1.2" class="section-number selfRef">A.1.2. </a><a href="#name-distributed-service-discove" class="section-name selfRef">Distributed Service Discovery</a>
          </h4>
<p id="appendix-A.1.2-1">Service discovery is the discovery and identification of particular services hosted on network devices. Services can be identified by one or more parameters such as ID, name, protocol, version, and/or type. Distributed service discovery involves group communication to reach individual devices hosting a particular service; with a central directory server not being used.<a href="#appendix-A.1.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.1.2-2">In CoAP, services are represented as resources and service discovery is implemented using resource discovery (<span><a href="https://rfc-editor.org/rfc/rfc7252#section-7" class="relref">Section 7</a> of [<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>) and the CoAP query interface defined in <span><a href="https://rfc-editor.org/rfc/rfc6690#section-4" class="relref">Section 4</a> of [<a href="#RFC6690" class="cite xref">RFC6690</a>]</span>.<a href="#appendix-A.1.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-uc-dirdiscovery">
<section id="appendix-A.1.3">
          <h4 id="name-directory-discovery">
<a href="#appendix-A.1.3" class="section-number selfRef">A.1.3. </a><a href="#name-directory-discovery" class="section-name selfRef">Directory Discovery</a>
          </h4>
<p id="appendix-A.1.3-1">This use case is a specific subcase of Distributed Service Discovery (<a href="#sec-uc-sd" class="auto internal xref">Appendix A.1.2</a>), in which a device needs to identify the location of a Directory on the network to which it can, e.g., register its own offered services, or to which it can perform queries to identify and locate other devices/services it needs to access on the network.<a href="#appendix-A.1.3-1" class="pilcrow">¶</a></p>
<p id="appendix-A.1.3-2">As defined in <span>[<a href="#RFC9176" class="cite xref">RFC9176</a>]</span>, a CoRE Resource Directory (RD) is a web entity that stores information about web resources and implements REST interfaces for registration and lookup of those resources. For example, a device can register itself to an RD to let it be found by other devices and/or applications.<a href="#appendix-A.1.3-2" class="pilcrow">¶</a></p>
<p id="appendix-A.1.3-3">As an example, the following shows two IPv6 network configurations. Both are based on the topology as shown in <a href="#fig-topology-large-room" class="auto internal xref">Figure 3</a>. The two configurations using this topology are as follows:<a href="#appendix-A.1.3-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-A.1.3-4">
<li id="appendix-A.1.3-4.1">
              <p id="appendix-A.1.3-4.1.1">Subnets are 6LoWPAN networks; the routers Rtr-1 and Rtr-2 are 6LoWPAN Border Routers (6LBRs) <span>[<a href="#RFC6775" class="cite xref">RFC6775</a>]</span>.<a href="#appendix-A.1.3-4.1.1" class="pilcrow">¶</a></p>
</li>
            <li id="appendix-A.1.3-4.2">
              <p id="appendix-A.1.3-4.2.1">Subnets are Ethernet links; the routers Rtr-1 and Rtr-2 are multicast-capable Ethernet routers.<a href="#appendix-A.1.3-4.2.1" class="pilcrow">¶</a></p>
</li>
          </ol>
<p id="appendix-A.1.3-5">Both configurations are further specified by the following:<a href="#appendix-A.1.3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1.3-6.1">
              <p id="appendix-A.1.3-6.1.1">A large room (Room-A) with three lights (Light-1, Light-2, Light-3) controlled by a light switch (Light Switch). The devices are organized into two subnets.  In reality, there could be more lights (up to several hundreds) but, for clarity, only three are shown.<a href="#appendix-A.1.3-6.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.1.3-6.2">
              <p id="appendix-A.1.3-6.2.1">Light-1 and the light switch are connected to a router (Rtr-1).<a href="#appendix-A.1.3-6.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.1.3-6.3">
              <p id="appendix-A.1.3-6.3.1">Light-2 and Light-3 are connected to another router (Rtr-2).<a href="#appendix-A.1.3-6.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.1.3-6.4">
              <p id="appendix-A.1.3-6.4.1">The routers are connected to an IPv6 network backbone (Network Backbone) that is also multicast enabled.  In the general case, this means the network backbone and Rtr-1/Rtr-2 support a PIM-based multicast routing protocol and, e.g., Multicast Listener Discovery v2 (MLDv2) for forming groups.<a href="#appendix-A.1.3-6.4.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.1.3-6.5">
              <p id="appendix-A.1.3-6.5.1">A CoRE RD using CoAP (CoAP Resource Directory) is connected to the network backbone.<a href="#appendix-A.1.3-6.5.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.1.3-6.6">
              <p id="appendix-A.1.3-6.6.1">The DNS server (DNS Server) is optional. If the server is there (connected to the network backbone), then certain DNS-based features are available (e.g., DNS resolution of the hostname to the IP multicast address). If the DNS server is not there, then different provisioning of the network is required (e.g., IP multicast addresses are hard-coded into devices, or manually configured, or obtained via a service discovery method).<a href="#appendix-A.1.3-6.6.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.1.3-6.7">
              <p id="appendix-A.1.3-6.7.1">A controller using CoAP (CoAP Controller Client) is connected to the backbone, which is able to control various building functions including lighting.<a href="#appendix-A.1.3-6.7.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<span id="name-network-topology-of-a-large"></span><div id="fig-topology-large-room">
<figure id="figure-3">
            <div id="appendix-A.1.3-7.1">
              <div class="alignCenter art-svg artwork" id="appendix-A.1.3-7.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="704" width="544" viewBox="0 0 544 704" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 32,144 L 32,208" fill="none" stroke="black"></path>
                  <path d="M 32,416 L 32,480" fill="none" stroke="black"></path>
                  <path d="M 96,112 L 96,160" fill="none" stroke="black"></path>
                  <path d="M 96,224 L 96,256" fill="none" stroke="black"></path>
                  <path d="M 96,384 L 96,416" fill="none" stroke="black"></path>
                  <path d="M 96,496 L 96,528" fill="none" stroke="black"></path>
                  <path d="M 184,112 L 184,160" fill="none" stroke="black"></path>
                  <path d="M 184,224 L 184,256" fill="none" stroke="black"></path>
                  <path d="M 184,384 L 184,416" fill="none" stroke="black"></path>
                  <path d="M 184,496 L 184,528" fill="none" stroke="black"></path>
                  <path d="M 208,160 L 208,192" fill="none" stroke="black"></path>
                  <path d="M 208,432 L 208,464" fill="none" stroke="black"></path>
                  <path d="M 248,128 L 248,152" fill="none" stroke="black"></path>
                  <path d="M 248,400 L 248,424" fill="none" stroke="black"></path>
                  <path d="M 256,200 L 256,240" fill="none" stroke="black"></path>
                  <path d="M 256,472 L 256,512" fill="none" stroke="black"></path>
                  <path d="M 288,160 L 288,192" fill="none" stroke="black"></path>
                  <path d="M 288,432 L 288,464" fill="none" stroke="black"></path>
                  <path d="M 288,624 L 288,688" fill="none" stroke="black"></path>
                  <path d="M 320,144 L 320,168" fill="none" stroke="black"></path>
                  <path d="M 320,184 L 320,208" fill="none" stroke="black"></path>
                  <path d="M 320,416 L 320,440" fill="none" stroke="black"></path>
                  <path d="M 320,456 L 320,480" fill="none" stroke="black"></path>
                  <path d="M 384,624 L 384,688" fill="none" stroke="black"></path>
                  <path d="M 408,336 L 408,384" fill="none" stroke="black"></path>
                  <path d="M 408,496 L 408,560" fill="none" stroke="black"></path>
                  <path d="M 512,336 L 512,384" fill="none" stroke="black"></path>
                  <path d="M 512,496 L 512,560" fill="none" stroke="black"></path>
                  <path d="M 536,112 L 536,656" fill="none" stroke="black"></path>
                  <path d="M 72,64 L 280,64" fill="none" stroke="black"></path>
                  <path d="M 96,112 L 184,112" fill="none" stroke="black"></path>
                  <path d="M 192,128 L 248,128" fill="none" stroke="black"></path>
                  <path d="M 96,160 L 184,160" fill="none" stroke="black"></path>
                  <path d="M 208,160 L 288,160" fill="none" stroke="black"></path>
                  <path d="M 296,176 L 536,176" fill="none" stroke="black"></path>
                  <path d="M 208,192 L 288,192" fill="none" stroke="black"></path>
                  <path d="M 96,224 L 184,224" fill="none" stroke="black"></path>
                  <path d="M 192,240 L 256,240" fill="none" stroke="black"></path>
                  <path d="M 96,256 L 184,256" fill="none" stroke="black"></path>
                  <path d="M 72,288 L 280,288" fill="none" stroke="black"></path>
                  <path d="M 72,336 L 280,336" fill="none" stroke="black"></path>
                  <path d="M 408,336 L 512,336" fill="none" stroke="black"></path>
                  <path d="M 520,368 L 536,368" fill="none" stroke="black"></path>
                  <path d="M 96,384 L 184,384" fill="none" stroke="black"></path>
                  <path d="M 408,384 L 512,384" fill="none" stroke="black"></path>
                  <path d="M 192,400 L 248,400" fill="none" stroke="black"></path>
                  <path d="M 96,416 L 184,416" fill="none" stroke="black"></path>
                  <path d="M 208,432 L 288,432" fill="none" stroke="black"></path>
                  <path d="M 296,448 L 536,448" fill="none" stroke="black"></path>
                  <path d="M 208,464 L 288,464" fill="none" stroke="black"></path>
                  <path d="M 96,496 L 184,496" fill="none" stroke="black"></path>
                  <path d="M 408,496 L 512,496" fill="none" stroke="black"></path>
                  <path d="M 192,512 L 256,512" fill="none" stroke="black"></path>
                  <path d="M 96,528 L 184,528" fill="none" stroke="black"></path>
                  <path d="M 520,528 L 536,528" fill="none" stroke="black"></path>
                  <path d="M 72,560 L 280,560" fill="none" stroke="black"></path>
                  <path d="M 408,560 L 512,560" fill="none" stroke="black"></path>
                  <path d="M 288,624 L 384,624" fill="none" stroke="black"></path>
                  <path d="M 392,656 L 536,656" fill="none" stroke="black"></path>
                  <path d="M 288,688 L 384,688" fill="none" stroke="black"></path>
                  <path d="M 32,480 L 72,560" fill="none" stroke="black"></path>
                  <path d="M 32,208 L 72,288" fill="none" stroke="black"></path>
                  <path d="M 280,336 L 320,416" fill="none" stroke="black"></path>
                  <path d="M 280,64 L 320,144" fill="none" stroke="black"></path>
                  <path d="M 32,144 L 72,64" fill="none" stroke="black"></path>
                  <path d="M 32,416 L 72,336" fill="none" stroke="black"></path>
                  <path d="M 280,288 L 320,208" fill="none" stroke="black"></path>
                  <path d="M 280,560 L 320,480" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="196" y="36">................................................</text>
                    <text x="8" y="52">:</text>
                    <text x="348" y="52">Room-A</text>
                    <text x="384" y="52">:</text>
                    <text x="8" y="68">:</text>
                    <text x="384" y="68">:</text>
                    <text x="8" y="84">:</text>
                    <text x="132" y="84">Subnet-1</text>
                    <text x="384" y="84">:</text>
                    <text x="512" y="84">Network</text>
                    <text x="8" y="100">:</text>
                    <text x="384" y="100">:</text>
                    <text x="508" y="100">Backbone</text>
                    <text x="8" y="116">:</text>
                    <text x="384" y="116">:</text>
                    <text x="8" y="132">:</text>
                    <text x="136" y="132">Light</text>
                    <text x="384" y="132">:</text>
                    <text x="8" y="148">:</text>
                    <text x="140" y="148">Switch</text>
                    <text x="384" y="148">:</text>
                    <text x="8" y="164">:</text>
                    <text x="384" y="164">:</text>
                    <text x="8" y="180">:</text>
                    <text x="248" y="180">Rtr-1</text>
                    <text x="8" y="196">:</text>
                    <text x="384" y="196">:</text>
                    <text x="8" y="212">:</text>
                    <text x="384" y="212">:</text>
                    <text x="8" y="228">:</text>
                    <text x="384" y="228">:</text>
                    <text x="8" y="244">:</text>
                    <text x="144" y="244">Light-1</text>
                    <text x="384" y="244">:</text>
                    <text x="8" y="260">:</text>
                    <text x="384" y="260">:</text>
                    <text x="8" y="276">:</text>
                    <text x="384" y="276">:</text>
                    <text x="8" y="292">:</text>
                    <text x="384" y="292">:</text>
                    <text x="8" y="308">:</text>
                    <text x="384" y="308">:</text>
                    <text x="8" y="324">:</text>
                    <text x="384" y="324">:</text>
                    <text x="8" y="340">:</text>
                    <text x="384" y="340">:</text>
                    <text x="8" y="356">:</text>
                    <text x="132" y="356">Subnet-2</text>
                    <text x="384" y="356">:</text>
                    <text x="432" y="356">DNS</text>
                    <text x="476" y="356">Server</text>
                    <text x="8" y="372">:</text>
                    <text x="384" y="372">:</text>
                    <text x="460" y="372">(Optional)</text>
                    <text x="8" y="388">:</text>
                    <text x="384" y="388">:</text>
                    <text x="8" y="404">:</text>
                    <text x="144" y="404">Light-2</text>
                    <text x="384" y="404">:</text>
                    <text x="8" y="420">:</text>
                    <text x="384" y="420">:</text>
                    <text x="8" y="436">:</text>
                    <text x="384" y="436">:</text>
                    <text x="8" y="452">:</text>
                    <text x="248" y="452">Rtr-2</text>
                    <text x="8" y="468">:</text>
                    <text x="384" y="468">:</text>
                    <text x="8" y="484">:</text>
                    <text x="384" y="484">:</text>
                    <text x="8" y="500">:</text>
                    <text x="384" y="500">:</text>
                    <text x="8" y="516">:</text>
                    <text x="144" y="516">Light-3</text>
                    <text x="384" y="516">:</text>
                    <text x="436" y="516">CoAP</text>
                    <text x="8" y="532">:</text>
                    <text x="384" y="532">:</text>
                    <text x="460" y="532">Controller</text>
                    <text x="8" y="548">:</text>
                    <text x="384" y="548">:</text>
                    <text x="444" y="548">Client</text>
                    <text x="8" y="564">:</text>
                    <text x="384" y="564">:</text>
                    <text x="8" y="580">:</text>
                    <text x="384" y="580">:</text>
                    <text x="196" y="596">:..............................................:</text>
                    <text x="316" y="644">CoAP</text>
                    <text x="332" y="660">Resource</text>
                    <text x="336" y="676">Directory</text>
                  </g>
                </svg><a href="#appendix-A.1.3-7.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-network-topology-of-a-large" class="selfRef">Network Topology of a Large Room (Room-A)</a>
            </figcaption></figure>
</div>
<p id="appendix-A.1.3-8">Building on the above, an example of protocol flow for discovery of the RD for the given network (of <a href="#fig-topology-large-room" class="auto internal xref">Figure 3</a>) is shown in <a href="#fig-rd-discovery" class="auto internal xref">Figure 4</a>:<a href="#appendix-A.1.3-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1.3-9.1">
              <p id="appendix-A.1.3-9.1.1">Light-2 is installed and powered on for the first time.<a href="#appendix-A.1.3-9.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.1.3-9.2">
              <p id="appendix-A.1.3-9.2.1">Light-2 will then search for the local RD by sending out a group communication GET request (with the "/.well-known/core?rt=core.rd" request URI) to the site-local "All CoAP Nodes" multicast address (ff05::fd).<a href="#appendix-A.1.3-9.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.1.3-9.3">
              <p id="appendix-A.1.3-9.3.1">This multicast message will then go to each node in Subnet-2. Rtr-2 will then forward it into the network backbone where it will be received by the RD. All other nodes in Subnet-2 will ignore the group communication GET request because it is qualified by the query string "?rt=core.rd" (which indicates it should only be processed by the endpoint if it contains a resource of type "core.rd").<a href="#appendix-A.1.3-9.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.1.3-9.4">
              <p id="appendix-A.1.3-9.4.1">The RD will then send back a unicast response containing the requested content, which is a CoRE Link Format representation of a resource of type "core.rd".<a href="#appendix-A.1.3-9.4.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-A.1.3-9.5">
              <p id="appendix-A.1.3-9.5.1">Note that the flow is shown only for Light-2 for clarity. Similar flows will happen for Light-1, Light-3, and Light Switch when they are first installed.<a href="#appendix-A.1.3-9.5.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="appendix-A.1.3-10">The RD may also be discovered by other means such as by assuming a default location (e.g., on a 6LBR), using DHCP, anycast address, etc. However, these approaches do not invoke CoAP group communication so are not further discussed here.<a href="#appendix-A.1.3-10" class="pilcrow">¶</a></p>
<p id="appendix-A.1.3-11">For other discovery use cases such as discovering local CoAP servers, services, or resources, CoAP group communication can be used in a similar fashion as in the above use case. For example, link-local, realm-local, admin-local, or site-local scoped discovery can be done this way.<a href="#appendix-A.1.3-11" class="pilcrow">¶</a></p>
<span id="name-resource-directory-discover"></span><div id="fig-rd-discovery">
<figure id="figure-4">
            <div id="appendix-A.1.3-12.1">
              <div class="alignCenter art-svg artwork" id="appendix-A.1.3-12.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="384" width="552" viewBox="0 0 552 384" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 16,64 L 16,88" fill="none" stroke="black"></path>
                  <path d="M 16,160 L 16,368" fill="none" stroke="black"></path>
                  <path d="M 104,64 L 104,88" fill="none" stroke="black"></path>
                  <path d="M 104,176 L 104,368" fill="none" stroke="black"></path>
                  <path d="M 192,64 L 192,88" fill="none" stroke="black"></path>
                  <path d="M 192,176 L 192,192" fill="none" stroke="black"></path>
                  <path d="M 192,248 L 192,296" fill="none" stroke="black"></path>
                  <path d="M 192,344 L 192,368" fill="none" stroke="black"></path>
                  <path d="M 280,64 L 280,88" fill="none" stroke="black"></path>
                  <path d="M 280,160 L 280,192" fill="none" stroke="black"></path>
                  <path d="M 280,248 L 280,288" fill="none" stroke="black"></path>
                  <path d="M 280,344 L 280,368" fill="none" stroke="black"></path>
                  <path d="M 368,64 L 368,192" fill="none" stroke="black"></path>
                  <path d="M 368,248 L 368,288" fill="none" stroke="black"></path>
                  <path d="M 368,344 L 368,368" fill="none" stroke="black"></path>
                  <path d="M 456,64 L 456,368" fill="none" stroke="black"></path>
                  <path d="M 544,64 L 544,368" fill="none" stroke="black"></path>
                  <path d="M 112,240 L 448,240" fill="none" stroke="black"></path>
                  <path d="M 464,256 L 536,256" fill="none" stroke="black"></path>
                  <path d="M 464,320 L 536,320" fill="none" stroke="black"></path>
                  <path d="M 112,336 L 448,336" fill="none" stroke="black"></path>
                  <polygon class="arrowhead" points="544,256 532,250.4 532,261.6" fill="black" transform="rotate(0,536,256)"></polygon>
                  <polygon class="arrowhead" points="472,320 460,314.4 460,325.6" fill="black" transform="rotate(180,464,320)"></polygon>
                  <polygon class="arrowhead" points="456,240 444,234.4 444,245.6" fill="black" transform="rotate(0,448,240)"></polygon>
                  <polygon class="arrowhead" points="120,336 108,330.4 108,341.6" fill="black" transform="rotate(180,112,336)"></polygon>
                  <g class="text">
                    <text x="288" y="36">Light</text>
                    <text x="32" y="52">Light-1</text>
                    <text x="112" y="52">Light-2</text>
                    <text x="200" y="52">Light-3</text>
                    <text x="292" y="52">Switch</text>
                    <text x="376" y="52">Rtr-1</text>
                    <text x="456" y="52">Rtr-2</text>
                    <text x="540" y="52">RD</text>
                    <text x="148" y="100">..................................</text>
                    <text x="16" y="116">:</text>
                    <text x="72" y="116">Light-2</text>
                    <text x="116" y="116">is</text>
                    <text x="168" y="116">installed</text>
                    <text x="280" y="116">:</text>
                    <text x="16" y="132">:</text>
                    <text x="56" y="132">and</text>
                    <text x="100" y="132">powers</text>
                    <text x="140" y="132">on</text>
                    <text x="168" y="132">for</text>
                    <text x="208" y="132">first</text>
                    <text x="252" y="132">time</text>
                    <text x="280" y="132">:</text>
                    <text x="148" y="148">:................................:</text>
                    <text x="132" y="212">CoAP</text>
                    <text x="168" y="212">NON</text>
                    <text x="224" y="212">Mcast(GET</text>
                    <text x="312" y="228">/.well-known/core?rt=core.rd)</text>
                    <text x="132" y="308">CoAP</text>
                    <text x="168" y="308">NON</text>
                    <text x="208" y="308">(2.05</text>
                    <text x="264" y="308">Content</text>
                    <text x="280" y="324">&lt;/rd&gt;;rt="core.rd";ct=40)</text>
                  </g>
                </svg><a href="#appendix-A.1.3-12.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-resource-directory-discover" class="selfRef">Resource Directory Discovery via Multicast Request</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="operational-phase">
<section id="appendix-A.2">
        <h3 id="name-operational-phase">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-operational-phase" class="section-name selfRef">Operational Phase</a>
        </h3>
<p id="appendix-A.2-1">Operational phase use cases describe those operations that occur most frequently in a networked system, during its operational lifetime and regular operation. Regular usage is when the applications on networked devices perform the tasks they were designed for and exchange of application-related data using group communication occurs. Processes like system reconfiguration, group changes, system/device setup, extra group security changes, etc. are not part of regular operation.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<div id="actuator-group-control">
<section id="appendix-A.2.1">
          <h4 id="name-actuator-group-control">
<a href="#appendix-A.2.1" class="section-number selfRef">A.2.1. </a><a href="#name-actuator-group-control" class="section-name selfRef">Actuator Group Control</a>
          </h4>
<p id="appendix-A.2.1-1">Group communication can be beneficial to control actuators that need to act in synchrony, as a cohesive collection, with strict timing (latency) requirements. Examples are office lighting, stage lighting, street lighting, or audio alert/Public Address systems.<a href="#appendix-A.2.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-2">The following presents examples of lighting control of a set of 6LoWPAN-connected lights.<a href="#appendix-A.2.1-2" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-3"><a href="#fig-light-switch-control-msg" class="auto internal xref">Figure 5</a> shows the protocol flow for a building automation lighting control scenario for the network considered in <a href="#fig-topology-large-room" class="auto internal xref">Figure 3</a>. The network is assumed to be in a 6LoWPAN configuration. Also, it is assumed that the CoAP servers in each light are configured to suppress CoAP responses for any IP multicast CoAP requests related to lighting control. (See <a href="#sec-request-response-suppress" class="auto internal xref">Section 3.1.2</a> for more details on response suppression by a server.)<a href="#appendix-A.2.1-3" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-4">In addition, <a href="#fig-lights-response" class="auto internal xref">Figure 6</a> shows a protocol flow example for the case where servers do respond to a lighting control IP multicast request with (unicast) CoAP NON responses.  There are two success responses and one 5.00 error response. In this particular case, the light switch does not check that all lights in the group received the IP multicast request by examining the responses. This is because the light switch is not configured with an exhaustive list of the IP addresses of all lights belonging to the group. However, based on received error responses, it could take additional action such as logging a fault or alerting the user via its LCD display. In case a CoAP message is delivered multiple times to a light, the subsequent CoAP messages can be filtered out as duplicates, based on the CoAP Message ID.<a href="#appendix-A.2.1-4" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-5">Reliability of IP multicast is not guaranteed. Therefore, one or more lights in the group may not have received the CoAP control request due to packet loss. In this use case, there is no detection nor correction of such situations: the application layer expects that the IP multicast forwarding/routing will be of sufficient quality to provide on average a very high probability of packet delivery to all CoAP endpoints in an IP multicast group. An example protocol to accomplish this using randomized retransmission is the MPL forwarding protocol for LLNs <span>[<a href="#RFC7731" class="cite xref">RFC7731</a>]</span>.<a href="#appendix-A.2.1-5" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-6">We assume the following steps have already occurred before the illustrated flows:<a href="#appendix-A.2.1-6" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-7">1) Startup phase: 6LoWPANs are formed. IPv6 addresses are assigned to all devices. The CoAP network is formed.<a href="#appendix-A.2.1-7" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-8">2) Network configuration (application independent): 6LBRs are configured with IP multicast addresses, or address blocks, to filter out or to pass through to/from the 6LoWPAN.<a href="#appendix-A.2.1-8" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-9">3a) Commissioning phase (application related): The IP multicast address of the group (Room-A-Lights) has been configured in all the lights and in the light switch.<a href="#appendix-A.2.1-9" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-10">3b) As an alternative to the previous step, when a DNS server is available, the light switch and/or the lights have been configured with a group hostname that each node resolves to the above IP multicast address of the group.<a href="#appendix-A.2.1-10" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-11">Note for the Commissioning phase: the switch's 6LoWPAN/CoAP software stack supports sending unicast, multicast, or proxied unicast CoAP requests, including processing of the multiple responses that may be generated by an IP multicast CoAP request.<a href="#appendix-A.2.1-11" class="pilcrow">¶</a></p>
<span id="name-light-switch-sends-multicas"></span><div id="fig-light-switch-control-msg">
<figure id="figure-5">
            <div id="appendix-A.2.1-12.1">
              <div class="alignCenter art-svg artwork" id="appendix-A.2.1-12.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="496" width="560" viewBox="0 0 560 496" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 16,64 L 16,272" fill="none" stroke="black"></path>
                  <path d="M 16,304 L 16,336" fill="none" stroke="black"></path>
                  <path d="M 16,464 L 16,480" fill="none" stroke="black"></path>
                  <path d="M 104,64 L 104,264" fill="none" stroke="black"></path>
                  <path d="M 104,280 L 104,320" fill="none" stroke="black"></path>
                  <path d="M 104,464 L 104,480" fill="none" stroke="black"></path>
                  <path d="M 192,64 L 192,88" fill="none" stroke="black"></path>
                  <path d="M 192,208 L 192,264" fill="none" stroke="black"></path>
                  <path d="M 192,280 L 192,320" fill="none" stroke="black"></path>
                  <path d="M 192,464 L 192,480" fill="none" stroke="black"></path>
                  <path d="M 280,64 L 280,88" fill="none" stroke="black"></path>
                  <path d="M 280,208 L 280,224" fill="none" stroke="black"></path>
                  <path d="M 280,272 L 280,312" fill="none" stroke="black"></path>
                  <path d="M 280,328 L 280,480" fill="none" stroke="black"></path>
                  <path d="M 368,64 L 368,88" fill="none" stroke="black"></path>
                  <path d="M 368,208 L 368,224" fill="none" stroke="black"></path>
                  <path d="M 368,264 L 368,312" fill="none" stroke="black"></path>
                  <path d="M 368,328 L 368,480" fill="none" stroke="black"></path>
                  <path d="M 456,64 L 456,280" fill="none" stroke="black"></path>
                  <path d="M 456,296 L 456,480" fill="none" stroke="black"></path>
                  <path d="M 544,64 L 544,480" fill="none" stroke="black"></path>
                  <path d="M 24,272 L 360,272" fill="none" stroke="black"></path>
                  <path d="M 376,288 L 536,288" fill="none" stroke="black"></path>
                  <path d="M 464,304 L 536,304" fill="none" stroke="black"></path>
                  <path d="M 112,320 L 184,320" fill="none" stroke="black"></path>
                  <path d="M 200,320 L 448,320" fill="none" stroke="black"></path>
                  <polygon class="arrowhead" points="544,288 532,282.4 532,293.6" fill="black" transform="rotate(0,536,288)"></polygon>
                  <polygon class="arrowhead" points="472,304 460,298.4 460,309.6" fill="black" transform="rotate(180,464,304)"></polygon>
                  <polygon class="arrowhead" points="368,272 356,266.4 356,277.6" fill="black" transform="rotate(0,360,272)"></polygon>
                  <polygon class="arrowhead" points="208,320 196,314.4 196,325.6" fill="black" transform="rotate(180,200,320)"></polygon>
                  <polygon class="arrowhead" points="120,320 108,314.4 108,325.6" fill="black" transform="rotate(180,112,320)"></polygon>
                  <polygon class="arrowhead" points="32,272 20,266.4 20,277.6" fill="black" transform="rotate(180,24,272)"></polygon>
                  <g class="text">
                    <text x="288" y="36">Light</text>
                    <text x="520" y="36">Network</text>
                    <text x="32" y="52">Light-1</text>
                    <text x="112" y="52">Light-2</text>
                    <text x="200" y="52">Light-3</text>
                    <text x="292" y="52">Switch</text>
                    <text x="368" y="52">Rtr-1</text>
                    <text x="456" y="52">Rtr-2</text>
                    <text x="524" y="52">Backbone</text>
                    <text x="280" y="100">.......................</text>
                    <text x="192" y="116">:</text>
                    <text x="236" y="116">User</text>
                    <text x="280" y="116">flips</text>
                    <text x="316" y="116">on</text>
                    <text x="368" y="116">:</text>
                    <text x="192" y="132">:</text>
                    <text x="240" y="132">light</text>
                    <text x="292" y="132">switch</text>
                    <text x="332" y="132">to</text>
                    <text x="368" y="132">:</text>
                    <text x="192" y="148">:</text>
                    <text x="236" y="148">turn</text>
                    <text x="268" y="148">on</text>
                    <text x="296" y="148">all</text>
                    <text x="328" y="148">the</text>
                    <text x="368" y="148">:</text>
                    <text x="192" y="164">:</text>
                    <text x="244" y="164">lights</text>
                    <text x="284" y="164">in</text>
                    <text x="324" y="164">Room-A</text>
                    <text x="368" y="164">:</text>
                    <text x="280" y="180">:.....................:</text>
                    <text x="244" y="244">COAP</text>
                    <text x="280" y="244">NON</text>
                    <text x="340" y="244">Mcast(PUT,</text>
                    <text x="284" y="260">Payload=lights</text>
                    <text x="360" y="260">ON)</text>
                    <text x="20" y="292">ON</text>
                    <text x="108" y="340">ON</text>
                    <text x="196" y="340">ON</text>
                    <text x="16" y="356">^</text>
                    <text x="104" y="356">^</text>
                    <text x="192" y="356">^</text>
                    <text x="104" y="372">.......................</text>
                    <text x="16" y="388">:</text>
                    <text x="68" y="388">Lights</text>
                    <text x="108" y="388">in</text>
                    <text x="148" y="388">Room-A</text>
                    <text x="192" y="388">:</text>
                    <text x="16" y="404">:</text>
                    <text x="60" y="404">turn</text>
                    <text x="92" y="404">on</text>
                    <text x="136" y="404">(nearly</text>
                    <text x="192" y="404">:</text>
                    <text x="16" y="420">:</text>
                    <text x="104" y="420">simultaneously)</text>
                    <text x="192" y="420">:</text>
                    <text x="104" y="436">:.....................:</text>
                  </g>
                </svg><a href="#appendix-A.2.1-12.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-light-switch-sends-multicas" class="selfRef">Light Switch Sends Multicast Control Message</a>
            </figcaption></figure>
</div>
<span id="name-lights-optionally-respond-t"></span><div id="fig-lights-response">
<figure id="figure-6">
            <div id="appendix-A.2.1-13.1">
              <div class="alignCenter art-svg artwork" id="appendix-A.2.1-13.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="336" width="560" viewBox="0 0 560 336" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 16,64 L 16,320" fill="none" stroke="black"></path>
                  <path d="M 104,104 L 104,128" fill="none" stroke="black"></path>
                  <path d="M 104,160 L 104,320" fill="none" stroke="black"></path>
                  <path d="M 192,104 L 192,136" fill="none" stroke="black"></path>
                  <path d="M 192,168 L 192,224" fill="none" stroke="black"></path>
                  <path d="M 192,256 L 192,320" fill="none" stroke="black"></path>
                  <path d="M 280,64 L 280,136" fill="none" stroke="black"></path>
                  <path d="M 280,168 L 280,224" fill="none" stroke="black"></path>
                  <path d="M 280,264 L 280,320" fill="none" stroke="black"></path>
                  <path d="M 368,64 L 368,152" fill="none" stroke="black"></path>
                  <path d="M 368,168 L 368,224" fill="none" stroke="black"></path>
                  <path d="M 368,264 L 368,320" fill="none" stroke="black"></path>
                  <path d="M 456,64 L 456,184" fill="none" stroke="black"></path>
                  <path d="M 456,200 L 456,224" fill="none" stroke="black"></path>
                  <path d="M 456,256 L 456,280" fill="none" stroke="black"></path>
                  <path d="M 456,296 L 456,320" fill="none" stroke="black"></path>
                  <path d="M 544,64 L 544,320" fill="none" stroke="black"></path>
                  <path d="M 24,96 L 272,96" fill="none" stroke="black"></path>
                  <path d="M 112,160 L 448,160" fill="none" stroke="black"></path>
                  <path d="M 464,176 L 536,176" fill="none" stroke="black"></path>
                  <path d="M 376,192 L 536,192" fill="none" stroke="black"></path>
                  <path d="M 288,208 L 360,208" fill="none" stroke="black"></path>
                  <path d="M 200,256 L 448,256" fill="none" stroke="black"></path>
                  <path d="M 464,272 L 536,272" fill="none" stroke="black"></path>
                  <path d="M 376,288 L 536,288" fill="none" stroke="black"></path>
                  <path d="M 288,304 L 360,304" fill="none" stroke="black"></path>
                  <polygon class="arrowhead" points="544,272 532,266.4 532,277.6" fill="black" transform="rotate(0,536,272)"></polygon>
                  <polygon class="arrowhead" points="544,176 532,170.4 532,181.6" fill="black" transform="rotate(0,536,176)"></polygon>
                  <polygon class="arrowhead" points="456,256 444,250.4 444,261.6" fill="black" transform="rotate(0,448,256)"></polygon>
                  <polygon class="arrowhead" points="456,160 444,154.4 444,165.6" fill="black" transform="rotate(0,448,160)"></polygon>
                  <polygon class="arrowhead" points="384,288 372,282.4 372,293.6" fill="black" transform="rotate(180,376,288)"></polygon>
                  <polygon class="arrowhead" points="384,192 372,186.4 372,197.6" fill="black" transform="rotate(180,376,192)"></polygon>
                  <polygon class="arrowhead" points="296,304 284,298.4 284,309.6" fill="black" transform="rotate(180,288,304)"></polygon>
                  <polygon class="arrowhead" points="296,208 284,202.4 284,213.6" fill="black" transform="rotate(180,288,208)"></polygon>
                  <polygon class="arrowhead" points="280,96 268,90.4 268,101.6" fill="black" transform="rotate(0,272,96)"></polygon>
                  <g class="text">
                    <text x="288" y="36">Light</text>
                    <text x="520" y="36">Network</text>
                    <text x="32" y="52">Light-1</text>
                    <text x="112" y="52">Light-2</text>
                    <text x="200" y="52">Light-3</text>
                    <text x="292" y="52">Switch</text>
                    <text x="368" y="52">Rtr-1</text>
                    <text x="456" y="52">Rtr-2</text>
                    <text x="524" y="52">Backbone</text>
                    <text x="104" y="68">|</text>
                    <text x="192" y="68">|</text>
                    <text x="76" y="84">COAP</text>
                    <text x="112" y="84">NON</text>
                    <text x="152" y="84">(2.04</text>
                    <text x="212" y="84">Changed)</text>
                    <text x="116" y="148">COAP</text>
                    <text x="152" y="148">NON</text>
                    <text x="192" y="148">(2.04</text>
                    <text x="252" y="148">Changed)</text>
                    <text x="188" y="244">COAP</text>
                    <text x="224" y="244">NON</text>
                    <text x="264" y="244">(5.00</text>
                    <text x="324" y="244">Internal</text>
                    <text x="388" y="244">Server</text>
                    <text x="444" y="244">Error)</text>
                  </g>
                </svg><a href="#appendix-A.2.1-13.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-lights-optionally-respond-t" class="selfRef">Lights (Optionally) Respond to Multicast CoAP Request</a>
            </figcaption></figure>
</div>
<p id="appendix-A.2.1-14">Another, but similar, lighting control use case is shown in <a href="#fig-light-switch-control-msg-2" class="auto internal xref">Figure 7</a>. In this case, a controller connected to the network backbone sends a CoAP group communication request to turn on all lights in Room-A. Every light sends back a CoAP response to the controller after being turned on.<a href="#appendix-A.2.1-14" class="pilcrow">¶</a></p>
<span id="name-controller-on-backbone-send"></span><div id="fig-light-switch-control-msg-2">
<figure id="figure-7">
            <div id="appendix-A.2.1-15.1">
              <div class="alignCenter art-svg artwork" id="appendix-A.2.1-15.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="544" width="568" viewBox="0 0 568 544" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 16,80 L 16,160" fill="none" stroke="black"></path>
                  <path d="M 16,192 L 16,208" fill="none" stroke="black"></path>
                  <path d="M 16,336 L 16,528" fill="none" stroke="black"></path>
                  <path d="M 104,80 L 104,152" fill="none" stroke="black"></path>
                  <path d="M 104,168 L 104,192" fill="none" stroke="black"></path>
                  <path d="M 104,336 L 104,352" fill="none" stroke="black"></path>
                  <path d="M 104,392 L 104,528" fill="none" stroke="black"></path>
                  <path d="M 192,80 L 192,152" fill="none" stroke="black"></path>
                  <path d="M 192,336 L 192,352" fill="none" stroke="black"></path>
                  <path d="M 192,440 L 192,528" fill="none" stroke="black"></path>
                  <path d="M 288,80 L 288,184" fill="none" stroke="black"></path>
                  <path d="M 288,200 L 288,400" fill="none" stroke="black"></path>
                  <path d="M 288,488 L 288,528" fill="none" stroke="black"></path>
                  <path d="M 376,80 L 376,136" fill="none" stroke="black"></path>
                  <path d="M 376,152 L 376,392" fill="none" stroke="black"></path>
                  <path d="M 376,408 L 376,448" fill="none" stroke="black"></path>
                  <path d="M 376,480 L 376,528" fill="none" stroke="black"></path>
                  <path d="M 464,128 L 464,528" fill="none" stroke="black"></path>
                  <path d="M 536,128 L 536,528" fill="none" stroke="black"></path>
                  <path d="M 472,128 L 528,128" fill="none" stroke="black"></path>
                  <path d="M 296,144 L 456,144" fill="none" stroke="black"></path>
                  <path d="M 24,160 L 280,160" fill="none" stroke="black"></path>
                  <path d="M 112,192 L 368,192" fill="none" stroke="black"></path>
                  <path d="M 24,384 L 280,384" fill="none" stroke="black"></path>
                  <path d="M 296,400 L 456,400" fill="none" stroke="black"></path>
                  <path d="M 472,416 L 528,416" fill="none" stroke="black"></path>
                  <path d="M 112,432 L 368,432" fill="none" stroke="black"></path>
                  <path d="M 384,448 L 456,448" fill="none" stroke="black"></path>
                  <path d="M 472,464 L 528,464" fill="none" stroke="black"></path>
                  <path d="M 200,480 L 368,480" fill="none" stroke="black"></path>
                  <path d="M 384,496 L 456,496" fill="none" stroke="black"></path>
                  <path d="M 472,512 L 528,512" fill="none" stroke="black"></path>
                  <polygon class="arrowhead" points="536,512 524,506.4 524,517.6" fill="black" transform="rotate(0,528,512)"></polygon>
                  <polygon class="arrowhead" points="536,464 524,458.4 524,469.6" fill="black" transform="rotate(0,528,464)"></polygon>
                  <polygon class="arrowhead" points="536,416 524,410.4 524,421.6" fill="black" transform="rotate(0,528,416)"></polygon>
                  <polygon class="arrowhead" points="480,128 468,122.4 468,133.6" fill="black" transform="rotate(180,472,128)"></polygon>
                  <polygon class="arrowhead" points="464,496 452,490.4 452,501.6" fill="black" transform="rotate(0,456,496)"></polygon>
                  <polygon class="arrowhead" points="464,448 452,442.4 452,453.6" fill="black" transform="rotate(0,456,448)"></polygon>
                  <polygon class="arrowhead" points="464,400 452,394.4 452,405.6" fill="black" transform="rotate(0,456,400)"></polygon>
                  <polygon class="arrowhead" points="392,144 380,138.4 380,149.6" fill="black" transform="rotate(180,384,144)"></polygon>
                  <polygon class="arrowhead" points="376,480 364,474.4 364,485.6" fill="black" transform="rotate(0,368,480)"></polygon>
                  <polygon class="arrowhead" points="376,432 364,426.4 364,437.6" fill="black" transform="rotate(0,368,432)"></polygon>
                  <polygon class="arrowhead" points="304,144 292,138.4 292,149.6" fill="black" transform="rotate(180,296,144)"></polygon>
                  <polygon class="arrowhead" points="288,384 276,378.4 276,389.6" fill="black" transform="rotate(0,280,384)"></polygon>
                  <polygon class="arrowhead" points="208,192 196,186.4 196,197.6" fill="black" transform="rotate(180,200,192)"></polygon>
                  <polygon class="arrowhead" points="120,192 108,186.4 108,197.6" fill="black" transform="rotate(180,112,192)"></polygon>
                  <polygon class="arrowhead" points="32,160 20,154.4 20,165.6" fill="black" transform="rotate(180,24,160)"></polygon>
                  <g class="text">
                    <text x="500" y="36">CoAP</text>
                    <text x="440" y="52">Network</text>
                    <text x="524" y="52">Controller</text>
                    <text x="32" y="68">Light-1</text>
                    <text x="112" y="68">Light-2</text>
                    <text x="200" y="68">Light-3</text>
                    <text x="288" y="68">Rtr-1</text>
                    <text x="376" y="68">Rtr-2</text>
                    <text x="444" y="68">Backbone</text>
                    <text x="508" y="68">Client</text>
                    <text x="464" y="84">|</text>
                    <text x="536" y="84">|</text>
                    <text x="428" y="100">COAP</text>
                    <text x="464" y="100">NON</text>
                    <text x="524" y="100">Mcast(PUT,</text>
                    <text x="468" y="116">Payload=lights</text>
                    <text x="544" y="116">ON)</text>
                    <text x="20" y="180">ON</text>
                    <text x="192" y="180">|</text>
                    <text x="108" y="212">ON</text>
                    <text x="196" y="212">ON</text>
                    <text x="16" y="228">^</text>
                    <text x="104" y="228">^</text>
                    <text x="192" y="228">^</text>
                    <text x="104" y="244">.......................</text>
                    <text x="16" y="260">:</text>
                    <text x="68" y="260">Lights</text>
                    <text x="108" y="260">in</text>
                    <text x="148" y="260">Room-A</text>
                    <text x="192" y="260">:</text>
                    <text x="16" y="276">:</text>
                    <text x="60" y="276">turn</text>
                    <text x="92" y="276">on</text>
                    <text x="136" y="276">(nearly</text>
                    <text x="192" y="276">:</text>
                    <text x="16" y="292">:</text>
                    <text x="104" y="292">simultaneously)</text>
                    <text x="192" y="292">:</text>
                    <text x="104" y="308">:.....................:</text>
                    <text x="68" y="372">COAP</text>
                    <text x="104" y="372">NON</text>
                    <text x="144" y="372">(2.04</text>
                    <text x="204" y="372">Changed)</text>
                    <text x="192" y="404">|</text>
                    <text x="140" y="420">COAP</text>
                    <text x="176" y="420">NON</text>
                    <text x="216" y="420">(2.04</text>
                    <text x="276" y="420">Changed)</text>
                    <text x="288" y="452">|</text>
                    <text x="220" y="468">COAP</text>
                    <text x="256" y="468">NON</text>
                    <text x="296" y="468">(2.04</text>
                    <text x="356" y="468">Changed)</text>
                  </g>
                </svg><a href="#appendix-A.2.1-15.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-controller-on-backbone-send" class="selfRef">Controller on Backbone Sends Multicast Control Message</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="device-group-status-request">
<section id="appendix-A.2.2">
          <h4 id="name-device-group-status-request">
<a href="#appendix-A.2.2" class="section-number selfRef">A.2.2. </a><a href="#name-device-group-status-request" class="section-name selfRef">Device Group Status Request</a>
          </h4>
<p id="appendix-A.2.2-1">To properly monitor the status of systems, there may be a need for ad-hoc, unplanned status updates. Group communication can be used to quickly send out a request to a (potentially large) number of devices for specific information. Each device then responds back with the requested data. Those devices that did not respond to the request can optionally be polled again via reliable unicast communication to complete the dataset. A set of devices may be defined as a CoAP group, e.g., as intended to cover "all temperature sensors on floor 3", or "all lights in wing B". For example, it could be a status request for device temperature, most recent sensor event detected, firmware version, network load, and/or battery level.<a href="#appendix-A.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="network-wide-query">
<section id="appendix-A.2.3">
          <h4 id="name-network-wide-query">
<a href="#appendix-A.2.3" class="section-number selfRef">A.2.3. </a><a href="#name-network-wide-query" class="section-name selfRef">Network-wide Query</a>
          </h4>
<p id="appendix-A.2.3-1">In some cases, a whole network or subnet of multiple IP devices needs to be queried for status or other information. This is similar to the previous use case except that the set of devices is not defined in terms of its function/type but in terms of its network location. Technically this is also similar to distributed service discovery (<a href="#sec-uc-sd" class="auto internal xref">Appendix A.1.2</a>) where a query is processed by all devices on a network -- except that the query is not about services offered by the device, but rather specific operational data is requested.<a href="#appendix-A.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="network-wide-group-notification">
<section id="appendix-A.2.4">
          <h4 id="name-network-wide-group-notifica">
<a href="#appendix-A.2.4" class="section-number selfRef">A.2.4. </a><a href="#name-network-wide-group-notifica" class="section-name selfRef">Network-wide / Group Notification</a>
          </h4>
<p id="appendix-A.2.4-1">In some cases, a whole network, or subnet of multiple IP devices, or a specific target set of devices needs to be notified of a status change or other information. This is similar to the previous two use cases except that the recipients are not expected to respond with some information. Unreliable notification can be acceptable in some use cases, in which a recipient does not respond with a confirmation of having received the notification. In such a case, the receiving CoAP server does not have to create a CoAP response. If the sender needs confirmation of reception, the CoAP servers can be configured for that resource to respond with a 2.xx success status after processing a request successfully that provided a notification.<a href="#appendix-A.2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="software-update">
<section id="appendix-A.3">
        <h3 id="name-software-update">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-software-update" class="section-name selfRef">Software Update</a>
        </h3>
<p id="appendix-A.3-1">Group communication can be useful to efficiently distribute new software (firmware, image, application, etc.) to a set of multiple devices, e.g., by relying on the SUIT firmware update architecture <span>[<a href="#RFC9019" class="cite xref">RFC9019</a>]</span> and its manifest information model <span>[<a href="#RFC9124" class="cite xref">RFC9124</a>]</span>. In this case, a CoAP group can be defined in terms of the device type of its members: all devices in the target CoAP group are known to be capable of installing and running the new software. The software is distributed as a series of smaller blocks that are collected by all devices and stored in memory. All devices in the target CoAP group are usually responsible for integrity verification of the received software; which can be done per-block or for the entire software image once all blocks have been received. Due to the inherent unreliability of CoAP multicast, there needs to be a backup mechanism (e.g., implemented using CoAP unicast) by which a device can individually request missing blocks of a whole software image/entity. Prior to a multicast software update, the CoAP group of recipients can be separately notified that there is new software available and coming, using the above network-wide or group notification.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-examples-app-group-naming">
<section id="appendix-B">
      <h2 id="name-examples-of-group-naming-fo">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-examples-of-group-naming-fo" class="section-name selfRef">Examples of Group Naming for Application Groups</a>
      </h2>
<p id="appendix-B-1">This section provides examples for the different methods that can be used to name application groups, as defined in <a href="#sec-groupnaming-app" class="auto internal xref">Section 2.2.1.2</a>.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">The content of this section is purely illustrative and has no ambition to be comprehensive. That is, while the methods defined in <a href="#sec-groupnaming-app" class="auto internal xref">Section 2.2.1.2</a> are presented as viable to use, further viable methods might exist and can be defined in the future. Furthermore, this section does not provide guidelines on how to choose between the different methods, for which a decision is application-specific.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">The shown examples consider a CoAP group identified by the group hostname grp.example. Its members are CoAP servers listening to the associated IP multicast address ff35:30:2001:db8:f1:0:8000:1 and port number 5685.<a href="#appendix-B-3" class="pilcrow">¶</a></p>
<p id="appendix-B-4">Note that a group hostname is used in most examples to improve readability. In practice, as discussed in <a href="#sec-groupnaming-app" class="auto internal xref">Section 2.2.1.2</a>, using an IP address literal as the host subcomponent of the Group URI can reduce the size of the CoAP request message, in case the Uri-Host Option can be elided.<a href="#appendix-B-4" class="pilcrow">¶</a></p>
<p id="appendix-B-5">Also note that the Uri-Port Option does not appear in the examples, since the port number 5685 is already included in the CoAP request's UDP header (which is not shown in the examples) in the destination port field.<a href="#appendix-B-5" class="pilcrow">¶</a></p>
<div id="sec-examples-app-group-naming-path">
<section id="appendix-B.1">
        <h3 id="name-group-naming-using-the-uri-">
<a href="#appendix-B.1" class="section-number selfRef">B.1. </a><a href="#name-group-naming-using-the-uri-" class="section-name selfRef">Group Naming using the URI Path Component</a>
        </h3>
<p id="appendix-B.1-1"><a href="#fig-gname-path-example" class="auto internal xref">Figure 8</a> provides an example where the URI path component is used for naming application groups.<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
<span id="name-example-of-application-grou"></span><div id="fig-gname-path-example">
<figure id="figure-8">
          <div class="alignLeft art-text artwork" id="appendix-B.1-2.1">
<pre>
   Application group name: gp1

   Group URI: coap://grp.example:5685/gp/gp1/light?foo=bar

   CoAP group request
      Header: GET (T=NON, Code=0.01, MID=0x7d41)
      Uri-Host: "grp.example"
      Uri-Path: "gp"
      Uri-Path: "gp1"
      Uri-Path: "light"
      Uri-Query: "foo=bar"
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-example-of-application-grou" class="selfRef">Example of application group name in the URI path (1/2)</a>
          </figcaption></figure>
</div>
<p id="appendix-B.1-3"><a href="#fig-gname-path-example-2" class="auto internal xref">Figure 9</a> provides a different example, where an IPv6 literal address and the default CoAP port number 5683 are used in the authority component, which yields a compact CoAP request. Also, the resource structure is different in this example.<a href="#appendix-B.1-3" class="pilcrow">¶</a></p>
<span id="name-example-of-application-group"></span><div id="fig-gname-path-example-2">
<figure id="figure-9">
          <div class="alignLeft art-text artwork" id="appendix-B.1-4.1">
<pre>
   Application group name: gp1

   Group URI: coap://[ff35:30:2001:db8:f1:0:8000:1]/g/gp1/li

   CoAP group request
      Header: POST (T=NON, Code=0.02, MID=0x7d41)
      Uri-Path: "g"
      Uri-Path: "gp1"
      Uri-Path: "li"
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-example-of-application-group" class="selfRef">Example of application group name in the URI path (2/2)</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="sec-examples-app-group-naming-query">
<section id="appendix-B.2">
        <h3 id="name-group-naming-using-the-uri-q">
<a href="#appendix-B.2" class="section-number selfRef">B.2. </a><a href="#name-group-naming-using-the-uri-q" class="section-name selfRef">Group Naming using the URI Query Component</a>
        </h3>
<p id="appendix-B.2-1"><a href="#fig-gname-query1-example" class="auto internal xref">Figure 10</a> provides an example where the URI query component is used for naming application groups. In particular, it considers the first alternative discussed in <a href="#sec-groupnaming-app" class="auto internal xref">Section 2.2.1.2</a>, where the URI query component consists of only one parameter, which has no value and has the name of the application group as its own identifier.<a href="#appendix-B.2-1" class="pilcrow">¶</a></p>
<span id="name-example-of-application-group-"></span><div id="fig-gname-query1-example">
<figure id="figure-10">
          <div class="alignLeft art-text artwork" id="appendix-B.2-2.1">
<pre>
   Application group name: gp1

   Group URI: coap://grp.example:5685/light?gp1

   CoAP group request
      Header: GET (T=NON, Code=0.01, MID=0x7d41)
      Uri-Host: "grp.example"
      Uri-Path: "light"
      Uri-Query: "gp1"
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-example-of-application-group-" class="selfRef">Example of application group name in the URI query (1/2)</a>
          </figcaption></figure>
</div>
<p id="appendix-B.2-3"><a href="#fig-gname-query2-example" class="auto internal xref">Figure 11</a> provides another example, which considers the second alternative discussed in <a href="#sec-groupnaming-app" class="auto internal xref">Section 2.2.1.2</a>. In particular, the URI query component includes a query parameter "gp" as designated indicator, with value the name of the application group.<a href="#appendix-B.2-3" class="pilcrow">¶</a></p>
<span id="name-example-of-application-group-n"></span><div id="fig-gname-query2-example">
<figure id="figure-11">
          <div class="alignLeft art-text artwork" id="appendix-B.2-4.1">
<pre>
   Application group name: gp1

   Group URI: coap://grp.example:5685/light?foo=bar&amp;gp=gp1

   CoAP group request
      Header: GET (T=NON, Code=0.01, MID=0x7d41)
      Uri-Host: "grp.example"
      Uri-Path: "light"
      Uri-Query: "foo=bar"
      Uri-Query: "gp=gp1"
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-example-of-application-group-n" class="selfRef">Example of application group name in the URI query (2/2)</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="sec-examples-app-group-naming-authority">
<section id="appendix-B.3">
        <h3 id="name-group-naming-using-the-uri-a">
<a href="#appendix-B.3" class="section-number selfRef">B.3. </a><a href="#name-group-naming-using-the-uri-a" class="section-name selfRef">Group Naming using the URI Authority Component</a>
        </h3>
<p id="appendix-B.3-1"><a href="#fig-gname-auth-example" class="auto internal xref">Figure 12</a> provides an example where the URI authority component as a whole is used for encoding the name of the application group.
Note that, although the port information (5685) is not carried as a CoAP Option, it is still transported within the UDP message (in the UDP destination port field).
So, effectively, the application group name is transported in the UDP message as two parts.<a href="#appendix-B.3-1" class="pilcrow">¶</a></p>
<span id="name-example-of-application-group-na"></span><div id="fig-gname-auth-example">
<figure id="figure-12">
          <div class="alignLeft art-text artwork" id="appendix-B.3-2.1">
<pre>
   Application group name: grp.example:5685

   Group URI: coap://grp.example:5685/light?foo=bar

   CoAP group request
      Header: GET (T=NON, Code=0.01, MID=0x7d41)
      Uri-Host: "grp.example"
      Uri-Path: "light"
      Uri-Query: "foo=bar"
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-example-of-application-group-na" class="selfRef">Example of application group name defined by the URI authority</a>
          </figcaption></figure>
</div>
<p id="appendix-B.3-3"><a href="#fig-gname-host-example" class="auto internal xref">Figure 13</a> provides an example where the URI host subcomponent of the URI authority component is used for encoding the name of the application group.
Specifically, the first label of the DNS name is used.<a href="#appendix-B.3-3" class="pilcrow">¶</a></p>
<span id="name-example-of-application-group-nam"></span><div id="fig-gname-host-example">
<figure id="figure-13">
          <div class="alignLeft art-text artwork" id="appendix-B.3-4.1">
<pre>
   Application group name: grp42

   Group URI: coap://grp42.example:5685/light?foo=bar

   CoAP group request
      Header: GET (T=NON, Code=0.01, MID=0x7d41)
      Uri-Host: "grp42.example"
      Uri-Path: "light"
      Uri-Query: "foo=bar"
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-example-of-application-group-nam" class="selfRef">Example of application group name encoded in the URI host</a>
          </figcaption></figure>
</div>
<p id="appendix-B.3-5"><a href="#fig-gname-port-example" class="auto internal xref">Figure 14</a> provides an example where the URI port subcomponent of the URI authority component is used for naming application groups.
It uses a UDP port from the dynamic port range. Multiple application groups could be defined this way, each represented by a number and associated port in the dynamic port range.<a href="#appendix-B.3-5" class="pilcrow">¶</a></p>
<span id="name-example-of-application-group-name"></span><div id="fig-gname-port-example">
<figure id="figure-14">
          <div class="alignLeft art-text artwork" id="appendix-B.3-6.1">
<pre>
   Application group name: 55685

   Group URI: coap://grp.example:55685/light?foo=bar

   CoAP group request
      Header: GET(T=NON, Code=0.01, MID=0x7d41)
      Uri-Host: "grp.example"
      Uri-Path: "light"
      Uri-Query: "foo=bar"
</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-example-of-application-group-name" class="selfRef">Example of application group name in the URI port</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="sec-examples-group-discovery">
<section id="appendix-C">
      <h2 id="name-examples-of-group-discovery">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-examples-of-group-discovery" class="section-name selfRef">Examples of Group Discovery from CoAP Servers</a>
      </h2>
<p id="appendix-C-1">This section provides examples for the different methods that a CoAP client can use to discover application groups and CoAP groups by interacting with CoAP servers, as defined in <a href="#sssec-discovery-from-servers" class="auto internal xref">Section 2.2.3.2</a>.<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<p id="appendix-C-2">The examples build on the same assumptions considered in <a href="#sssec-discovery-from-servers" class="auto internal xref">Section 2.2.3.2</a>. In addition, a CoAP group is used and is identified by the URI authority grp.example:5685.<a href="#appendix-C-2" class="pilcrow">¶</a></p>
<div id="sec-examples-group-discovery-1">
<section id="appendix-C.1">
        <h3 id="name-application-groups-associat">
<a href="#appendix-C.1" class="section-number selfRef">C.1. </a><a href="#name-application-groups-associat" class="section-name selfRef">Application Groups Associated with a CoAP Group</a>
        </h3>
<p id="appendix-C.1-1"><a href="#fig-app-gp-discovery-example1" class="auto internal xref">Figure 15</a> provides an example where a CoAP client discovers all the application groups associated with a specific CoAP group.<a href="#appendix-C.1-1" class="pilcrow">¶</a></p>
<p id="appendix-C.1-2">As a result, the client gains knowledge of: i) the set of servers that are members of the specified CoAP group and member of any of the associated application groups; ii) for each of those servers, the name of the application groups where the server is a member and that are associated with the CoAP group.<a href="#appendix-C.1-2" class="pilcrow">¶</a></p>
<p id="appendix-C.1-3">Each of the servers S1 and S2 is identified by the IP source address of the CoAP response. If the client wishes to discover resources that a particular server hosts within a particular application group, it may use unicast discovery request(s) to this server, i.e., to its respective unicast IP address. Alternatively the client may use the discovered group resource type (e.g., rt=g.light) to infer which resources are present below the group resource.<a href="#appendix-C.1-3" class="pilcrow">¶</a></p>
<p id="appendix-C.1-4">The example semantics "g.&lt;GROUPTYPE&gt;" is used for the values of the attribute "rt".<a href="#appendix-C.1-4" class="pilcrow">¶</a></p>
<span id="name-discovery-of-application-gr"></span><div id="fig-app-gp-discovery-example1">
<figure id="figure-15">
          <div class="alignLeft art-text artwork" id="appendix-C.1-5.1">
<pre>
   // Request to all members of the CoAP group
   Req: GET coap://grp.example:5685/.well-known/core?rt=g.*

   // Response from server S1, as member of:
   //   - The CoAP group "grp.example:5685"
   //   - The application group "gp1"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;/gp/gp1&gt;;rt=g.light

   // Response from server S2, as member of:
   // - The CoAP group "grp.example:5685"
   // - The application groups "gp1" and "gp2"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;/gp/gp1&gt;;rt=g.light,
   &lt;/gp/gp2&gt;;rt=g.temp
</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-discovery-of-application-gr" class="selfRef">Discovery of application groups associated with a CoAP group</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="sec-examples-group-discovery-2">
<section id="appendix-C.2">
        <h3 id="name-members-of-a-given-applicat">
<a href="#appendix-C.2" class="section-number selfRef">C.2. </a><a href="#name-members-of-a-given-applicat" class="section-name selfRef">Members of a Given Application Group</a>
        </h3>
<p id="appendix-C.2-1"><a href="#fig-app-gp-discovery-example2" class="auto internal xref">Figure 16</a> provides an example where a CoAP client discovers the CoAP servers that are members of a specific application group and the CoAP group associated with the application group.<a href="#appendix-C.2-1" class="pilcrow">¶</a></p>
<p id="appendix-C.2-2">Note that, unlike in the example shown in <a href="#sec-examples-group-discovery-1" class="auto internal xref">Appendix C.1</a>, now the servers need to respond with an absolute URI and not a relative URI. This is necessary because the responding CoAP endpoint serving the Link Format document (on port 5683) is a different CoAP endpoint from the one hosting the group resource "gp1" (on port 5685). Due to this situation, the responding server includes the full (absolute) URI in the Link Format response from which the client can conveniently gain knowledge of the CoAP group.<a href="#appendix-C.2-2" class="pilcrow">¶</a></p>
<p id="appendix-C.2-3">Also note that a server could equally well respond with the literal IPv6 multicast address within square brackets instead of the CoAP group name "grp.example". In that case, the client would still gain knowledge of the CoAP group, albeit in a different representation.<a href="#appendix-C.2-3" class="pilcrow">¶</a></p>
<span id="name-discovery-of-members-of-an-"></span><div id="fig-app-gp-discovery-example2">
<figure id="figure-16">
          <div class="alignLeft art-text artwork" id="appendix-C.2-4.1">
<pre>
   // Request to realm-local members of the application group "gp1"
   Req: GET coap://[ff03::fd]/.well-known/core?href=/gp/gp1

   // CoAP response from server S1, as member of:
   //   - The CoAP group "grp.example:5685"
   //   - The application group "gp1"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;coap://grp.example:5685/gp/gp1&gt;;rt=g.light

   // CoAP response from server S2, as member of:
   // - The CoAP group "grp.example:5685"
   // - The application groups "gp1"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;coap://grp.example:5685/gp/gp1&gt;;rt=g.light
</pre>
</div>
<figcaption><a href="#figure-16" class="selfRef">Figure 16</a>:
<a href="#name-discovery-of-members-of-an-" class="selfRef">Discovery of members of an application group, together with the associated CoAP group</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="sec-examples-group-discovery-3">
<section id="appendix-C.3">
        <h3 id="name-members-of-any-application-">
<a href="#appendix-C.3" class="section-number selfRef">C.3. </a><a href="#name-members-of-any-application-" class="section-name selfRef">Members of any Application Group of a Given Type</a>
        </h3>
<p id="appendix-C.3-1"><a href="#fig-app-gp-discovery-example3" class="auto internal xref">Figure 17</a> provides an example where a CoAP client discovers the CoAP servers that are members of any application group of a specific type, and the CoAP group associated with those application groups.<a href="#appendix-C.3-1" class="pilcrow">¶</a></p>
<span id="name-discovery-of-members-of-app"></span><div id="fig-app-gp-discovery-example3">
<figure id="figure-17">
          <div class="alignLeft art-text artwork" id="appendix-C.3-2.1">
<pre>
   // Request to realm-local members of application groups
   // with group type "g.temp"
   Req: GET coap://[ff03::fd]/.well-known/core?rt=g.temp

   // Response from server S1, as member of:
   //   - The CoAP group "grp.example:5685"
   //   - The application group "gp1" of type "g.temp"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;coap://grp.example:5685/gp/gp1&gt;;rt=g.temp

   // Response from server S2, as member of:
   //   - The CoAP group "grp.example:5685"
   //   - The application groups "gp1" and "gp2" of type "g.temp"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;coap://grp.example:5685/gp/gp1&gt;;rt=g.temp,
   &lt;coap://grp.example:5685/gp/gp2&gt;;rt=g.temp
</pre>
</div>
<figcaption><a href="#figure-17" class="selfRef">Figure 17</a>:
<a href="#name-discovery-of-members-of-app" class="selfRef">Discovery of members of application groups of a specified type, and of the associated CoAP group</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="sec-examples-group-discovery-4">
<section id="appendix-C.4">
        <h3 id="name-members-of-any-application-g">
<a href="#appendix-C.4" class="section-number selfRef">C.4. </a><a href="#name-members-of-any-application-g" class="section-name selfRef">Members of any Application Group in the Network</a>
        </h3>
<p id="appendix-C.4-1"><a href="#fig-app-gp-discovery-example4" class="auto internal xref">Figure 18</a> provides an example where a CoAP client discovers the CoAP servers that are members of any application group configured in the 6LoWPAN network of the client, and the CoAP group associated with each application group. In this example, the scope is realm-local to address all servers in the current 6LoWPAN network of the client.<a href="#appendix-C.4-1" class="pilcrow">¶</a></p>
<p id="appendix-C.4-2">The example semantics "g.&lt;GROUPTYPE&gt;" is used for the values of the attribute "rt".<a href="#appendix-C.4-2" class="pilcrow">¶</a></p>
<span id="name-discovery-of-the-resources-"></span><div id="fig-app-gp-discovery-example4">
<figure id="figure-18">
          <div class="alignLeft art-text artwork" id="appendix-C.4-3.1">
<pre>
   // Request to realm-local members of any application group
   Req: GET coap://[ff03::fd]/.well-known/core?rt=g.*

   // Response from server S1, as member of:
   //   - The CoAP groups "grp.example:5685" and "grp2.example"
   //   - The application groups "gp1" and "gp5"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;coap://grp.example:5685/gp/gp1&gt;;rt=g.light,
   &lt;coap://grp2.example/gp/gp5&gt;;rt=g.lock

   // Response from server S2, as member of:
   //   - The CoAP group "grp.example:5685"
   //   - The application groups "gp1" and "gp2"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;coap://grp.example:5685/gp/gp1&gt;;rt=g.light,
   &lt;coap://grp.example:5685/gp/gp2&gt;;rt=g.light

   // Response from server S3, as member of:
   //   - The CoAP group "grp2.example"
   //   - The application group "gp5"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;coap://grp2.example/gp/gp5&gt;;rt=g.lock
</pre>
</div>
<figcaption><a href="#figure-18" class="selfRef">Figure 18</a>:
<a href="#name-discovery-of-the-resources-" class="selfRef">Discovery of the resources and members of any application group, and of the associated CoAP group</a>
          </figcaption></figure>
</div>
<p id="appendix-C.4-4">Alternatively, some applications may use the "rt" attribute on a parent resource to denote support for a particular REST API to access child resources.<a href="#appendix-C.4-4" class="pilcrow">¶</a></p>
<p id="appendix-C.4-5">For instance, <a href="#fig-app-gp-discovery-example5" class="auto internal xref">Figure 19</a> provides a different example where a custom Link Format attribute "gpt" is used to denote the group type within the scope of the application/system. An alternative, shorter encoding (not shown in the figure) is to use only the value "1" for each "gpt" attribute, in order to denote that the resource is of type application group. In that case, information about the semantics/API of the group resource is disclosed only via the "rt" attribute as shown in the figure.<a href="#appendix-C.4-5" class="pilcrow">¶</a></p>
<span id="name-example-of-using-a-custom-g"></span><div id="fig-app-gp-discovery-example5">
<figure id="figure-19">
          <div class="alignLeft art-text artwork" id="appendix-C.4-6.1">
<pre>
   // Request to realm-local members of any application group
   Req: GET coap://[ff03::fd]/.well-known/core?gpt=*

   // Response from server S1, as member of:
   //   - The CoAP groups "grp.example:5685" and "grp2.example"
   //   - The application groups "gp1" and "gp5"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;coap://grp.example:5685/gp/gp1&gt;;rt=oic.d.light;gpt=light,
   &lt;coap://grp2.example/gp/gp5&gt;;rt=oic.d.smartlock;gpt=lock

   // Response from server S2, as member of:
   //   - The CoAP group "grp.example:5685"
   //   - The application groups "gp1" and "gp2"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;coap://grp.example:5685/gp/gp1&gt;;rt=oic.d.light;gpt=light,
   &lt;coap://grp.example:5685/gp/gp2&gt;;rt=oic.d.light;gpt=light

   // Response from server S3, as member of:
   //   - The CoAP group "grp2.example"
   //   - The application group "gp5"
   Res: 2.05 (Content)
   Content-Format: 40 (application/link-format)
   Payload:
   &lt;coap://grp2.example/gp/gp5&gt;;rt=oic.d.smartlock;gpt=lock
</pre>
</div>
<figcaption><a href="#figure-19" class="selfRef">Figure 19</a>:
<a href="#name-example-of-using-a-custom-g" class="selfRef">Example of using a custom 'gpt' link attribute to denote group type</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="sec-examples-exchanges">
<section id="appendix-D">
      <h2 id="name-examples-of-message-exchang">
<a href="#appendix-D" class="section-number selfRef">Appendix D. </a><a href="#name-examples-of-message-exchang" class="section-name selfRef">Examples of Message Exchanges</a>
      </h2>
<p id="appendix-D-1">This section provides examples of different message exchanges when CoAP is used with group communication. The examples consider:<a href="#appendix-D-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-D-2.1">
          <p id="appendix-D-2.1.1">A client with address ADDR_CLIENT and port number PORT_CLIENT.<a href="#appendix-D-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-D-2.2">
          <p id="appendix-D-2.2.1">A CoAP group associated with the IP multicast address ADDR_GRP and port number PORT_GRP.<a href="#appendix-D-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-D-2.3">
          <p id="appendix-D-2.3.1">An application group "gp1" associated with the CoAP group above.<a href="#appendix-D-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-D-2.4">
          <p id="appendix-D-2.4.1">Three servers A, B, and C, all of which are members of the CoAP group above and of the application group "gp1". Each server X (with X equal to A, B, or C): listens to its own address ADDR_X and port number PORT_X; and listens to the address ADDR_GRP and port number PORT_GRP. For each server its PORT_X may be different from PORT_GRP or may be equal to it, in general.<a href="#appendix-D-2.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-D-3">In <a href="#fig-exchange-example" class="auto internal xref">Figure 20</a>, the client sends a Non-confirmable GET request to the CoAP group, targeting the resource "temperature" in the application group "gp1".<a href="#appendix-D-3" class="pilcrow">¶</a></p>
<span id="name-example-of-non-confirmable-"></span><div id="fig-exchange-example">
<figure id="figure-20">
        <div id="appendix-D-4.1">
          <div class="alignLeft art-svg artwork" id="appendix-D-4.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="736" width="576" viewBox="0 0 576 736" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
              <path d="M 32,48 L 32,192" fill="none" stroke="black"></path>
              <path d="M 32,320 L 32,528" fill="none" stroke="black"></path>
              <path d="M 32,608 L 32,720" fill="none" stroke="black"></path>
              <path d="M 168,48 L 168,104" fill="none" stroke="black"></path>
              <path d="M 168,152 L 168,192" fill="none" stroke="black"></path>
              <path d="M 168,320 L 168,440" fill="none" stroke="black"></path>
              <path d="M 168,456 L 168,528" fill="none" stroke="black"></path>
              <path d="M 168,608 L 168,632" fill="none" stroke="black"></path>
              <path d="M 168,648 L 168,720" fill="none" stroke="black"></path>
              <path d="M 192,48 L 192,136" fill="none" stroke="black"></path>
              <path d="M 192,152 L 192,192" fill="none" stroke="black"></path>
              <path d="M 192,320 L 192,528" fill="none" stroke="black"></path>
              <path d="M 192,608 L 192,632" fill="none" stroke="black"></path>
              <path d="M 192,648 L 192,720" fill="none" stroke="black"></path>
              <path d="M 216,48 L 216,192" fill="none" stroke="black"></path>
              <path d="M 216,320 L 216,528" fill="none" stroke="black"></path>
              <path d="M 216,608 L 216,720" fill="none" stroke="black"></path>
              <path d="M 32,80 L 160,80" fill="none" stroke="black"></path>
              <path d="M 112,112 L 184,112" fill="none" stroke="black"></path>
              <path d="M 128,144 L 208,144" fill="none" stroke="black"></path>
              <path d="M 40,352 L 168,352" fill="none" stroke="black"></path>
              <path d="M 104,448 L 192,448" fill="none" stroke="black"></path>
              <path d="M 40,640 L 216,640" fill="none" stroke="black"></path>
              <path d="M 96,80 L 128,144" fill="none" stroke="black"></path>
              <polygon class="arrowhead" points="216,144 204,138.4 204,149.6" fill="black" transform="rotate(0,208,144)"></polygon>
              <polygon class="arrowhead" points="192,112 180,106.4 180,117.6" fill="black" transform="rotate(0,184,112)"></polygon>
              <polygon class="arrowhead" points="168,80 156,74.4 156,85.6" fill="black" transform="rotate(0,160,80)"></polygon>
              <polygon class="arrowhead" points="112,448 100,442.4 100,453.6" fill="black" transform="rotate(180,104,448)"></polygon>
              <polygon class="arrowhead" points="48,640 36,634.4 36,645.6" fill="black" transform="rotate(180,40,640)"></polygon>
              <polygon class="arrowhead" points="48,352 36,346.4 36,357.6" fill="black" transform="rotate(180,40,352)"></polygon>
              <g class="text">
                <text x="28" y="36">Client</text>
                <text x="168" y="36">A</text>
                <text x="192" y="36">B</text>
                <text x="216" y="36">C</text>
                <text x="64" y="68">GET</text>
                <text x="256" y="84">Source:</text>
                <text x="384" y="84">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="276" y="100">Destination:</text>
                <text x="400" y="100">ADDR_GRP:PORT_GRP</text>
                <text x="256" y="116">Header:</text>
                <text x="304" y="116">GET</text>
                <text x="352" y="116">(T=NON,</text>
                <text x="428" y="116">Code=0.01,</text>
                <text x="520" y="116">MID=0x7d41)</text>
                <text x="168" y="132">|</text>
                <text x="252" y="132">Token:</text>
                <text x="300" y="132">0x86</text>
                <text x="264" y="148">Uri-Path:</text>
                <text x="324" y="148">"gp"</text>
                <text x="264" y="164">Uri-Path:</text>
                <text x="328" y="164">"gp1"</text>
                <text x="264" y="180">Uri-Path:</text>
                <text x="360" y="180">"temperature"</text>
                <text x="40" y="228">All</text>
                <text x="88" y="228">servers</text>
                <text x="144" y="228">reply</text>
                <text x="188" y="228">with</text>
                <text x="216" y="228">a</text>
                <text x="244" y="228">2.05</text>
                <text x="304" y="228">(Content)</text>
                <text x="384" y="228">response,</text>
                <text x="460" y="228">although</text>
                <text x="512" y="228">the</text>
                <text x="60" y="244">response</text>
                <text x="116" y="244">from</text>
                <text x="164" y="244">server</text>
                <text x="200" y="244">B</text>
                <text x="220" y="244">is</text>
                <text x="256" y="244">lost.</text>
                <text x="36" y="276">As</text>
                <text x="76" y="276">source</text>
                <text x="124" y="276">port</text>
                <text x="172" y="276">number</text>
                <text x="212" y="276">of</text>
                <text x="248" y="276">their</text>
                <text x="312" y="276">response,</text>
                <text x="384" y="276">servers</text>
                <text x="424" y="276">A</text>
                <text x="448" y="276">and</text>
                <text x="472" y="276">B</text>
                <text x="496" y="276">use</text>
                <text x="528" y="276">the</text>
                <text x="72" y="292">destination</text>
                <text x="140" y="292">port</text>
                <text x="188" y="292">number</text>
                <text x="228" y="292">of</text>
                <text x="256" y="292">the</text>
                <text x="308" y="292">request,</text>
                <text x="368" y="292">i.e.,</text>
                <text x="432" y="292">PORT_GRP.</text>
                <text x="256" y="356">Source:</text>
                <text x="352" y="356">ADDR_A:PORT_GRP</text>
                <text x="132" y="372">2.05</text>
                <text x="276" y="372">Destination:</text>
                <text x="424" y="372">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="388">Header:</text>
                <text x="308" y="388">2.05</text>
                <text x="360" y="388">(T=NON,</text>
                <text x="436" y="388">Code=2.05,</text>
                <text x="528" y="388">MID=0x60b1)</text>
                <text x="252" y="404">Token:</text>
                <text x="300" y="404">0x86</text>
                <text x="260" y="420">Payload:</text>
                <text x="320" y="420">"22.3</text>
                <text x="356" y="420">C"</text>
                <text x="60" y="452">Lost</text>
                <text x="88" y="452">X</text>
                <text x="256" y="452">Source:</text>
                <text x="352" y="452">ADDR_B:PORT_GRP</text>
                <text x="132" y="468">2.05</text>
                <text x="276" y="468">Destination:</text>
                <text x="424" y="468">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="484">Header:</text>
                <text x="308" y="484">2.05</text>
                <text x="360" y="484">(T=NON,</text>
                <text x="436" y="484">Code=2.05,</text>
                <text x="528" y="484">MID=0x01a0)</text>
                <text x="252" y="500">Token:</text>
                <text x="300" y="500">0x86</text>
                <text x="260" y="516">Payload:</text>
                <text x="320" y="516">"20.9</text>
                <text x="356" y="516">C"</text>
                <text x="36" y="564">As</text>
                <text x="76" y="564">source</text>
                <text x="124" y="564">port</text>
                <text x="172" y="564">number</text>
                <text x="212" y="564">of</text>
                <text x="240" y="564">its</text>
                <text x="296" y="564">response,</text>
                <text x="364" y="564">server</text>
                <text x="400" y="564">C</text>
                <text x="428" y="564">uses</text>
                <text x="464" y="564">its</text>
                <text x="496" y="564">own</text>
                <text x="532" y="564">port</text>
                <text x="52" y="580">number</text>
                <text x="112" y="580">PORT_C.</text>
                <text x="256" y="644">Source:</text>
                <text x="344" y="644">ADDR_C:PORT_C</text>
                <text x="132" y="660">2.05</text>
                <text x="276" y="660">Destination:</text>
                <text x="424" y="660">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="676">Header:</text>
                <text x="308" y="676">2.05</text>
                <text x="360" y="676">(T=NON,</text>
                <text x="436" y="676">Code=2.05,</text>
                <text x="528" y="676">MID=0x952a)</text>
                <text x="252" y="692">Token:</text>
                <text x="300" y="692">0x86</text>
                <text x="260" y="708">Payload:</text>
                <text x="320" y="708">"21.0</text>
                <text x="356" y="708">C"</text>
              </g>
            </svg><a href="#appendix-D-4.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-20" class="selfRef">Figure 20</a>:
<a href="#name-example-of-non-confirmable-" class="selfRef">Example of Non-confirmable group request, followed by Non-confirmable Responses</a>
        </figcaption></figure>
</div>
<p id="appendix-D-5">In <a href="#fig-exchange-example-observe" class="auto internal xref">Figure 21</a>, the client sends a Non-confirmable GET request to the CoAP group, targeting and requesting to observe the resource "temperature" in the application group "gp1".<a href="#appendix-D-5" class="pilcrow">¶</a></p>
<span id="name-example-of-non-confirmable-o"></span><div id="fig-exchange-example-observe">
<figure id="figure-21">
        <div id="appendix-D-6.1">
          <div class="alignLeft art-svg artwork" id="appendix-D-6.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="1232" width="576" viewBox="0 0 576 1232" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
              <path d="M 32,48 L 32,208" fill="none" stroke="black"></path>
              <path d="M 32,320 L 32,544" fill="none" stroke="black"></path>
              <path d="M 32,624 L 32,752" fill="none" stroke="black"></path>
              <path d="M 32,864 L 32,1216" fill="none" stroke="black"></path>
              <path d="M 168,48 L 168,104" fill="none" stroke="black"></path>
              <path d="M 168,152 L 168,208" fill="none" stroke="black"></path>
              <path d="M 168,320 L 168,456" fill="none" stroke="black"></path>
              <path d="M 168,472 L 168,544" fill="none" stroke="black"></path>
              <path d="M 168,624 L 168,648" fill="none" stroke="black"></path>
              <path d="M 168,664 L 168,752" fill="none" stroke="black"></path>
              <path d="M 168,864 L 168,1000" fill="none" stroke="black"></path>
              <path d="M 168,1016 L 168,1112" fill="none" stroke="black"></path>
              <path d="M 168,1128 L 168,1216" fill="none" stroke="black"></path>
              <path d="M 192,48 L 192,136" fill="none" stroke="black"></path>
              <path d="M 192,152 L 192,208" fill="none" stroke="black"></path>
              <path d="M 192,320 L 192,544" fill="none" stroke="black"></path>
              <path d="M 192,624 L 192,648" fill="none" stroke="black"></path>
              <path d="M 192,664 L 192,752" fill="none" stroke="black"></path>
              <path d="M 192,864 L 192,1112" fill="none" stroke="black"></path>
              <path d="M 192,1128 L 192,1216" fill="none" stroke="black"></path>
              <path d="M 216,48 L 216,208" fill="none" stroke="black"></path>
              <path d="M 216,320 L 216,544" fill="none" stroke="black"></path>
              <path d="M 216,624 L 216,752" fill="none" stroke="black"></path>
              <path d="M 216,864 L 216,1216" fill="none" stroke="black"></path>
              <path d="M 32,80 L 160,80" fill="none" stroke="black"></path>
              <path d="M 112,112 L 184,112" fill="none" stroke="black"></path>
              <path d="M 128,144 L 208,144" fill="none" stroke="black"></path>
              <path d="M 40,352 L 168,352" fill="none" stroke="black"></path>
              <path d="M 40,464 L 192,464" fill="none" stroke="black"></path>
              <path d="M 40,656 L 216,656" fill="none" stroke="black"></path>
              <path d="M 40,896 L 168,896" fill="none" stroke="black"></path>
              <path d="M 40,1008 L 192,1008" fill="none" stroke="black"></path>
              <path d="M 40,1120 L 216,1120" fill="none" stroke="black"></path>
              <path d="M 96,80 L 128,144" fill="none" stroke="black"></path>
              <polygon class="arrowhead" points="216,144 204,138.4 204,149.6" fill="black" transform="rotate(0,208,144)"></polygon>
              <polygon class="arrowhead" points="192,112 180,106.4 180,117.6" fill="black" transform="rotate(0,184,112)"></polygon>
              <polygon class="arrowhead" points="168,80 156,74.4 156,85.6" fill="black" transform="rotate(0,160,80)"></polygon>
              <polygon class="arrowhead" points="48,1120 36,1114.4 36,1125.6" fill="black" transform="rotate(180,40,1120)"></polygon>
              <polygon class="arrowhead" points="48,1008 36,1002.4 36,1013.6" fill="black" transform="rotate(180,40,1008)"></polygon>
              <polygon class="arrowhead" points="48,896 36,890.4 36,901.6" fill="black" transform="rotate(180,40,896)"></polygon>
              <polygon class="arrowhead" points="48,656 36,650.4 36,661.6" fill="black" transform="rotate(180,40,656)"></polygon>
              <polygon class="arrowhead" points="48,464 36,458.4 36,469.6" fill="black" transform="rotate(180,40,464)"></polygon>
              <polygon class="arrowhead" points="48,352 36,346.4 36,357.6" fill="black" transform="rotate(180,40,352)"></polygon>
              <g class="text">
                <text x="28" y="36">Client</text>
                <text x="168" y="36">A</text>
                <text x="192" y="36">B</text>
                <text x="216" y="36">C</text>
                <text x="64" y="68">GET</text>
                <text x="256" y="84">Source:</text>
                <text x="384" y="84">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="276" y="100">Destination:</text>
                <text x="400" y="100">ADDR_GRP:PORT_GRP</text>
                <text x="256" y="116">Header:</text>
                <text x="304" y="116">GET</text>
                <text x="352" y="116">(T=NON,</text>
                <text x="428" y="116">Code=0.01,</text>
                <text x="520" y="116">MID=0x7d41)</text>
                <text x="168" y="132">|</text>
                <text x="252" y="132">Token:</text>
                <text x="300" y="132">0x86</text>
                <text x="260" y="148">Observe:</text>
                <text x="304" y="148">0</text>
                <text x="356" y="148">(register)</text>
                <text x="264" y="164">Uri-Path:</text>
                <text x="324" y="164">"gp"</text>
                <text x="264" y="180">Uri-Path:</text>
                <text x="328" y="180">"gp1"</text>
                <text x="264" y="196">Uri-Path:</text>
                <text x="360" y="196">"temperature"</text>
                <text x="40" y="244">All</text>
                <text x="88" y="244">servers</text>
                <text x="144" y="244">reply</text>
                <text x="188" y="244">with</text>
                <text x="216" y="244">a</text>
                <text x="244" y="244">2.05</text>
                <text x="304" y="244">(Content)</text>
                <text x="396" y="244">notification</text>
                <text x="488" y="244">response.</text>
                <text x="36" y="276">As</text>
                <text x="76" y="276">source</text>
                <text x="124" y="276">port</text>
                <text x="172" y="276">number</text>
                <text x="212" y="276">of</text>
                <text x="248" y="276">their</text>
                <text x="312" y="276">response,</text>
                <text x="384" y="276">servers</text>
                <text x="424" y="276">A</text>
                <text x="448" y="276">and</text>
                <text x="472" y="276">B</text>
                <text x="496" y="276">use</text>
                <text x="528" y="276">the</text>
                <text x="72" y="292">destination</text>
                <text x="140" y="292">port</text>
                <text x="188" y="292">number</text>
                <text x="228" y="292">of</text>
                <text x="256" y="292">the</text>
                <text x="308" y="292">request,</text>
                <text x="368" y="292">i.e.,</text>
                <text x="432" y="292">PORT_GRP.</text>
                <text x="256" y="356">Source:</text>
                <text x="352" y="356">ADDR_A:PORT_GRP</text>
                <text x="132" y="372">2.05</text>
                <text x="276" y="372">Destination:</text>
                <text x="424" y="372">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="388">Header:</text>
                <text x="308" y="388">2.05</text>
                <text x="360" y="388">(T=NON,</text>
                <text x="436" y="388">Code=2.05,</text>
                <text x="528" y="388">MID=0x60b1)</text>
                <text x="252" y="404">Token:</text>
                <text x="300" y="404">0x86</text>
                <text x="260" y="420">Observe:</text>
                <text x="304" y="420">3</text>
                <text x="260" y="436">Payload:</text>
                <text x="320" y="436">"22.3</text>
                <text x="356" y="436">C"</text>
                <text x="256" y="468">Source:</text>
                <text x="352" y="468">ADDR_B:PORT_GRP</text>
                <text x="132" y="484">2.05</text>
                <text x="276" y="484">Destination:</text>
                <text x="424" y="484">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="500">Header:</text>
                <text x="308" y="500">2.05</text>
                <text x="360" y="500">(T=NON,</text>
                <text x="436" y="500">Code=2.05,</text>
                <text x="528" y="500">MID=0x01a0)</text>
                <text x="252" y="516">Token:</text>
                <text x="300" y="516">0x86</text>
                <text x="260" y="532">Observe:</text>
                <text x="308" y="532">13</text>
                <text x="260" y="548">Payload:</text>
                <text x="320" y="548">"20.9</text>
                <text x="356" y="548">C"</text>
                <text x="36" y="580">As</text>
                <text x="76" y="580">source</text>
                <text x="124" y="580">port</text>
                <text x="172" y="580">number</text>
                <text x="212" y="580">of</text>
                <text x="240" y="580">its</text>
                <text x="296" y="580">response,</text>
                <text x="364" y="580">server</text>
                <text x="400" y="580">C</text>
                <text x="428" y="580">uses</text>
                <text x="464" y="580">its</text>
                <text x="496" y="580">own</text>
                <text x="532" y="580">port</text>
                <text x="52" y="596">number</text>
                <text x="112" y="596">PORT_C.</text>
                <text x="256" y="660">Source:</text>
                <text x="344" y="660">ADDR_C:PORT_C</text>
                <text x="132" y="676">2.05</text>
                <text x="276" y="676">Destination:</text>
                <text x="424" y="676">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="692">Header:</text>
                <text x="308" y="692">2.05</text>
                <text x="360" y="692">(T=NON,</text>
                <text x="436" y="692">Code=2.05,</text>
                <text x="528" y="692">MID=0x952a)</text>
                <text x="252" y="708">Token:</text>
                <text x="300" y="708">0x86</text>
                <text x="260" y="724">Observe:</text>
                <text x="308" y="724">23</text>
                <text x="260" y="740">Payload:</text>
                <text x="320" y="740">"21.0</text>
                <text x="356" y="740">C"</text>
                <text x="44" y="788">Some</text>
                <text x="84" y="788">time</text>
                <text x="132" y="788">later,</text>
                <text x="176" y="788">the</text>
                <text x="240" y="788">temperature</text>
                <text x="324" y="788">changes.</text>
                <text x="40" y="820">All</text>
                <text x="88" y="820">servers</text>
                <text x="140" y="820">send</text>
                <text x="168" y="820">a</text>
                <text x="196" y="820">2.05</text>
                <text x="256" y="820">(Content)</text>
                <text x="348" y="820">notification</text>
                <text x="440" y="820">response,</text>
                <text x="500" y="820">with</text>
                <text x="536" y="820">the</text>
                <text x="40" y="836">new</text>
                <text x="116" y="836">representation</text>
                <text x="188" y="836">of</text>
                <text x="216" y="836">the</text>
                <text x="288" y="836">"temperature"</text>
                <text x="380" y="836">resource</text>
                <text x="428" y="836">as</text>
                <text x="476" y="836">payload.</text>
                <text x="256" y="900">Source:</text>
                <text x="352" y="900">ADDR_A:PORT_GRP</text>
                <text x="132" y="916">2.05</text>
                <text x="276" y="916">Destination:</text>
                <text x="424" y="916">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="932">Header:</text>
                <text x="308" y="932">2.05</text>
                <text x="360" y="932">(T=NON,</text>
                <text x="436" y="932">Code=2.05,</text>
                <text x="528" y="932">MID=0x60b2)</text>
                <text x="252" y="948">Token:</text>
                <text x="300" y="948">0x86</text>
                <text x="260" y="964">Observe:</text>
                <text x="304" y="964">7</text>
                <text x="260" y="980">Payload:</text>
                <text x="320" y="980">"32.3</text>
                <text x="356" y="980">C"</text>
                <text x="256" y="1012">Source:</text>
                <text x="352" y="1012">ADDR_B:PORT_GRP</text>
                <text x="132" y="1028">2.05</text>
                <text x="276" y="1028">Destination:</text>
                <text x="424" y="1028">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="1044">Header:</text>
                <text x="308" y="1044">2.05</text>
                <text x="360" y="1044">(T=NON,</text>
                <text x="436" y="1044">Code=2.05,</text>
                <text x="528" y="1044">MID=0x01a1)</text>
                <text x="252" y="1060">Token:</text>
                <text x="300" y="1060">0x86</text>
                <text x="260" y="1076">Observe:</text>
                <text x="308" y="1076">18</text>
                <text x="260" y="1092">Payload:</text>
                <text x="320" y="1092">"30.9</text>
                <text x="356" y="1092">C"</text>
                <text x="256" y="1124">Source:</text>
                <text x="344" y="1124">ADDR_C:PORT_C</text>
                <text x="132" y="1140">2.05</text>
                <text x="276" y="1140">Destination:</text>
                <text x="424" y="1140">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="1156">Header:</text>
                <text x="308" y="1156">2.05</text>
                <text x="360" y="1156">(T=NON,</text>
                <text x="436" y="1156">Code=2.05,</text>
                <text x="528" y="1156">MID=0x952b)</text>
                <text x="252" y="1172">Token:</text>
                <text x="300" y="1172">0x86</text>
                <text x="260" y="1188">Observe:</text>
                <text x="308" y="1188">29</text>
                <text x="260" y="1204">Payload:</text>
                <text x="320" y="1204">"31.0</text>
                <text x="356" y="1204">C"</text>
              </g>
            </svg><a href="#appendix-D-6.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-21" class="selfRef">Figure 21</a>:
<a href="#name-example-of-non-confirmable-o" class="selfRef">Example of Non-confirmable Observe group request, followed by Non-confirmable Responses as Observe notifications</a>
        </figcaption></figure>
</div>
<p id="appendix-D-7">In <a href="#fig-exchange-example-blockwise" class="auto internal xref">Figure 22</a>, the client sends a Non-confirmable GET request to the CoAP group, targeting the resource "log" in the application group "gp1", and requesting a blockwise transfer.<a href="#appendix-D-7" class="pilcrow">¶</a></p>
<span id="name-example-of-non-confirmable-g"></span><div id="fig-exchange-example-blockwise">
<figure id="figure-22">
        <div id="appendix-D-8.1">
          <div class="alignLeft art-svg artwork" id="appendix-D-8.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="2592" width="576" viewBox="0 0 576 2592" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
              <path d="M 32,48 L 32,208" fill="none" stroke="black"></path>
              <path d="M 32,336 L 32,688" fill="none" stroke="black"></path>
              <path d="M 32,800 L 32,1344" fill="none" stroke="black"></path>
              <path d="M 32,1408 L 32,1952" fill="none" stroke="black"></path>
              <path d="M 32,2016 L 32,2560" fill="none" stroke="black"></path>
              <path d="M 168,48 L 168,104" fill="none" stroke="black"></path>
              <path d="M 168,152 L 168,208" fill="none" stroke="black"></path>
              <path d="M 168,336 L 168,472" fill="none" stroke="black"></path>
              <path d="M 168,488 L 168,584" fill="none" stroke="black"></path>
              <path d="M 168,600 L 168,688" fill="none" stroke="black"></path>
              <path d="M 168,800 L 168,1344" fill="none" stroke="black"></path>
              <path d="M 168,1408 L 168,1432" fill="none" stroke="black"></path>
              <path d="M 168,1448 L 168,1576" fill="none" stroke="black"></path>
              <path d="M 168,1592 L 168,1704" fill="none" stroke="black"></path>
              <path d="M 168,1720 L 168,1848" fill="none" stroke="black"></path>
              <path d="M 168,1864 L 168,1952" fill="none" stroke="black"></path>
              <path d="M 168,2016 L 168,2040" fill="none" stroke="black"></path>
              <path d="M 168,2056 L 168,2184" fill="none" stroke="black"></path>
              <path d="M 168,2200 L 168,2312" fill="none" stroke="black"></path>
              <path d="M 168,2328 L 168,2456" fill="none" stroke="black"></path>
              <path d="M 168,2472 L 168,2560" fill="none" stroke="black"></path>
              <path d="M 192,48 L 192,136" fill="none" stroke="black"></path>
              <path d="M 192,152 L 192,208" fill="none" stroke="black"></path>
              <path d="M 192,336 L 192,584" fill="none" stroke="black"></path>
              <path d="M 192,600 L 192,688" fill="none" stroke="black"></path>
              <path d="M 192,800 L 192,1344" fill="none" stroke="black"></path>
              <path d="M 192,1408 L 192,1952" fill="none" stroke="black"></path>
              <path d="M 192,2016 L 192,2040" fill="none" stroke="black"></path>
              <path d="M 192,2056 L 192,2184" fill="none" stroke="black"></path>
              <path d="M 192,2200 L 192,2312" fill="none" stroke="black"></path>
              <path d="M 192,2328 L 192,2456" fill="none" stroke="black"></path>
              <path d="M 192,2472 L 192,2560" fill="none" stroke="black"></path>
              <path d="M 216,48 L 216,208" fill="none" stroke="black"></path>
              <path d="M 216,336 L 216,688" fill="none" stroke="black"></path>
              <path d="M 216,800 L 216,1344" fill="none" stroke="black"></path>
              <path d="M 216,1408 L 216,1952" fill="none" stroke="black"></path>
              <path d="M 216,2016 L 216,2560" fill="none" stroke="black"></path>
              <path d="M 32,80 L 160,80" fill="none" stroke="black"></path>
              <path d="M 112,112 L 184,112" fill="none" stroke="black"></path>
              <path d="M 128,144 L 208,144" fill="none" stroke="black"></path>
              <path d="M 40,368 L 168,368" fill="none" stroke="black"></path>
              <path d="M 40,480 L 192,480" fill="none" stroke="black"></path>
              <path d="M 40,592 L 216,592" fill="none" stroke="black"></path>
              <path d="M 32,832 L 160,832" fill="none" stroke="black"></path>
              <path d="M 40,976 L 168,976" fill="none" stroke="black"></path>
              <path d="M 32,1104 L 160,1104" fill="none" stroke="black"></path>
              <path d="M 40,1248 L 168,1248" fill="none" stroke="black"></path>
              <path d="M 32,1440 L 184,1440" fill="none" stroke="black"></path>
              <path d="M 40,1584 L 192,1584" fill="none" stroke="black"></path>
              <path d="M 32,1712 L 184,1712" fill="none" stroke="black"></path>
              <path d="M 40,1856 L 192,1856" fill="none" stroke="black"></path>
              <path d="M 32,2048 L 208,2048" fill="none" stroke="black"></path>
              <path d="M 40,2192 L 216,2192" fill="none" stroke="black"></path>
              <path d="M 32,2320 L 208,2320" fill="none" stroke="black"></path>
              <path d="M 40,2464 L 216,2464" fill="none" stroke="black"></path>
              <path d="M 96,80 L 128,144" fill="none" stroke="black"></path>
              <polygon class="arrowhead" points="216,2320 204,2314.4 204,2325.6" fill="black" transform="rotate(0,208,2320)"></polygon>
              <polygon class="arrowhead" points="216,2048 204,2042.4 204,2053.6" fill="black" transform="rotate(0,208,2048)"></polygon>
              <polygon class="arrowhead" points="216,144 204,138.4 204,149.6" fill="black" transform="rotate(0,208,144)"></polygon>
              <polygon class="arrowhead" points="192,1712 180,1706.4 180,1717.6" fill="black" transform="rotate(0,184,1712)"></polygon>
              <polygon class="arrowhead" points="192,1440 180,1434.4 180,1445.6" fill="black" transform="rotate(0,184,1440)"></polygon>
              <polygon class="arrowhead" points="192,112 180,106.4 180,117.6" fill="black" transform="rotate(0,184,112)"></polygon>
              <polygon class="arrowhead" points="168,1104 156,1098.4 156,1109.6" fill="black" transform="rotate(0,160,1104)"></polygon>
              <polygon class="arrowhead" points="168,832 156,826.4 156,837.6" fill="black" transform="rotate(0,160,832)"></polygon>
              <polygon class="arrowhead" points="168,80 156,74.4 156,85.6" fill="black" transform="rotate(0,160,80)"></polygon>
              <polygon class="arrowhead" points="48,2464 36,2458.4 36,2469.6" fill="black" transform="rotate(180,40,2464)"></polygon>
              <polygon class="arrowhead" points="48,2192 36,2186.4 36,2197.6" fill="black" transform="rotate(180,40,2192)"></polygon>
              <polygon class="arrowhead" points="48,1856 36,1850.4 36,1861.6" fill="black" transform="rotate(180,40,1856)"></polygon>
              <polygon class="arrowhead" points="48,1584 36,1578.4 36,1589.6" fill="black" transform="rotate(180,40,1584)"></polygon>
              <polygon class="arrowhead" points="48,1248 36,1242.4 36,1253.6" fill="black" transform="rotate(180,40,1248)"></polygon>
              <polygon class="arrowhead" points="48,976 36,970.4 36,981.6" fill="black" transform="rotate(180,40,976)"></polygon>
              <polygon class="arrowhead" points="48,592 36,586.4 36,597.6" fill="black" transform="rotate(180,40,592)"></polygon>
              <polygon class="arrowhead" points="48,480 36,474.4 36,485.6" fill="black" transform="rotate(180,40,480)"></polygon>
              <polygon class="arrowhead" points="48,368 36,362.4 36,373.6" fill="black" transform="rotate(180,40,368)"></polygon>
              <g class="text">
                <text x="28" y="36">Client</text>
                <text x="168" y="36">A</text>
                <text x="192" y="36">B</text>
                <text x="216" y="36">C</text>
                <text x="64" y="68">GET</text>
                <text x="256" y="84">Source:</text>
                <text x="384" y="84">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="276" y="100">Destination:</text>
                <text x="400" y="100">ADDR_GRP:PORT_GRP</text>
                <text x="256" y="116">Header:</text>
                <text x="304" y="116">GET</text>
                <text x="352" y="116">(T=NON,</text>
                <text x="428" y="116">Code=0.01,</text>
                <text x="520" y="116">MID=0x7d41)</text>
                <text x="168" y="132">|</text>
                <text x="252" y="132">Token:</text>
                <text x="300" y="132">0x86</text>
                <text x="264" y="148">Uri-Path:</text>
                <text x="324" y="148">"gp"</text>
                <text x="264" y="164">Uri-Path:</text>
                <text x="328" y="164">"gp1"</text>
                <text x="264" y="180">Uri-Path:</text>
                <text x="328" y="180">"log"</text>
                <text x="256" y="196">Block2:</text>
                <text x="316" y="196">0/0/64</text>
                <text x="40" y="244">All</text>
                <text x="88" y="244">servers</text>
                <text x="144" y="244">reply</text>
                <text x="188" y="244">with</text>
                <text x="216" y="244">a</text>
                <text x="244" y="244">2.05</text>
                <text x="304" y="244">(Content)</text>
                <text x="380" y="244">response</text>
                <text x="456" y="244">including</text>
                <text x="512" y="244">the</text>
                <text x="552" y="244">first</text>
                <text x="52" y="260">block.</text>
                <text x="36" y="292">As</text>
                <text x="76" y="292">source</text>
                <text x="124" y="292">port</text>
                <text x="172" y="292">number</text>
                <text x="212" y="292">of</text>
                <text x="240" y="292">its</text>
                <text x="296" y="292">response,</text>
                <text x="356" y="292">each</text>
                <text x="404" y="292">server</text>
                <text x="452" y="292">uses</text>
                <text x="488" y="292">its</text>
                <text x="520" y="292">own</text>
                <text x="556" y="292">port</text>
                <text x="56" y="308">number.</text>
                <text x="256" y="372">Source:</text>
                <text x="344" y="372">ADDR_A:PORT_A</text>
                <text x="132" y="388">2.05</text>
                <text x="276" y="388">Destination:</text>
                <text x="424" y="388">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="404">Header:</text>
                <text x="308" y="404">2.05</text>
                <text x="360" y="404">(T=NON,</text>
                <text x="436" y="404">Code=2.05,</text>
                <text x="528" y="404">MID=0x60b1)</text>
                <text x="252" y="420">Token:</text>
                <text x="300" y="420">0x86</text>
                <text x="256" y="436">Block2:</text>
                <text x="316" y="436">0/1/64</text>
                <text x="260" y="452">Payload:</text>
                <text x="324" y="452">0x0a00</text>
                <text x="368" y="452">...</text>
                <text x="256" y="484">Source:</text>
                <text x="344" y="484">ADDR_B:PORT_B</text>
                <text x="132" y="500">2.05</text>
                <text x="276" y="500">Destination:</text>
                <text x="424" y="500">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="516">Header:</text>
                <text x="308" y="516">2.05</text>
                <text x="360" y="516">(T=NON,</text>
                <text x="436" y="516">Code=2.05,</text>
                <text x="528" y="516">MID=0x01a0)</text>
                <text x="252" y="532">Token:</text>
                <text x="300" y="532">0x86</text>
                <text x="256" y="548">Block2:</text>
                <text x="316" y="548">0/1/64</text>
                <text x="260" y="564">Payload:</text>
                <text x="324" y="564">0x0b00</text>
                <text x="368" y="564">...</text>
                <text x="256" y="596">Source:</text>
                <text x="344" y="596">ADDR_C:PORT_C</text>
                <text x="132" y="612">2.05</text>
                <text x="276" y="612">Destination:</text>
                <text x="424" y="612">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="628">Header:</text>
                <text x="308" y="628">2.05</text>
                <text x="360" y="628">(T=NON,</text>
                <text x="436" y="628">Code=4.04,</text>
                <text x="528" y="628">MID=0x952a)</text>
                <text x="252" y="644">Token:</text>
                <text x="300" y="644">0x86</text>
                <text x="256" y="660">Block2:</text>
                <text x="316" y="660">0/1/64</text>
                <text x="260" y="676">Payload:</text>
                <text x="324" y="676">0x0c00</text>
                <text x="368" y="676">...</text>
                <text x="48" y="724">After</text>
                <text x="112" y="724">obtaining</text>
                <text x="168" y="724">the</text>
                <text x="208" y="724">first</text>
                <text x="260" y="724">block,</text>
                <text x="304" y="724">the</text>
                <text x="348" y="724">client</text>
                <text x="412" y="724">requests</text>
                <text x="464" y="724">the</text>
                <text x="520" y="724">following</text>
                <text x="52" y="740">blocks</text>
                <text x="124" y="740">separately</text>
                <text x="188" y="740">from</text>
                <text x="228" y="740">each</text>
                <text x="280" y="740">server,</text>
                <text x="324" y="740">by</text>
                <text x="360" y="740">means</text>
                <text x="396" y="740">of</text>
                <text x="440" y="740">unicast</text>
                <text x="516" y="740">exchanges.</text>
                <text x="40" y="772">The</text>
                <text x="84" y="772">client</text>
                <text x="148" y="772">requests</text>
                <text x="200" y="772">the</text>
                <text x="256" y="772">following</text>
                <text x="324" y="772">blocks</text>
                <text x="372" y="772">from</text>
                <text x="420" y="772">server</text>
                <text x="460" y="772">A.</text>
                <text x="64" y="820">GET</text>
                <text x="256" y="836">Source:</text>
                <text x="384" y="836">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="276" y="852">Destination:</text>
                <text x="384" y="852">ADDR_A:PORT_A</text>
                <text x="256" y="868">Header:</text>
                <text x="304" y="868">GET</text>
                <text x="352" y="868">(T=CON,</text>
                <text x="428" y="868">Code=0.01,</text>
                <text x="520" y="868">MID=0x7d42)</text>
                <text x="252" y="884">Token:</text>
                <text x="300" y="884">0xa6</text>
                <text x="264" y="900">Uri-Path:</text>
                <text x="324" y="900">"gp"</text>
                <text x="264" y="916">Uri-Path:</text>
                <text x="328" y="916">"gp1"</text>
                <text x="264" y="932">Uri-Path:</text>
                <text x="328" y="932">"log"</text>
                <text x="256" y="948">Block2:</text>
                <text x="316" y="948">1/0/64</text>
                <text x="256" y="980">Source:</text>
                <text x="344" y="980">ADDR_A:PORT_A</text>
                <text x="132" y="996">2.05</text>
                <text x="276" y="996">Destination:</text>
                <text x="424" y="996">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="1012">Header:</text>
                <text x="308" y="1012">2.05</text>
                <text x="360" y="1012">(T=ACK,</text>
                <text x="436" y="1012">Code=2.05,</text>
                <text x="528" y="1012">MID=0x7d42)</text>
                <text x="252" y="1028">Token:</text>
                <text x="300" y="1028">0xa6</text>
                <text x="256" y="1044">Block2:</text>
                <text x="316" y="1044">1/1/64</text>
                <text x="260" y="1060">Payload:</text>
                <text x="324" y="1060">0x0a01</text>
                <text x="368" y="1060">...</text>
                <text x="64" y="1092">GET</text>
                <text x="256" y="1108">Source:</text>
                <text x="384" y="1108">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="276" y="1124">Destination:</text>
                <text x="384" y="1124">ADDR_A:PORT_A</text>
                <text x="256" y="1140">Header:</text>
                <text x="304" y="1140">GET</text>
                <text x="352" y="1140">(T=CON,</text>
                <text x="428" y="1140">Code=0.01,</text>
                <text x="520" y="1140">MID=0x7d43)</text>
                <text x="252" y="1156">Token:</text>
                <text x="300" y="1156">0xa7</text>
                <text x="264" y="1172">Uri-Path:</text>
                <text x="324" y="1172">"gp"</text>
                <text x="264" y="1188">Uri-Path:</text>
                <text x="328" y="1188">"gp1"</text>
                <text x="264" y="1204">Uri-Path:</text>
                <text x="328" y="1204">"log"</text>
                <text x="256" y="1220">Block2:</text>
                <text x="316" y="1220">2/0/64</text>
                <text x="256" y="1252">Source:</text>
                <text x="344" y="1252">ADDR_A:PORT_A</text>
                <text x="132" y="1268">2.05</text>
                <text x="276" y="1268">Destination:</text>
                <text x="424" y="1268">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="1284">Header:</text>
                <text x="308" y="1284">2.05</text>
                <text x="360" y="1284">(T=ACK,</text>
                <text x="436" y="1284">Code=2.05,</text>
                <text x="528" y="1284">MID=0x7d43)</text>
                <text x="252" y="1300">Token:</text>
                <text x="300" y="1300">0xa7</text>
                <text x="256" y="1316">Block2:</text>
                <text x="316" y="1316">2/0/64</text>
                <text x="260" y="1332">Payload:</text>
                <text x="324" y="1332">0x0a02</text>
                <text x="368" y="1332">...</text>
                <text x="40" y="1380">The</text>
                <text x="84" y="1380">client</text>
                <text x="148" y="1380">requests</text>
                <text x="200" y="1380">the</text>
                <text x="256" y="1380">following</text>
                <text x="324" y="1380">blocks</text>
                <text x="372" y="1380">from</text>
                <text x="420" y="1380">server</text>
                <text x="460" y="1380">B.</text>
                <text x="64" y="1428">GET</text>
                <text x="256" y="1444">Source:</text>
                <text x="384" y="1444">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="276" y="1460">Destination:</text>
                <text x="384" y="1460">ADDR_B:PORT_B</text>
                <text x="256" y="1476">Header:</text>
                <text x="304" y="1476">GET</text>
                <text x="352" y="1476">(T=CON,</text>
                <text x="428" y="1476">Code=0.01,</text>
                <text x="520" y="1476">MID=0x7d44)</text>
                <text x="252" y="1492">Token:</text>
                <text x="300" y="1492">0xb6</text>
                <text x="264" y="1508">Uri-Path:</text>
                <text x="324" y="1508">"gp"</text>
                <text x="264" y="1524">Uri-Path:</text>
                <text x="328" y="1524">"gp1"</text>
                <text x="264" y="1540">Uri-Path:</text>
                <text x="328" y="1540">"log"</text>
                <text x="256" y="1556">Block2:</text>
                <text x="316" y="1556">1/0/64</text>
                <text x="256" y="1588">Source:</text>
                <text x="344" y="1588">ADDR_B:PORT_B</text>
                <text x="132" y="1604">2.05</text>
                <text x="276" y="1604">Destination:</text>
                <text x="424" y="1604">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="1620">Header:</text>
                <text x="308" y="1620">2.05</text>
                <text x="360" y="1620">(T=ACK,</text>
                <text x="436" y="1620">Code=2.05,</text>
                <text x="528" y="1620">MID=0x7d44)</text>
                <text x="252" y="1636">Token:</text>
                <text x="300" y="1636">0xb6</text>
                <text x="256" y="1652">Block2:</text>
                <text x="316" y="1652">1/1/64</text>
                <text x="260" y="1668">Payload:</text>
                <text x="324" y="1668">0x0b01</text>
                <text x="368" y="1668">...</text>
                <text x="64" y="1700">GET</text>
                <text x="256" y="1716">Source:</text>
                <text x="384" y="1716">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="276" y="1732">Destination:</text>
                <text x="384" y="1732">ADDR_C:PORT_B</text>
                <text x="256" y="1748">Header:</text>
                <text x="304" y="1748">GET</text>
                <text x="352" y="1748">(T=CON,</text>
                <text x="428" y="1748">Code=0.01,</text>
                <text x="520" y="1748">MID=0x7d45)</text>
                <text x="252" y="1764">Token:</text>
                <text x="300" y="1764">0xb7</text>
                <text x="264" y="1780">Uri-Path:</text>
                <text x="324" y="1780">"gp"</text>
                <text x="264" y="1796">Uri-Path:</text>
                <text x="328" y="1796">"gp1"</text>
                <text x="264" y="1812">Uri-Path:</text>
                <text x="328" y="1812">"log"</text>
                <text x="256" y="1828">Block2:</text>
                <text x="316" y="1828">2/0/64</text>
                <text x="256" y="1860">Source:</text>
                <text x="344" y="1860">ADDR_B:PORT_B</text>
                <text x="132" y="1876">2.05</text>
                <text x="276" y="1876">Destination:</text>
                <text x="424" y="1876">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="1892">Header:</text>
                <text x="308" y="1892">2.05</text>
                <text x="360" y="1892">(T=ACK,</text>
                <text x="436" y="1892">Code=2.05,</text>
                <text x="528" y="1892">MID=0x7d45)</text>
                <text x="252" y="1908">Token:</text>
                <text x="300" y="1908">0xb7</text>
                <text x="256" y="1924">Block2:</text>
                <text x="316" y="1924">2/0/64</text>
                <text x="260" y="1940">Payload:</text>
                <text x="324" y="1940">0x0b02</text>
                <text x="368" y="1940">...</text>
                <text x="40" y="1988">The</text>
                <text x="84" y="1988">client</text>
                <text x="148" y="1988">requests</text>
                <text x="200" y="1988">the</text>
                <text x="256" y="1988">following</text>
                <text x="324" y="1988">blocks</text>
                <text x="372" y="1988">from</text>
                <text x="420" y="1988">server</text>
                <text x="460" y="1988">C.</text>
                <text x="64" y="2036">GET</text>
                <text x="256" y="2052">Source:</text>
                <text x="384" y="2052">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="276" y="2068">Destination:</text>
                <text x="384" y="2068">ADDR_C:PORT_C</text>
                <text x="256" y="2084">Header:</text>
                <text x="304" y="2084">GET</text>
                <text x="352" y="2084">(T=CON,</text>
                <text x="428" y="2084">Code=0.01,</text>
                <text x="520" y="2084">MID=0x7d46)</text>
                <text x="252" y="2100">Token:</text>
                <text x="300" y="2100">0xc6</text>
                <text x="264" y="2116">Uri-Path:</text>
                <text x="324" y="2116">"gp"</text>
                <text x="264" y="2132">Uri-Path:</text>
                <text x="328" y="2132">"gp1"</text>
                <text x="264" y="2148">Uri-Path:</text>
                <text x="328" y="2148">"log"</text>
                <text x="256" y="2164">Block2:</text>
                <text x="316" y="2164">1/0/64</text>
                <text x="256" y="2196">Source:</text>
                <text x="344" y="2196">ADDR_C:PORT_C</text>
                <text x="132" y="2212">2.05</text>
                <text x="276" y="2212">Destination:</text>
                <text x="424" y="2212">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="2228">Header:</text>
                <text x="308" y="2228">2.05</text>
                <text x="360" y="2228">(T=ACK,</text>
                <text x="436" y="2228">Code=2.05,</text>
                <text x="528" y="2228">MID=0x7d46)</text>
                <text x="252" y="2244">Token:</text>
                <text x="300" y="2244">0xc6</text>
                <text x="256" y="2260">Block2:</text>
                <text x="316" y="2260">1/1/64</text>
                <text x="260" y="2276">Payload:</text>
                <text x="324" y="2276">0x0c01</text>
                <text x="368" y="2276">...</text>
                <text x="64" y="2308">GET</text>
                <text x="256" y="2324">Source:</text>
                <text x="384" y="2324">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="276" y="2340">Destination:</text>
                <text x="384" y="2340">ADDR_C:PORT_C</text>
                <text x="256" y="2356">Header:</text>
                <text x="304" y="2356">GET</text>
                <text x="352" y="2356">(T=CON,</text>
                <text x="428" y="2356">Code=0.01,</text>
                <text x="520" y="2356">MID=0x7d47)</text>
                <text x="252" y="2372">Token:</text>
                <text x="300" y="2372">0xc7</text>
                <text x="264" y="2388">Uri-Path:</text>
                <text x="324" y="2388">"gp"</text>
                <text x="264" y="2404">Uri-Path:</text>
                <text x="328" y="2404">"gp1"</text>
                <text x="264" y="2420">Uri-Path:</text>
                <text x="328" y="2420">"log"</text>
                <text x="256" y="2436">Block2:</text>
                <text x="316" y="2436">2/0/64</text>
                <text x="256" y="2468">Source:</text>
                <text x="344" y="2468">ADDR_C:PORT_C</text>
                <text x="132" y="2484">2.05</text>
                <text x="276" y="2484">Destination:</text>
                <text x="424" y="2484">ADDR_CLIENT:PORT_CLIENT</text>
                <text x="256" y="2500">Header:</text>
                <text x="308" y="2500">2.05</text>
                <text x="360" y="2500">(T=ACK,</text>
                <text x="436" y="2500">Code=2.05,</text>
                <text x="528" y="2500">MID=0x7d47)</text>
                <text x="252" y="2516">Token:</text>
                <text x="300" y="2516">0xc7</text>
                <text x="256" y="2532">Block2:</text>
                <text x="316" y="2532">2/0/64</text>
                <text x="260" y="2548">Payload:</text>
                <text x="324" y="2548">0x0c02</text>
                <text x="368" y="2548">...</text>
              </g>
            </svg><a href="#appendix-D-8.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-22" class="selfRef">Figure 22</a>:
<a href="#name-example-of-non-confirmable-g" class="selfRef">Example of Non-confirmable group request starting a blockwise transfer, followed by Non-confirmable Responses with the first block. The transfer continues over confirmable unicast exchanges</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="sec-issues-forward-proxies">
<section id="appendix-E">
      <h2 id="name-issues-and-limitations-with">
<a href="#appendix-E" class="section-number selfRef">Appendix E. </a><a href="#name-issues-and-limitations-with" class="section-name selfRef">Issues and Limitations with Forward-Proxies</a>
      </h2>
<p id="appendix-E-1"><a href="#sec-proxy-forward" class="auto internal xref">Section 3.5.1</a> defines how a forward-proxy sends (e.g., multicasts) a CoAP group request to the group URI specified in the request from the client. After that, the proxy receives the responses and forwards all the individual (unicast) responses back to the client.<a href="#appendix-E-1" class="pilcrow">¶</a></p>
<p id="appendix-E-2">However, there are certain issues and limitations with this approach:<a href="#appendix-E-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-E-3.1">
          <p id="appendix-E-3.1.1">The CoAP client component that has sent the unicast CoAP group request to the proxy may be expecting only one (unicast) response, as usual for a CoAP unicast request. Instead, it receives multiple (unicast) responses, potentially leading to fault conditions in the component or to discarding any received responses following the first one. This issue may occur even if the application calling the CoAP client component is aware that the forward-proxy is going to forward the CoAP group request to the group URI.<a href="#appendix-E-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-E-3.2">
          <p id="appendix-E-3.2.1">Each individual CoAP response received by the client will appear to originate (based on its IP source address) from the CoAP proxy, and not from the server that produced the response. This makes it impossible for the client to identify the server that produced each response, unless the server identity is contained as a part of the response payload or inside a CoAP option in the response.<a href="#appendix-E-3.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-E-3.3">
          <p id="appendix-E-3.3.1">Unlike a CoAP client, the proxy is likely to lack "application context". In particular, the proxy is not expected to know how many members there are in the CoAP group (not even the order of magnitude), how many members of that group will actually respond, or the minimal amount/percentage of those that will respond.<a href="#appendix-E-3.3.1" class="pilcrow">¶</a></p>
<p id="appendix-E-3.3.2">
Therefore, while still capable of forwarding the group request to the CoAP group and the corresponding responses to the client, the proxy does not know and cannot reliably determine for how long to collect responses, before it stops forwarding them to the client.<a href="#appendix-E-3.3.2" class="pilcrow">¶</a></p>
<p id="appendix-E-3.3.3">
In principle, a CoAP client that is not using a proxy might face the same problems in collecting responses to a group request. However, unlike a CoAP proxy, the client itself would typically have application-specific rules or knowledge on how to handle this situation. For example, a CoAP client could monitor incoming responses and use this information to decide for how long to continue collecting responses<a href="#appendix-E-3.3.3" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-E-4">An alternative solution is for the proxy to collect all the individual (unicast) responses to a CoAP group request and then send back only a single (aggregated) response to the client. However, this solution brings up new issues:<a href="#appendix-E-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-E-5.1">
          <p id="appendix-E-5.1.1">Like for the approach discussed above, the proxy does not know for how long to collect responses before sending back the aggregated response to the client. Analogous considerations apply to this approach too, both on the client and proxy side.<a href="#appendix-E-5.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-E-5.2">
          <p id="appendix-E-5.2.1">There is no default format defined in CoAP for aggregation of multiple responses into a single response. Such a format could be standardized based on, for example, the multipart Content-Format <span>[<a href="#RFC8710" class="cite xref">RFC8710</a>]</span>.<a href="#appendix-E-5.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-E-6">Finally, <a href="#sec-proxy-forward" class="auto internal xref">Section 3.5.1</a> refers to <span>[<a href="#RFC8075" class="cite xref">RFC8075</a>]</span> for the operation of HTTP-to-CoAP proxies for multicast CoAP requests. This relies on the "application/http" media type to let the proxy return multiple CoAP responses -- each translated to an HTTP response -- back to the HTTP client. Of course, in this case the HTTP client sending a group URI to the proxy needs to be aware that it is going to receive this format, and needs to be able to decode it into the responses of multiple CoAP servers. Also, the IP source address of each CoAP response cannot be determined anymore from the "application/http" response. The HTTP client may still be able to identify the CoAP servers by other means such as application-specific information in the response payload.<a href="#appendix-E-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-issues-reverse-proxies">
<section id="appendix-F">
      <h2 id="name-issues-and-limitations-with-">
<a href="#appendix-F" class="section-number selfRef">Appendix F. </a><a href="#name-issues-and-limitations-with-" class="section-name selfRef">Issues and Limitations with Reverse-Proxies</a>
      </h2>
<p id="appendix-F-1"><a href="#sec-proxy-reverse" class="auto internal xref">Section 3.5.2</a> defines how a reverse-proxy sends a group request to servers in a CoAP group, over a one-to-many transport such as IP/UDP multicast. This results in certain issues and limitations:<a href="#appendix-F-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-F-2.1">
          <p id="appendix-F-2.1.1">The three issues and limitations defined in <a href="#sec-proxy-forward" class="auto internal xref">Section 3.5.1</a> for a forward proxy apply to a reverse-proxy as well.<a href="#appendix-F-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-F-2.2">
          <p id="appendix-F-2.2.1">A reverse-proxy may have preconfigured time duration(s) that are used for collecting server responses and forwarding these back to the client. These duration(s) may be set as global configuration or as resource-specific configurations. If there is such preconfiguration, then an explicit signaling of the time period in the client's request as defined in <span>[<a href="#I-D.ietf-core-groupcomm-proxy" class="cite xref">I-D.ietf-core-groupcomm-proxy</a>]</span> is not necessarily needed. Note that a reverse-proxy is in an explicit relationship with the origin servers it stands in for. Thus, compared to a forward-proxy, it has a much better basis for determining and configuring such time durations.<a href="#appendix-F-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-F-2.3">
          <p id="appendix-F-2.3.1">A client that is configured to access a reverse-proxy resource (i.e., one that triggers a CoAP group communication request) should be configured also to handle potentially multiple responses with the same Token value caused by a single request.<a href="#appendix-F-2.3.1" class="pilcrow">¶</a></p>
<p id="appendix-F-2.3.2">
That is, the client needs to preserve the Token value used for the request also after the reception of the first response forwarded back by the proxy (see <a href="#sec-request-response-multi" class="auto internal xref">Section 3.1.6</a>) and keep the request open to potential further responses with this Token. This requirement can be met by a combination of client implementation and proper proxied group communication configuration on the client.<a href="#appendix-F-2.3.2" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="sec-document-updates">
<section id="appendix-G">
      <h2 id="name-document-updates">
<a href="#appendix-G" class="section-number selfRef">Appendix G. </a><a href="#name-document-updates" class="section-name selfRef">Document Updates</a>
      </h2>
<p id="appendix-G-1">This section is to be removed before publishing as an RFC.<a href="#appendix-G-1" class="pilcrow">¶</a></p>
<div id="sec-13-14">
<section id="appendix-G.1">
        <h3 id="name-version-13-to-14">
<a href="#appendix-G.1" class="section-number selfRef">G.1. </a><a href="#name-version-13-to-14" class="section-name selfRef">Version -13 to -14</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.1-1.1">
            <p id="appendix-G.1-1.1.1">More context information in the abstract and introduction.<a href="#appendix-G.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.1-1.2">
            <p id="appendix-G.1-1.2.1">Imported examples from RFC 7390 into Appendix A "Use Cases".<a href="#appendix-G.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.1-1.3">
            <p id="appendix-G.1-1.3.1">Early mentioning Group OSCORE and source authentication of messages.<a href="#appendix-G.1-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.1-1.4">
            <p id="appendix-G.1-1.4.1">Updated references.<a href="#appendix-G.1-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.1-1.5">
            <p id="appendix-G.1-1.5.1">Minor fixes and editorial improvements.<a href="#appendix-G.1-1.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-12-13">
<section id="appendix-G.2">
        <h3 id="name-version-12-to-13">
<a href="#appendix-G.2" class="section-number selfRef">G.2. </a><a href="#name-version-12-to-13" class="section-name selfRef">Version -12 to -13</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.2-1.1">
            <p id="appendix-G.2-1.1.1">Updated author list.<a href="#appendix-G.2-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.2">
            <p id="appendix-G.2-1.2.1">Registering Resource Type values is not strictly required.<a href="#appendix-G.2-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.3">
            <p id="appendix-G.2-1.3.1">Highlighted what is used simply as an example.<a href="#appendix-G.2-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.4">
            <p id="appendix-G.2-1.4.1">Added further alternative to follow-up with group requests using the Block2 Option.<a href="#appendix-G.2-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.5">
            <p id="appendix-G.2-1.5.1">Justified importance of possibly repeating requests.<a href="#appendix-G.2-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.6">
            <p id="appendix-G.2-1.6.1">Explicitly mentioned Observe as a reason for follow-on responses.<a href="#appendix-G.2-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.7">
            <p id="appendix-G.2-1.7.1">Recommended use of a mitigation against abuses of the No-Response Option.<a href="#appendix-G.2-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.8">
            <p id="appendix-G.2-1.8.1">Described the use of the Echo option like done in draft-ietf-core-oscore-groupcomm.<a href="#appendix-G.2-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.9">
            <p id="appendix-G.2-1.9.1">Clarified possible use of CoAP over reliable transports.<a href="#appendix-G.2-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.10">
            <p id="appendix-G.2-1.10.1">Given more context around prioritized packet forwarding in 6LoWPAN.<a href="#appendix-G.2-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.11">
            <p id="appendix-G.2-1.11.1">Expanded considerations about replayed group requests.<a href="#appendix-G.2-1.11.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.2-1.12">
            <p id="appendix-G.2-1.12.1">Clarifications and editorial improvements.<a href="#appendix-G.2-1.12.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-11-12">
<section id="appendix-G.3">
        <h3 id="name-version-11-to-12">
<a href="#appendix-G.3" class="section-number selfRef">G.3. </a><a href="#name-version-11-to-12" class="section-name selfRef">Version -11 to -12</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.3-1.1">
            <p id="appendix-G.3-1.1.1">Clarified how a group name can be included in a URI path for reverse proxies; removed reference to URI templates for reverse proxies.<a href="#appendix-G.3-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.2">
            <p id="appendix-G.3-1.2.1">Clarified the issue of identical ETags from multiple servers and added strategies to cope with this. Removed recommendation to not use such duplicate ETags.<a href="#appendix-G.3-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.3">
            <p id="appendix-G.3-1.3.1">Simplified section on application group naming using URI authority and corresponding appendix examples; declaring new Option solution out of scope.<a href="#appendix-G.3-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.4">
            <p id="appendix-G.3-1.4.1">Added application group resource URI path(s) in Figure 1.<a href="#appendix-G.3-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.5">
            <p id="appendix-G.3-1.5.1">Clarified outcome of the RFC 7390 experiment on group membership configuration protocol.<a href="#appendix-G.3-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.6">
            <p id="appendix-G.3-1.6.1">Clarified that rt=g.&lt;GROUPTYPE&gt; is used just as an example.<a href="#appendix-G.3-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.7">
            <p id="appendix-G.3-1.7.1">Made RFC 7967 a normative reference.<a href="#appendix-G.3-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.8">
            <p id="appendix-G.3-1.8.1">Generalized resending of a group request with different Message ID.<a href="#appendix-G.3-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.9">
            <p id="appendix-G.3-1.9.1">Switched <span class="bcp14">SHOULD</span> to <span class="bcp14">MAY</span> on changing port number from group request to response.<a href="#appendix-G.3-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.10">
            <p id="appendix-G.3-1.10.1">Further generalized the handling of multiple responses from the same server to the same request.<a href="#appendix-G.3-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.11">
            <p id="appendix-G.3-1.11.1">Clarifications on response suppression.<a href="#appendix-G.3-1.11.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.12">
            <p id="appendix-G.3-1.12.1">Issues and limitations with Forward-Proxies compiled in an appendix.<a href="#appendix-G.3-1.12.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.13">
            <p id="appendix-G.3-1.13.1">Issues and limitations with Reverse-Proxies compiled in an appendix.<a href="#appendix-G.3-1.13.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.14">
            <p id="appendix-G.3-1.14.1">Mentioned PROBING_RATE as a means to enforce congestion control.<a href="#appendix-G.3-1.14.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.15">
            <p id="appendix-G.3-1.15.1">Consideration on how eventual consistency from Observe compensates for lost notifications.<a href="#appendix-G.3-1.15.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.16">
            <p id="appendix-G.3-1.16.1">Admitted resource retrieval through consecutive group requests with the Block2 Option.<a href="#appendix-G.3-1.16.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.17">
            <p id="appendix-G.3-1.17.1">Clarified relationship with TCP/TLS/WebSockets.<a href="#appendix-G.3-1.17.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.18">
            <p id="appendix-G.3-1.18.1">Clarified security on the different legs with a proxy.<a href="#appendix-G.3-1.18.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.3-1.19">
            <p id="appendix-G.3-1.19.1">Editorial improvements.<a href="#appendix-G.3-1.19.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-10-11">
<section id="appendix-G.4">
        <h3 id="name-version-10-to-11">
<a href="#appendix-G.4" class="section-number selfRef">G.4. </a><a href="#name-version-10-to-11" class="section-name selfRef">Version -10 to -11</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.4-1.1">
            <p id="appendix-G.4-1.1.1">Updated references.<a href="#appendix-G.4-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.4-1.2">
            <p id="appendix-G.4-1.2.1">Editorial improvements.<a href="#appendix-G.4-1.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-09-10">
<section id="appendix-G.5">
        <h3 id="name-version-09-to-10">
<a href="#appendix-G.5" class="section-number selfRef">G.5. </a><a href="#name-version-09-to-10" class="section-name selfRef">Version -09 to -10</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.5-1.1">
            <p id="appendix-G.5-1.1.1">Clarified use of NoSec for 'early discovery' and refer to cBRSKI.<a href="#appendix-G.5-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.2">
            <p id="appendix-G.5-1.2.1">Clarified mandatory vs optional elements in CoAP group and CoAP group URI.<a href="#appendix-G.5-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.3">
            <p id="appendix-G.5-1.3.1">Replaced "GROUPNAME" with "APPNAME".<a href="#appendix-G.5-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.4">
            <p id="appendix-G.5-1.4.1">Explicitly mentioning of the type of group (CoAP/application/security).<a href="#appendix-G.5-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.5">
            <p id="appendix-G.5-1.5.1">Use of .example for example hostnames.<a href="#appendix-G.5-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.6">
            <p id="appendix-G.5-1.6.1">The name of a security group is not necessarily a string.<a href="#appendix-G.5-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.7">
            <p id="appendix-G.5-1.7.1">Changed "has to" to "should" for enforcing access control based on membership to security groups.<a href="#appendix-G.5-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.8">
            <p id="appendix-G.5-1.8.1">Used normative language for policies about group rekeying.<a href="#appendix-G.5-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.9">
            <p id="appendix-G.5-1.9.1">Further stressed that group communication ought to be secured.<a href="#appendix-G.5-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.10">
            <p id="appendix-G.5-1.10.1">Avoid calling applications as "(non-)sensitive" and "(non-)critical".<a href="#appendix-G.5-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.11">
            <p id="appendix-G.5-1.11.1">Clarification on source authentication, source addresses, and Echo Option.<a href="#appendix-G.5-1.11.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.5-1.12">
            <p id="appendix-G.5-1.12.1">Editorial fixes and improvements.<a href="#appendix-G.5-1.12.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-08-09">
<section id="appendix-G.6">
        <h3 id="name-version-08-to-09">
<a href="#appendix-G.6" class="section-number selfRef">G.6. </a><a href="#name-version-08-to-09" class="section-name selfRef">Version -08 to -09</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.6-1.1">
            <p id="appendix-G.6-1.1.1">Multiple responses in long exchanges are non-traditional responses.<a href="#appendix-G.6-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.6-1.2">
            <p id="appendix-G.6-1.2.1">Updated references.<a href="#appendix-G.6-1.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-07-08">
<section id="appendix-G.7">
        <h3 id="name-version-07-to-08">
<a href="#appendix-G.7" class="section-number selfRef">G.7. </a><a href="#name-version-07-to-08" class="section-name selfRef">Version -07 to -08</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.7-1.1">
            <p id="appendix-G.7-1.1.1">Updated references.<a href="#appendix-G.7-1.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-06-07">
<section id="appendix-G.8">
        <h3 id="name-version-06-to-07">
<a href="#appendix-G.8" class="section-number selfRef">G.8. </a><a href="#name-version-06-to-07" class="section-name selfRef">Version -06 to -07</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.8-1.1">
            <p id="appendix-G.8-1.1.1">Updated list of changes to other documents.<a href="#appendix-G.8-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.2">
            <p id="appendix-G.8-1.2.1">Added real-life context and clarifications to examples.<a href="#appendix-G.8-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.3">
            <p id="appendix-G.8-1.3.1">Clarified aliasing of CoAP group names.<a href="#appendix-G.8-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.4">
            <p id="appendix-G.8-1.4.1">Clarified use of security group names.<a href="#appendix-G.8-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.5">
            <p id="appendix-G.8-1.5.1">Clarified response suppression.<a href="#appendix-G.8-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.6">
            <p id="appendix-G.8-1.6.1">Clarified response revalidation.<a href="#appendix-G.8-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.7">
            <p id="appendix-G.8-1.7.1">Clarified limitations and peculiarities when using proxies.<a href="#appendix-G.8-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.8">
            <p id="appendix-G.8-1.8.1">Discussed the case of group request sent to multiple proxies at once.<a href="#appendix-G.8-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.9">
            <p id="appendix-G.8-1.9.1">Discussed limited use of reliable transports with block-wise transfer.<a href="#appendix-G.8-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.10">
            <p id="appendix-G.8-1.10.1">Revised text on joining CoAP groups and multicast routing.<a href="#appendix-G.8-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.11">
            <p id="appendix-G.8-1.11.1">Clarified use/avoidance of the CoAP NoSec mode.<a href="#appendix-G.8-1.11.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.12">
            <p id="appendix-G.8-1.12.1">Moved examples of application group naming and group discovery to appendix sections.<a href="#appendix-G.8-1.12.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.13">
            <p id="appendix-G.8-1.13.1">Revised list of references.<a href="#appendix-G.8-1.13.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.14">
            <p id="appendix-G.8-1.14.1">Updated list of implementations supporting group communication.<a href="#appendix-G.8-1.14.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.8-1.15">
            <p id="appendix-G.8-1.15.1">Editorial improvements.<a href="#appendix-G.8-1.15.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-05-06">
<section id="appendix-G.9">
        <h3 id="name-version-05-to-06">
<a href="#appendix-G.9" class="section-number selfRef">G.9. </a><a href="#name-version-05-to-06" class="section-name selfRef">Version -05 to -06</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.9-1.1">
            <p id="appendix-G.9-1.1.1">Harmonized use of "group URI".<a href="#appendix-G.9-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.9-1.2">
            <p id="appendix-G.9-1.2.1">Clarifications about different group types.<a href="#appendix-G.9-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.9-1.3">
            <p id="appendix-G.9-1.3.1">Revised methods to perform group naming.<a href="#appendix-G.9-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.9-1.4">
            <p id="appendix-G.9-1.4.1">Revised methods to discover application groups and CoAP groups.<a href="#appendix-G.9-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.9-1.5">
            <p id="appendix-G.9-1.5.1">Explicit difference between "authentication credential" and "public key".<a href="#appendix-G.9-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.9-1.6">
            <p id="appendix-G.9-1.6.1">Added examples of application group naming.<a href="#appendix-G.9-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.9-1.7">
            <p id="appendix-G.9-1.7.1">Added examples of application/CoAP group discovery.<a href="#appendix-G.9-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.9-1.8">
            <p id="appendix-G.9-1.8.1">Added examples of message exchanges.<a href="#appendix-G.9-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.9-1.9">
            <p id="appendix-G.9-1.9.1">Reference to draft-mattsson-core-coap-attacks replaced with reference to draft-mattsson-t2trg-amplification-attacks.<a href="#appendix-G.9-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.9-1.10">
            <p id="appendix-G.9-1.10.1">Editorial improvements.<a href="#appendix-G.9-1.10.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-04-05">
<section id="appendix-G.10">
        <h3 id="name-version-04-to-05">
<a href="#appendix-G.10" class="section-number selfRef">G.10. </a><a href="#name-version-04-to-05" class="section-name selfRef">Version -04 to -05</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.10-1.1">
            <p id="appendix-G.10-1.1.1">Clarified changes to other documents.<a href="#appendix-G.10-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.10-1.2">
            <p id="appendix-G.10-1.2.1">Clarified relationship between different group types.<a href="#appendix-G.10-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.10-1.3">
            <p id="appendix-G.10-1.3.1">Clarified discovery of application groups.<a href="#appendix-G.10-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.10-1.4">
            <p id="appendix-G.10-1.4.1">Discussed methods to express application group names in requests.<a href="#appendix-G.10-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.10-1.5">
            <p id="appendix-G.10-1.5.1">Revised and extended text on the NoSec mode and amplification attacks.<a href="#appendix-G.10-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.10-1.6">
            <p id="appendix-G.10-1.6.1">Rephrased backward/forward security as properties.<a href="#appendix-G.10-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.10-1.7">
            <p id="appendix-G.10-1.7.1">Removed appendix on Multi-ETag Option for response revalidation.<a href="#appendix-G.10-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.10-1.8">
            <p id="appendix-G.10-1.8.1">Editorial improvements.<a href="#appendix-G.10-1.8.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-03-04">
<section id="appendix-G.11">
        <h3 id="name-version-03-to-04">
<a href="#appendix-G.11" class="section-number selfRef">G.11. </a><a href="#name-version-03-to-04" class="section-name selfRef">Version -03 to -04</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.11-1.1">
            <p id="appendix-G.11-1.1.1">Multi-ETag Option for response revalidation moved to appendix.<a href="#appendix-G.11-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.11-1.2">
            <p id="appendix-G.11-1.2.1">ETag Option usage added.<a href="#appendix-G.11-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.11-1.3">
            <p id="appendix-G.11-1.3.1">Q-Block Options added in the block-wise transfer section.<a href="#appendix-G.11-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.11-1.4">
            <p id="appendix-G.11-1.4.1">Caching at proxies moved to draft-tiloca-core-groupcomm-proxy.<a href="#appendix-G.11-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.11-1.5">
            <p id="appendix-G.11-1.5.1">Client-Proxy response revalidation with the Group-ETag Option moved to draft-tiloca-core-groupcomm-proxy.<a href="#appendix-G.11-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.11-1.6">
            <p id="appendix-G.11-1.6.1">Security considerations on amplification attacks.<a href="#appendix-G.11-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.11-1.7">
            <p id="appendix-G.11-1.7.1">Generalized transport protocols to include others than UDP/IP multicast; and security protocols other than Group OSCORE.<a href="#appendix-G.11-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.11-1.8">
            <p id="appendix-G.11-1.8.1">Overview of security cases with proxies.<a href="#appendix-G.11-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.11-1.9">
            <p id="appendix-G.11-1.9.1">Editorial improvements.<a href="#appendix-G.11-1.9.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-02-03">
<section id="appendix-G.12">
        <h3 id="name-version-02-to-03">
<a href="#appendix-G.12" class="section-number selfRef">G.12. </a><a href="#name-version-02-to-03" class="section-name selfRef">Version -02 to -03</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.12-1.1">
            <p id="appendix-G.12-1.1.1">Multiple responses from same server handled at the application.<a href="#appendix-G.12-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.12-1.2">
            <p id="appendix-G.12-1.2.1">Clarifications about issues with forward-proxies.<a href="#appendix-G.12-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.12-1.3">
            <p id="appendix-G.12-1.3.1">Operations for reverse-proxies.<a href="#appendix-G.12-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.12-1.4">
            <p id="appendix-G.12-1.4.1">Caching of responses at proxies.<a href="#appendix-G.12-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.12-1.5">
            <p id="appendix-G.12-1.5.1">Client-Server response revalidation, with Multi-ETag Option.<a href="#appendix-G.12-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.12-1.6">
            <p id="appendix-G.12-1.6.1">Client-Proxy response revalidation, with the Group-ETag Option.<a href="#appendix-G.12-1.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-01-02">
<section id="appendix-G.13">
        <h3 id="name-version-01-to-02">
<a href="#appendix-G.13" class="section-number selfRef">G.13. </a><a href="#name-version-01-to-02" class="section-name selfRef">Version -01 to -02</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.13-1.1">
            <p id="appendix-G.13-1.1.1">Clarified relationship between security groups and application groups.<a href="#appendix-G.13-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.13-1.2">
            <p id="appendix-G.13-1.2.1">Considered also FETCH for requests over IP multicast.<a href="#appendix-G.13-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.13-1.3">
            <p id="appendix-G.13-1.3.1">More details on Observe re-registration.<a href="#appendix-G.13-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.13-1.4">
            <p id="appendix-G.13-1.4.1">More details on Proxy intermediaries.<a href="#appendix-G.13-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.13-1.5">
            <p id="appendix-G.13-1.5.1">More details on servers changing port number in the response.<a href="#appendix-G.13-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.13-1.6">
            <p id="appendix-G.13-1.6.1">Usage of the Uri-Host Option to indicate an application group.<a href="#appendix-G.13-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.13-1.7">
            <p id="appendix-G.13-1.7.1">Response suppression based on classes of error codes.<a href="#appendix-G.13-1.7.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="sec-00-01">
<section id="appendix-G.14">
        <h3 id="name-version-00-to-01">
<a href="#appendix-G.14" class="section-number selfRef">G.14. </a><a href="#name-version-00-to-01" class="section-name selfRef">Version -00 to -01</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-G.14-1.1">
            <p id="appendix-G.14-1.1.1">Clarifications on group memberships for the different group types.<a href="#appendix-G.14-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.14-1.2">
            <p id="appendix-G.14-1.2.1">Simplified description of Token reusage, compared to the unicast case.<a href="#appendix-G.14-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.14-1.3">
            <p id="appendix-G.14-1.3.1">More details on the rationale for response suppression.<a href="#appendix-G.14-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.14-1.4">
            <p id="appendix-G.14-1.4.1">Clarifications of creation and management of security groups.<a href="#appendix-G.14-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.14-1.5">
            <p id="appendix-G.14-1.5.1">Clients more knowledgeable than proxies about stopping receiving responses.<a href="#appendix-G.14-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.14-1.6">
            <p id="appendix-G.14-1.6.1">Cancellation of group observations.<a href="#appendix-G.14-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.14-1.7">
            <p id="appendix-G.14-1.7.1">Clarification on multicast scope to use.<a href="#appendix-G.14-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.14-1.8">
            <p id="appendix-G.14-1.8.1">Both the group mode and pairwise mode of Group OSCORE are considered.<a href="#appendix-G.14-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.14-1.9">
            <p id="appendix-G.14-1.9.1">Updated security considerations.<a href="#appendix-G.14-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-G.14-1.10">
            <p id="appendix-G.14-1.10.1">Editorial improvements.<a href="#appendix-G.14-1.10.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="acknowledgements">
<section id="appendix-H">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-H-1">The authors sincerely thank <span class="contact-name">Christian Amsüss</span>, <span class="contact-name">Mike Bishop</span>, <span class="contact-name">Carsten Bormann</span>, <span class="contact-name">Thomas Fossati</span>, <span class="contact-name">Rikard Höglund</span>, <span class="contact-name">Jaime Jiménez</span>, <span class="contact-name">John Preuß Mattsson</span>, <span class="contact-name">Jim Schaad</span>, <span class="contact-name">Jon Shallow</span>, and <span class="contact-name">Sean Turner</span> for their comments and feedback.<a href="#appendix-H-1" class="pilcrow">¶</a></p>
<p id="appendix-H-2">The work on this document has been partly supported by the Sweden's Innovation Agency VINNOVA and the Celtic-Next projects CRITISEC and CYPRESS; and by the H2020 projects SIFIS-Home (Grant agreement 952652) and ARCADIAN-IoT (Grant agreement 101020259).<a href="#appendix-H-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-I">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Esko Dijk</span></div>
<div dir="auto" class="left"><span class="org">IoTconsultancy.nl</span></div>
<div dir="auto" class="left"><span class="locality">Utrecht</span></div>
<div dir="auto" class="left"><span class="country-name">Netherlands</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:esko.dijk@iotconsultancy.nl" class="email">esko.dijk@iotconsultancy.nl</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Marco Tiloca</span></div>
<div dir="auto" class="left"><span class="org">RISE AB</span></div>
<div dir="auto" class="left"><span class="street-address">Isafjordsgatan 22</span></div>
<div dir="auto" class="left">SE-<span class="postal-code">16440 Stockholm</span> <span class="locality">Kista</span>
</div>
<div dir="auto" class="left"><span class="country-name">Sweden</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:marco.tiloca@ri.se" class="email">marco.tiloca@ri.se</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
